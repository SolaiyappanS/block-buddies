(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function M0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Bf={exports:{}},yl={};var R_;function x0(){if(R_)return yl;R_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(l,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:s,type:l,key:h,ref:o!==void 0?o:null,props:c}}return yl.Fragment=t,yl.jsx=i,yl.jsxs=i,yl}var O_;function L0(){return O_||(O_=1,Bf.exports=x0()),Bf.exports}var R=L0(),jf={exports:{}},W={};var D_;function k0(){if(D_)return W;D_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),S=Symbol.iterator;function k(T){return T===null||typeof T!="object"?null:(T=S&&T[S]||T["@@iterator"],typeof T=="function"?T:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,fe={};function j(T,L,B){this.props=T,this.context=L,this.refs=fe,this.updater=B||U}j.prototype.isReactComponent={},j.prototype.setState=function(T,L){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,L,"setState")},j.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function he(){}he.prototype=j.prototype;function ce(T,L,B){this.props=T,this.context=L,this.refs=fe,this.updater=B||U}var Se=ce.prototype=new he;Se.constructor=ce,Y(Se,j.prototype),Se.isPureReactComponent=!0;var Zt=Array.isArray;function $e(){}var oe={H:null,A:null,T:null,S:null},_t=Object.prototype.hasOwnProperty;function on(T,L,B){var G=B.ref;return{$$typeof:s,type:T,key:L,ref:G!==void 0?G:null,props:B}}function ps(T,L){return on(T.type,L,T.props)}function un(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function yt(T){var L={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(B){return L[B]})}var ki=/\/+/g;function yn(T,L){return typeof T=="object"&&T!==null&&T.key!=null?yt(""+T.key):L.toString(36)}function Jt(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then($e,$e):(T.status="pending",T.then(function(L){T.status==="pending"&&(T.status="fulfilled",T.value=L)},function(L){T.status==="pending"&&(T.status="rejected",T.reason=L)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function I(T,L,B,G,Z){var ne=typeof T;(ne==="undefined"||ne==="boolean")&&(T=null);var _e=!1;if(T===null)_e=!0;else switch(ne){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(T.$$typeof){case s:case t:_e=!0;break;case v:return _e=T._init,I(_e(T._payload),L,B,G,Z)}}if(_e)return Z=Z(T),_e=G===""?"."+yn(T,0):G,Zt(Z)?(B="",_e!=null&&(B=_e.replace(ki,"$&/")+"/"),I(Z,L,B,"",function(Aa){return Aa})):Z!=null&&(un(Z)&&(Z=ps(Z,B+(Z.key==null||T&&T.key===Z.key?"":(""+Z.key).replace(ki,"$&/")+"/")+_e)),L.push(Z)),1;_e=0;var ft=G===""?".":G+":";if(Zt(T))for(var Be=0;Be<T.length;Be++)G=T[Be],ne=ft+yn(G,Be),_e+=I(G,L,B,ne,Z);else if(Be=k(T),typeof Be=="function")for(T=Be.call(T),Be=0;!(G=T.next()).done;)G=G.value,ne=ft+yn(G,Be++),_e+=I(G,L,B,ne,Z);else if(ne==="object"){if(typeof T.then=="function")return I(Jt(T),L,B,G,Z);throw L=String(T),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return _e}function H(T,L,B){if(T==null)return T;var G=[],Z=0;return I(T,G,"","",function(ne){return L.call(B,ne,Z++)}),G}function X(T){if(T._status===-1){var L=T._result;L=L(),L.then(function(B){(T._status===0||T._status===-1)&&(T._status=1,T._result=B)},function(B){(T._status===0||T._status===-1)&&(T._status=2,T._result=B)}),T._status===-1&&(T._status=0,T._result=L)}if(T._status===1)return T._result.default;throw T._result}var be=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},Re={map:H,forEach:function(T,L,B){H(T,function(){L.apply(this,arguments)},B)},count:function(T){var L=0;return H(T,function(){L++}),L},toArray:function(T){return H(T,function(L){return L})||[]},only:function(T){if(!un(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return W.Activity=y,W.Children=Re,W.Component=j,W.Fragment=i,W.Profiler=o,W.PureComponent=ce,W.StrictMode=l,W.Suspense=g,W.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,W.__COMPILER_RUNTIME={__proto__:null,c:function(T){return oe.H.useMemoCache(T)}},W.cache=function(T){return function(){return T.apply(null,arguments)}},W.cacheSignal=function(){return null},W.cloneElement=function(T,L,B){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var G=Y({},T.props),Z=T.key;if(L!=null)for(ne in L.key!==void 0&&(Z=""+L.key),L)!_t.call(L,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&L.ref===void 0||(G[ne]=L[ne]);var ne=arguments.length-2;if(ne===1)G.children=B;else if(1<ne){for(var _e=Array(ne),ft=0;ft<ne;ft++)_e[ft]=arguments[ft+2];G.children=_e}return on(T.type,Z,G)},W.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:c,_context:T},T},W.createElement=function(T,L,B){var G,Z={},ne=null;if(L!=null)for(G in L.key!==void 0&&(ne=""+L.key),L)_t.call(L,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(Z[G]=L[G]);var _e=arguments.length-2;if(_e===1)Z.children=B;else if(1<_e){for(var ft=Array(_e),Be=0;Be<_e;Be++)ft[Be]=arguments[Be+2];Z.children=ft}if(T&&T.defaultProps)for(G in _e=T.defaultProps,_e)Z[G]===void 0&&(Z[G]=_e[G]);return on(T,ne,Z)},W.createRef=function(){return{current:null}},W.forwardRef=function(T){return{$$typeof:m,render:T}},W.isValidElement=un,W.lazy=function(T){return{$$typeof:v,_payload:{_status:-1,_result:T},_init:X}},W.memo=function(T,L){return{$$typeof:p,type:T,compare:L===void 0?null:L}},W.startTransition=function(T){var L=oe.T,B={};oe.T=B;try{var G=T(),Z=oe.S;Z!==null&&Z(B,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then($e,be)}catch(ne){be(ne)}finally{L!==null&&B.types!==null&&(L.types=B.types),oe.T=L}},W.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},W.use=function(T){return oe.H.use(T)},W.useActionState=function(T,L,B){return oe.H.useActionState(T,L,B)},W.useCallback=function(T,L){return oe.H.useCallback(T,L)},W.useContext=function(T){return oe.H.useContext(T)},W.useDebugValue=function(){},W.useDeferredValue=function(T,L){return oe.H.useDeferredValue(T,L)},W.useEffect=function(T,L){return oe.H.useEffect(T,L)},W.useEffectEvent=function(T){return oe.H.useEffectEvent(T)},W.useId=function(){return oe.H.useId()},W.useImperativeHandle=function(T,L,B){return oe.H.useImperativeHandle(T,L,B)},W.useInsertionEffect=function(T,L){return oe.H.useInsertionEffect(T,L)},W.useLayoutEffect=function(T,L){return oe.H.useLayoutEffect(T,L)},W.useMemo=function(T,L){return oe.H.useMemo(T,L)},W.useOptimistic=function(T,L){return oe.H.useOptimistic(T,L)},W.useReducer=function(T,L,B){return oe.H.useReducer(T,L,B)},W.useRef=function(T){return oe.H.useRef(T)},W.useState=function(T){return oe.H.useState(T)},W.useSyncExternalStore=function(T,L,B){return oe.H.useSyncExternalStore(T,L,B)},W.useTransition=function(){return oe.H.useTransition()},W.version="19.2.3",W}var I_;function xh(){return I_||(I_=1,jf.exports=k0()),jf.exports}var ye=xh();const Co=M0(ye);var Pf={exports:{}},vl={},Gf={exports:{}},qf={};var M_;function U0(){return M_||(M_=1,(function(s){function t(I,H){var X=I.length;I.push(H);e:for(;0<X;){var be=X-1>>>1,Re=I[be];if(0<o(Re,H))I[be]=H,I[X]=Re,X=be;else break e}}function i(I){return I.length===0?null:I[0]}function l(I){if(I.length===0)return null;var H=I[0],X=I.pop();if(X!==H){I[0]=X;e:for(var be=0,Re=I.length,T=Re>>>1;be<T;){var L=2*(be+1)-1,B=I[L],G=L+1,Z=I[G];if(0>o(B,X))G<Re&&0>o(Z,B)?(I[be]=Z,I[G]=X,be=G):(I[be]=B,I[L]=X,be=L);else if(G<Re&&0>o(Z,X))I[be]=Z,I[G]=X,be=G;else break e}}return H}function o(I,H){var X=I.sortIndex-H.sortIndex;return X!==0?X:I.id-H.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var g=[],p=[],v=1,y=null,S=3,k=!1,U=!1,Y=!1,fe=!1,j=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function Se(I){for(var H=i(p);H!==null;){if(H.callback===null)l(p);else if(H.startTime<=I)l(p),H.sortIndex=H.expirationTime,t(g,H);else break;H=i(p)}}function Zt(I){if(Y=!1,Se(I),!U)if(i(g)!==null)U=!0,$e||($e=!0,yt());else{var H=i(p);H!==null&&Jt(Zt,H.startTime-I)}}var $e=!1,oe=-1,_t=5,on=-1;function ps(){return fe?!0:!(s.unstable_now()-on<_t)}function un(){if(fe=!1,$e){var I=s.unstable_now();on=I;var H=!0;try{e:{U=!1,Y&&(Y=!1,he(oe),oe=-1),k=!0;var X=S;try{t:{for(Se(I),y=i(g);y!==null&&!(y.expirationTime>I&&ps());){var be=y.callback;if(typeof be=="function"){y.callback=null,S=y.priorityLevel;var Re=be(y.expirationTime<=I);if(I=s.unstable_now(),typeof Re=="function"){y.callback=Re,Se(I),H=!0;break t}y===i(g)&&l(g),Se(I)}else l(g);y=i(g)}if(y!==null)H=!0;else{var T=i(p);T!==null&&Jt(Zt,T.startTime-I),H=!1}}break e}finally{y=null,S=X,k=!1}H=void 0}}finally{H?yt():$e=!1}}}var yt;if(typeof ce=="function")yt=function(){ce(un)};else if(typeof MessageChannel<"u"){var ki=new MessageChannel,yn=ki.port2;ki.port1.onmessage=un,yt=function(){yn.postMessage(null)}}else yt=function(){j(un,0)};function Jt(I,H){oe=j(function(){I(s.unstable_now())},H)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(I){I.callback=null},s.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_t=0<I?Math.floor(1e3/I):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(I){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var X=S;S=H;try{return I()}finally{S=X}},s.unstable_requestPaint=function(){fe=!0},s.unstable_runWithPriority=function(I,H){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var X=S;S=I;try{return H()}finally{S=X}},s.unstable_scheduleCallback=function(I,H,X){var be=s.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?be+X:be):X=be,I){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=X+Re,I={id:v++,callback:H,priorityLevel:I,startTime:X,expirationTime:Re,sortIndex:-1},X>be?(I.sortIndex=X,t(p,I),i(g)===null&&I===i(p)&&(Y?(he(oe),oe=-1):Y=!0,Jt(Zt,X-be))):(I.sortIndex=Re,t(g,I),U||k||(U=!0,$e||($e=!0,yt()))),I},s.unstable_shouldYield=ps,s.unstable_wrapCallback=function(I){var H=S;return function(){var X=S;S=H;try{return I.apply(this,arguments)}finally{S=X}}}})(qf)),qf}var x_;function z0(){return x_||(x_=1,Gf.exports=U0()),Gf.exports}var Vf={exports:{}},ot={};var L_;function H0(){if(L_)return ot;L_=1;var s=xh();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,p,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:g,containerInfo:p,implementation:v}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ot.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(g,p,null,v)},ot.flushSync=function(g){var p=h.T,v=l.p;try{if(h.T=null,l.p=2,g)return g()}finally{h.T=p,l.p=v,l.d.f()}},ot.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},ot.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},ot.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,y=m(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,k=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:k}):v==="script"&&l.d.X(g,{crossOrigin:y,integrity:S,fetchPriority:k,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ot.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},ot.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,y=m(v,p.crossOrigin);l.d.L(g,v,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ot.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=m(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},ot.requestFormReset=function(g){l.d.r(g)},ot.unstable_batchedUpdates=function(g,p){return g(p)},ot.useFormState=function(g,p,v){return h.H.useFormState(g,p,v)},ot.useFormStatus=function(){return h.H.useHostTransitionStatus()},ot.version="19.2.3",ot}var k_;function B0(){if(k_)return Vf.exports;k_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Vf.exports=H0(),Vf.exports}var U_;function j0(){if(U_)return vl;U_=1;var s=z0(),t=xh(),i=B0();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(l(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(l(188));return n!==e?null:e}for(var a=e,r=n;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(r=u.return,r!==null){a=r;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return g(u),e;if(f===r)return g(u),n;f=f.sibling}throw Error(l(188))}if(a.return!==r.return)a=u,r=f;else{for(var d=!1,_=u.child;_;){if(_===a){d=!0,a=u,r=f;break}if(_===r){d=!0,r=u,a=f;break}_=_.sibling}if(!d){for(_=f.child;_;){if(_===a){d=!0,a=f,r=u;break}if(_===r){d=!0,r=f,a=u;break}_=_.sibling}if(!d)throw Error(l(189))}}if(a.alternate!==r)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),he=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),Zt=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),on=Symbol.for("react.activity"),ps=Symbol.for("react.memo_cache_sentinel"),un=Symbol.iterator;function yt(e){return e===null||typeof e!="object"?null:(e=un&&e[un]||e["@@iterator"],typeof e=="function"?e:null)}var ki=Symbol.for("react.client.reference");function yn(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ki?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case j:return"Profiler";case fe:return"StrictMode";case Zt:return"Suspense";case $e:return"SuspenseList";case on:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case ce:return e.displayName||"Context";case he:return(e._context.displayName||"Context")+".Consumer";case Se:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oe:return n=e.displayName||null,n!==null?n:yn(e.type)||"Memo";case _t:n=e._payload,e=e._init;try{return yn(e(n))}catch{}}return null}var Jt=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},be=[],Re=-1;function T(e){return{current:e}}function L(e){0>Re||(e.current=be[Re],be[Re]=null,Re--)}function B(e,n){Re++,be[Re]=e.current,e.current=n}var G=T(null),Z=T(null),ne=T(null),_e=T(null);function ft(e,n){switch(B(ne,n),B(Z,e),B(G,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Zg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Zg(n),e=Jg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(G),B(G,e)}function Be(){L(G),L(Z),L(ne)}function Aa(e){e.memoizedState!==null&&B(_e,e);var n=G.current,a=Jg(n,e.type);n!==a&&(B(Z,e),B(G,a))}function ar(e){Z.current===e&&(L(G),L(Z)),_e.current===e&&(L(_e),ml._currentValue=X)}var Eu,Nd;function Ui(e){if(Eu===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Eu=n&&n[1]||"",Nd=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Eu+e+Nd}var Su=!1;function bu(e,n){if(!e||Su)return"";Su=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var x=function(){throw Error()};if(Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(O){var N=O}Reflect.construct(e,[],x)}else{try{x.call()}catch(O){N=O}e.call(x.prototype)}}else{try{throw Error()}catch(O){N=O}(x=e())&&typeof x.catch=="function"&&x.catch(function(){})}}catch(O){if(O&&N&&typeof O.stack=="string")return[O.stack,N.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),d=f[0],_=f[1];if(d&&_){var E=d.split(`
`),w=_.split(`
`);for(u=r=0;r<E.length&&!E[r].includes("DetermineComponentFrameRoot");)r++;for(;u<w.length&&!w[u].includes("DetermineComponentFrameRoot");)u++;if(r===E.length||u===w.length)for(r=E.length-1,u=w.length-1;1<=r&&0<=u&&E[r]!==w[u];)u--;for(;1<=r&&0<=u;r--,u--)if(E[r]!==w[u]){if(r!==1||u!==1)do if(r--,u--,0>u||E[r]!==w[u]){var D=`
`+E[r].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=r&&0<=u);break}}}finally{Su=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ui(a):""}function uS(e,n){switch(e.tag){case 26:case 27:case 5:return Ui(e.type);case 16:return Ui("Lazy");case 13:return e.child!==n&&n!==null?Ui("Suspense Fallback"):Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 15:return bu(e.type,!1);case 11:return bu(e.type.render,!1);case 1:return bu(e.type,!0);case 31:return Ui("Activity");default:return""}}function Rd(e){try{var n="",a=null;do n+=uS(e,a),a=e,e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Tu=Object.prototype.hasOwnProperty,Cu=s.unstable_scheduleCallback,Au=s.unstable_cancelCallback,cS=s.unstable_shouldYield,fS=s.unstable_requestPaint,Nt=s.unstable_now,hS=s.unstable_getCurrentPriorityLevel,Od=s.unstable_ImmediatePriority,Dd=s.unstable_UserBlockingPriority,lr=s.unstable_NormalPriority,dS=s.unstable_LowPriority,Id=s.unstable_IdlePriority,mS=s.log,pS=s.unstable_setDisableYieldValue,wa=null,Rt=null;function Fn(e){if(typeof mS=="function"&&pS(e),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(wa,e)}catch{}}var Ot=Math.clz32?Math.clz32:yS,gS=Math.log,_S=Math.LN2;function yS(e){return e>>>=0,e===0?32:31-(gS(e)/_S|0)|0}var rr=256,or=262144,ur=4194304;function zi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function cr(e,n,a){var r=e.pendingLanes;if(r===0)return 0;var u=0,f=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~f,r!==0?u=zi(r):(d&=_,d!==0?u=zi(d):a||(a=_&~e,a!==0&&(u=zi(a))))):(_=r&~f,_!==0?u=zi(_):d!==0?u=zi(d):a||(a=r&~e,a!==0&&(u=zi(a)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:u}function Na(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function vS(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Md(){var e=ur;return ur<<=1,(ur&62914560)===0&&(ur=4194304),e}function wu(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Ra(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ES(e,n,a,r,u,f){var d=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var _=e.entanglements,E=e.expirationTimes,w=e.hiddenUpdates;for(a=d&~a;0<a;){var D=31-Ot(a),x=1<<D;_[D]=0,E[D]=-1;var N=w[D];if(N!==null)for(w[D]=null,D=0;D<N.length;D++){var O=N[D];O!==null&&(O.lane&=-536870913)}a&=~x}r!==0&&xd(e,r,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(d&~n))}function xd(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-Ot(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|a&261930}function Ld(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var r=31-Ot(a),u=1<<r;u&n|e[r]&n&&(e[r]|=n),a&=~u}}function kd(e,n){var a=n&-n;return a=(a&42)!==0?1:Nu(a),(a&(e.suspendedLanes|n))!==0?0:a}function Nu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ru(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ud(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:S_(e.type))}function zd(e,n){var a=H.p;try{return H.p=e,n()}finally{H.p=a}}var Qn=Math.random().toString(36).slice(2),et="__reactFiber$"+Qn,vt="__reactProps$"+Qn,gs="__reactContainer$"+Qn,Ou="__reactEvents$"+Qn,SS="__reactListeners$"+Qn,bS="__reactHandles$"+Qn,Hd="__reactResources$"+Qn,Oa="__reactMarker$"+Qn;function Du(e){delete e[et],delete e[vt],delete e[Ou],delete e[SS],delete e[bS]}function _s(e){var n=e[et];if(n)return n;for(var a=e.parentNode;a;){if(n=a[gs]||a[et]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=a_(e);e!==null;){if(a=e[et])return a;e=a_(e)}return n}e=a,a=e.parentNode}return null}function ys(e){if(e=e[et]||e[gs]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Da(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function vs(e){var n=e[Hd];return n||(n=e[Hd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Xe(e){e[Oa]=!0}var Bd=new Set,jd={};function Hi(e,n){Es(e,n),Es(e+"Capture",n)}function Es(e,n){for(jd[e]=n,e=0;e<n.length;e++)Bd.add(n[e])}var TS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pd={},Gd={};function CS(e){return Tu.call(Gd,e)?!0:Tu.call(Pd,e)?!1:TS.test(e)?Gd[e]=!0:(Pd[e]=!0,!1)}function fr(e,n,a){if(CS(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function hr(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function vn(e,n,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+r)}}function zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function AS(e,n,a){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(d){a=""+d,f.call(this,d)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Iu(e){if(!e._valueTracker){var n=qd(e)?"checked":"value";e._valueTracker=AS(e,n,""+e[n])}}function Vd(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),r="";return e&&(r=qd(e)?e.checked?"true":"false":e.value),e=r,e!==a?(n.setValue(e),!0):!1}function dr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var wS=/[\n"\\]/g;function Ht(e){return e.replace(wS,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Mu(e,n,a,r,u,f,d,_){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),n!=null?d==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+zt(n)):e.value!==""+zt(n)&&(e.value=""+zt(n)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),n!=null?xu(e,d,zt(n)):a!=null?xu(e,d,zt(a)):r!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+zt(_):e.removeAttribute("name")}function Yd(e,n,a,r,u,f,d,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Iu(e);return}a=a!=null?""+zt(a):"",n=n!=null?""+zt(n):a,_||n===e.value||(e.value=n),e.defaultValue=n}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),Iu(e)}function xu(e,n,a){n==="number"&&dr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ss(e,n,a,r){if(e=e.options,n){n={};for(var u=0;u<a.length;u++)n["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=n.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&r&&(e[a].defaultSelected=!0)}else{for(a=""+zt(a),n=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,r&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function Fd(e,n,a){if(n!=null&&(n=""+zt(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+zt(a):""}function Qd(e,n,a,r){if(n==null){if(r!=null){if(a!=null)throw Error(l(92));if(Jt(r)){if(1<r.length)throw Error(l(93));r=r[0]}a=r}a==null&&(a=""),n=a}a=zt(n),e.defaultValue=a,r=e.textContent,r===a&&r!==""&&r!==null&&(e.value=r),Iu(e)}function bs(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var NS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kd(e,n,a){var r=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":r?e.setProperty(n,a):typeof a!="number"||a===0||NS.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Xd(e,n,a){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var u in n)r=n[u],n.hasOwnProperty(u)&&a[u]!==r&&Kd(e,u,r)}else for(var f in n)n.hasOwnProperty(f)&&Kd(e,f,n[f])}function Lu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),OS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mr(e){return OS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function En(){}var ku=null;function Uu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ts=null,Cs=null;function Wd(e){var n=ys(e);if(n&&(e=n.stateNode)){var a=e[vt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Mu(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ht(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var r=a[n];if(r!==e&&r.form===e.form){var u=r[vt]||null;if(!u)throw Error(l(90));Mu(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<a.length;n++)r=a[n],r.form===e.form&&Vd(r)}break e;case"textarea":Fd(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ss(e,!!a.multiple,n,!1)}}}var zu=!1;function Zd(e,n,a){if(zu)return e(n,a);zu=!0;try{var r=e(n);return r}finally{if(zu=!1,(Ts!==null||Cs!==null)&&(to(),Ts&&(n=Ts,e=Cs,Cs=Ts=null,Wd(n),e)))for(n=0;n<e.length;n++)Wd(e[n])}}function Ia(e,n){var a=e.stateNode;if(a===null)return null;var r=a[vt]||null;if(r===null)return null;a=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,n,typeof a));return a}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hu=!1;if(Sn)try{var Ma={};Object.defineProperty(Ma,"passive",{get:function(){Hu=!0}}),window.addEventListener("test",Ma,Ma),window.removeEventListener("test",Ma,Ma)}catch{Hu=!1}var Kn=null,Bu=null,pr=null;function Jd(){if(pr)return pr;var e,n=Bu,a=n.length,r,u="value"in Kn?Kn.value:Kn.textContent,f=u.length;for(e=0;e<a&&n[e]===u[e];e++);var d=a-e;for(r=1;r<=d&&n[a-r]===u[f-r];r++);return pr=u.slice(e,1<r?1-r:void 0)}function gr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function _r(){return!0}function $d(){return!1}function Et(e){function n(a,r,u,f,d){this._reactName=a,this._targetInst=u,this.type=r,this.nativeEvent=f,this.target=d,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(a=e[_],this[_]=a?a(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?_r:$d,this.isPropagationStopped=$d,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yr=Et(Bi),xa=y({},Bi,{view:0,detail:0}),DS=Et(xa),ju,Pu,La,vr=y({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==La&&(La&&e.type==="mousemove"?(ju=e.screenX-La.screenX,Pu=e.screenY-La.screenY):Pu=ju=0,La=e),ju)},movementY:function(e){return"movementY"in e?e.movementY:Pu}}),em=Et(vr),IS=y({},vr,{dataTransfer:0}),MS=Et(IS),xS=y({},xa,{relatedTarget:0}),Gu=Et(xS),LS=y({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),kS=Et(LS),US=y({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zS=Et(US),HS=y({},Bi,{data:0}),tm=Et(HS),BS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GS(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=PS[e])?!!n[e]:!1}function qu(){return GS}var qS=y({},xa,{key:function(e){if(e.key){var n=BS[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qu,charCode:function(e){return e.type==="keypress"?gr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),VS=Et(qS),YS=y({},vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nm=Et(YS),FS=y({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qu}),QS=Et(FS),KS=y({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),XS=Et(KS),WS=y({},vr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ZS=Et(WS),JS=y({},Bi,{newState:0,oldState:0}),$S=Et(JS),eb=[9,13,27,32],Vu=Sn&&"CompositionEvent"in window,ka=null;Sn&&"documentMode"in document&&(ka=document.documentMode);var tb=Sn&&"TextEvent"in window&&!ka,im=Sn&&(!Vu||ka&&8<ka&&11>=ka),sm=" ",am=!1;function lm(e,n){switch(e){case"keyup":return eb.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var As=!1;function nb(e,n){switch(e){case"compositionend":return rm(n);case"keypress":return n.which!==32?null:(am=!0,sm);case"textInput":return e=n.data,e===sm&&am?null:e;default:return null}}function ib(e,n){if(As)return e==="compositionend"||!Vu&&lm(e,n)?(e=Jd(),pr=Bu=Kn=null,As=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return im&&n.locale!=="ko"?null:n.data;default:return null}}var sb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function om(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!sb[e.type]:n==="textarea"}function um(e,n,a,r){Ts?Cs?Cs.push(r):Cs=[r]:Ts=r,n=oo(n,"onChange"),0<n.length&&(a=new yr("onChange","change",null,a,r),e.push({event:a,listeners:n}))}var Ua=null,za=null;function ab(e){Yg(e,0)}function Er(e){var n=Da(e);if(Vd(n))return e}function cm(e,n){if(e==="change")return n}var fm=!1;if(Sn){var Yu;if(Sn){var Fu="oninput"in document;if(!Fu){var hm=document.createElement("div");hm.setAttribute("oninput","return;"),Fu=typeof hm.oninput=="function"}Yu=Fu}else Yu=!1;fm=Yu&&(!document.documentMode||9<document.documentMode)}function dm(){Ua&&(Ua.detachEvent("onpropertychange",mm),za=Ua=null)}function mm(e){if(e.propertyName==="value"&&Er(za)){var n=[];um(n,za,e,Uu(e)),Zd(ab,n)}}function lb(e,n,a){e==="focusin"?(dm(),Ua=n,za=a,Ua.attachEvent("onpropertychange",mm)):e==="focusout"&&dm()}function rb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Er(za)}function ob(e,n){if(e==="click")return Er(n)}function ub(e,n){if(e==="input"||e==="change")return Er(n)}function cb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Dt=typeof Object.is=="function"?Object.is:cb;function Ha(e,n){if(Dt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),r=Object.keys(n);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var u=a[r];if(!Tu.call(n,u)||!Dt(e[u],n[u]))return!1}return!0}function pm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gm(e,n){var a=pm(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=n&&r>=n)return{node:a,offset:n-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=pm(a)}}function _m(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_m(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ym(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=dr(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=dr(e.document)}return n}function Qu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var fb=Sn&&"documentMode"in document&&11>=document.documentMode,ws=null,Ku=null,Ba=null,Xu=!1;function vm(e,n,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xu||ws==null||ws!==dr(r)||(r=ws,"selectionStart"in r&&Qu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ba&&Ha(Ba,r)||(Ba=r,r=oo(Ku,"onSelect"),0<r.length&&(n=new yr("onSelect","select",null,n,a),e.push({event:n,listeners:r}),n.target=ws)))}function ji(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ns={animationend:ji("Animation","AnimationEnd"),animationiteration:ji("Animation","AnimationIteration"),animationstart:ji("Animation","AnimationStart"),transitionrun:ji("Transition","TransitionRun"),transitionstart:ji("Transition","TransitionStart"),transitioncancel:ji("Transition","TransitionCancel"),transitionend:ji("Transition","TransitionEnd")},Wu={},Em={};Sn&&(Em=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Pi(e){if(Wu[e])return Wu[e];if(!Ns[e])return e;var n=Ns[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Em)return Wu[e]=n[a];return e}var Sm=Pi("animationend"),bm=Pi("animationiteration"),Tm=Pi("animationstart"),hb=Pi("transitionrun"),db=Pi("transitionstart"),mb=Pi("transitioncancel"),Cm=Pi("transitionend"),Am=new Map,Zu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zu.push("scrollEnd");function $t(e,n){Am.set(e,n),Hi(n,[e])}var Sr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bt=[],Rs=0,Ju=0;function br(){for(var e=Rs,n=Ju=Rs=0;n<e;){var a=Bt[n];Bt[n++]=null;var r=Bt[n];Bt[n++]=null;var u=Bt[n];Bt[n++]=null;var f=Bt[n];if(Bt[n++]=null,r!==null&&u!==null){var d=r.pending;d===null?u.next=u:(u.next=d.next,d.next=u),r.pending=u}f!==0&&wm(a,u,f)}}function Tr(e,n,a,r){Bt[Rs++]=e,Bt[Rs++]=n,Bt[Rs++]=a,Bt[Rs++]=r,Ju|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function $u(e,n,a,r){return Tr(e,n,a,r),Cr(e)}function Gi(e,n){return Tr(e,null,null,n),Cr(e)}function wm(e,n,a){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a);for(var u=!1,f=e.return;f!==null;)f.childLanes|=a,r=f.alternate,r!==null&&(r.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&n!==null&&(u=31-Ot(a),e=f.hiddenUpdates,r=e[u],r===null?e[u]=[n]:r.push(n),n.lane=a|536870912),f):null}function Cr(e){if(50<rl)throw rl=0,uf=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Os={};function pb(e,n,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,n,a,r){return new pb(e,n,a,r)}function ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bn(e,n){var a=e.alternate;return a===null?(a=It(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Nm(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ar(e,n,a,r,u,f){var d=0;if(r=e,typeof e=="function")ec(e)&&(d=1);else if(typeof e=="string")d=E0(e,a,G.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case on:return e=It(31,a,n,u),e.elementType=on,e.lanes=f,e;case Y:return qi(a.children,u,f,n);case fe:d=8,u|=24;break;case j:return e=It(12,a,n,u|2),e.elementType=j,e.lanes=f,e;case Zt:return e=It(13,a,n,u),e.elementType=Zt,e.lanes=f,e;case $e:return e=It(19,a,n,u),e.elementType=$e,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ce:d=10;break e;case he:d=9;break e;case Se:d=11;break e;case oe:d=14;break e;case _t:d=16,r=null;break e}d=29,a=Error(l(130,e===null?"null":typeof e,"")),r=null}return n=It(d,a,n,u),n.elementType=e,n.type=r,n.lanes=f,n}function qi(e,n,a,r){return e=It(7,e,r,n),e.lanes=a,e}function tc(e,n,a){return e=It(6,e,null,n),e.lanes=a,e}function Rm(e){var n=It(18,null,null,0);return n.stateNode=e,n}function nc(e,n,a){return n=It(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Om=new WeakMap;function jt(e,n){if(typeof e=="object"&&e!==null){var a=Om.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Rd(n)},Om.set(e,n),n)}return{value:e,source:n,stack:Rd(n)}}var Ds=[],Is=0,wr=null,ja=0,Pt=[],Gt=0,Xn=null,cn=1,fn="";function Tn(e,n){Ds[Is++]=ja,Ds[Is++]=wr,wr=e,ja=n}function Dm(e,n,a){Pt[Gt++]=cn,Pt[Gt++]=fn,Pt[Gt++]=Xn,Xn=e;var r=cn;e=fn;var u=32-Ot(r)-1;r&=~(1<<u),a+=1;var f=32-Ot(n)+u;if(30<f){var d=u-u%5;f=(r&(1<<d)-1).toString(32),r>>=d,u-=d,cn=1<<32-Ot(n)+u|a<<u|r,fn=f+e}else cn=1<<f|a<<u|r,fn=e}function ic(e){e.return!==null&&(Tn(e,1),Dm(e,1,0))}function sc(e){for(;e===wr;)wr=Ds[--Is],Ds[Is]=null,ja=Ds[--Is],Ds[Is]=null;for(;e===Xn;)Xn=Pt[--Gt],Pt[Gt]=null,fn=Pt[--Gt],Pt[Gt]=null,cn=Pt[--Gt],Pt[Gt]=null}function Im(e,n){Pt[Gt++]=cn,Pt[Gt++]=fn,Pt[Gt++]=Xn,cn=n.id,fn=n.overflow,Xn=e}var tt=null,Me=null,ue=!1,Wn=null,qt=!1,ac=Error(l(519));function Zn(e){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pa(jt(n,e)),ac}function Mm(e){var n=e.stateNode,a=e.type,r=e.memoizedProps;switch(n[et]=e,n[vt]=r,a){case"dialog":se("cancel",n),se("close",n);break;case"iframe":case"object":case"embed":se("load",n);break;case"video":case"audio":for(a=0;a<ul.length;a++)se(ul[a],n);break;case"source":se("error",n);break;case"img":case"image":case"link":se("error",n),se("load",n);break;case"details":se("toggle",n);break;case"input":se("invalid",n),Yd(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":se("invalid",n);break;case"textarea":se("invalid",n),Qd(n,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||r.suppressHydrationWarning===!0||Xg(n.textContent,a)?(r.popover!=null&&(se("beforetoggle",n),se("toggle",n)),r.onScroll!=null&&se("scroll",n),r.onScrollEnd!=null&&se("scrollend",n),r.onClick!=null&&(n.onclick=En),n=!0):n=!1,n||Zn(e,!0)}function xm(e){for(tt=e.return;tt;)switch(tt.tag){case 5:case 31:case 13:qt=!1;return;case 27:case 3:qt=!0;return;default:tt=tt.return}}function Ms(e){if(e!==tt)return!1;if(!ue)return xm(e),ue=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Cf(e.type,e.memoizedProps)),a=!a),a&&Me&&Zn(e),xm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Me=s_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Me=s_(e)}else n===27?(n=Me,fi(e.type)?(e=Of,Of=null,Me=e):Me=n):Me=tt?Yt(e.stateNode.nextSibling):null;return!0}function Vi(){Me=tt=null,ue=!1}function lc(){var e=Wn;return e!==null&&(Ct===null?Ct=e:Ct.push.apply(Ct,e),Wn=null),e}function Pa(e){Wn===null?Wn=[e]:Wn.push(e)}var rc=T(null),Yi=null,Cn=null;function Jn(e,n,a){B(rc,n._currentValue),n._currentValue=a}function An(e){e._currentValue=rc.current,L(rc)}function oc(e,n,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===a)break;e=e.return}}function uc(e,n,a,r){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var d=u.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=u;for(var E=0;E<n.length;E++)if(_.context===n[E]){f.lanes|=a,_=f.alternate,_!==null&&(_.lanes|=a),oc(f.return,a,e),r||(d=null);break e}f=_.next}}else if(u.tag===18){if(d=u.return,d===null)throw Error(l(341));d.lanes|=a,f=d.alternate,f!==null&&(f.lanes|=a),oc(d,a,e),d=null}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===e){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}}function xs(e,n,a,r){e=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var d=u.alternate;if(d===null)throw Error(l(387));if(d=d.memoizedProps,d!==null){var _=u.type;Dt(u.pendingProps.value,d.value)||(e!==null?e.push(_):e=[_])}}else if(u===_e.current){if(d=u.alternate,d===null)throw Error(l(387));d.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}u=u.return}e!==null&&uc(n,e,a,r),n.flags|=262144}function Nr(e){for(e=e.firstContext;e!==null;){if(!Dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fi(e){Yi=e,Cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nt(e){return Lm(Yi,e)}function Rr(e,n){return Yi===null&&Fi(e),Lm(e,n)}function Lm(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Cn===null){if(e===null)throw Error(l(308));Cn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Cn=Cn.next=n;return a}var gb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},_b=s.unstable_scheduleCallback,yb=s.unstable_NormalPriority,Ge={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cc(){return{controller:new gb,data:new Map,refCount:0}}function Ga(e){e.refCount--,e.refCount===0&&_b(yb,function(){e.controller.abort()})}var qa=null,fc=0,Ls=0,ks=null;function vb(e,n){if(qa===null){var a=qa=[];fc=0,Ls=pf(),ks={status:"pending",value:void 0,then:function(r){a.push(r)}}}return fc++,n.then(km,km),n}function km(){if(--fc===0&&qa!==null){ks!==null&&(ks.status="fulfilled");var e=qa;qa=null,Ls=0,ks=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Eb(e,n){var a=[],r={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var u=0;u<a.length;u++)(0,a[u])(n)},function(u){for(r.status="rejected",r.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),r}var Um=I.S;I.S=function(e,n){vg=Nt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&vb(e,n),Um!==null&&Um(e,n)};var Qi=T(null);function hc(){var e=Qi.current;return e!==null?e:Oe.pooledCache}function Or(e,n){n===null?B(Qi,Qi.current):B(Qi,n.pool)}function zm(){var e=hc();return e===null?null:{parent:Ge._currentValue,pool:e}}var Us=Error(l(460)),dc=Error(l(474)),Dr=Error(l(542)),Ir={then:function(){}};function Hm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bm(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(En,En),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pm(e),e;default:if(typeof n.status=="string")n.then(En,En);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=r}},function(r){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pm(e),e}throw Xi=n,Us}}function Ki(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xi=a,Us):a}}var Xi=null;function jm(){if(Xi===null)throw Error(l(459));var e=Xi;return Xi=null,e}function Pm(e){if(e===Us||e===Dr)throw Error(l(483))}var zs=null,Va=0;function Mr(e){var n=Va;return Va+=1,zs===null&&(zs=[]),Bm(zs,e,n)}function Ya(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function xr(e,n){throw n.$$typeof===S?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Gm(e){function n(C,b){if(e){var A=C.deletions;A===null?(C.deletions=[b],C.flags|=16):A.push(b)}}function a(C,b){if(!e)return null;for(;b!==null;)n(C,b),b=b.sibling;return null}function r(C){for(var b=new Map;C!==null;)C.key!==null?b.set(C.key,C):b.set(C.index,C),C=C.sibling;return b}function u(C,b){return C=bn(C,b),C.index=0,C.sibling=null,C}function f(C,b,A){return C.index=A,e?(A=C.alternate,A!==null?(A=A.index,A<b?(C.flags|=67108866,b):A):(C.flags|=67108866,b)):(C.flags|=1048576,b)}function d(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function _(C,b,A,M){return b===null||b.tag!==6?(b=tc(A,C.mode,M),b.return=C,b):(b=u(b,A),b.return=C,b)}function E(C,b,A,M){var V=A.type;return V===Y?D(C,b,A.props.children,M,A.key):b!==null&&(b.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===_t&&Ki(V)===b.type)?(b=u(b,A.props),Ya(b,A),b.return=C,b):(b=Ar(A.type,A.key,A.props,null,C.mode,M),Ya(b,A),b.return=C,b)}function w(C,b,A,M){return b===null||b.tag!==4||b.stateNode.containerInfo!==A.containerInfo||b.stateNode.implementation!==A.implementation?(b=nc(A,C.mode,M),b.return=C,b):(b=u(b,A.children||[]),b.return=C,b)}function D(C,b,A,M,V){return b===null||b.tag!==7?(b=qi(A,C.mode,M,V),b.return=C,b):(b=u(b,A),b.return=C,b)}function x(C,b,A){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=tc(""+b,C.mode,A),b.return=C,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case k:return A=Ar(b.type,b.key,b.props,null,C.mode,A),Ya(A,b),A.return=C,A;case U:return b=nc(b,C.mode,A),b.return=C,b;case _t:return b=Ki(b),x(C,b,A)}if(Jt(b)||yt(b))return b=qi(b,C.mode,A,null),b.return=C,b;if(typeof b.then=="function")return x(C,Mr(b),A);if(b.$$typeof===ce)return x(C,Rr(C,b),A);xr(C,b)}return null}function N(C,b,A,M){var V=b!==null?b.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return V!==null?null:_(C,b,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case k:return A.key===V?E(C,b,A,M):null;case U:return A.key===V?w(C,b,A,M):null;case _t:return A=Ki(A),N(C,b,A,M)}if(Jt(A)||yt(A))return V!==null?null:D(C,b,A,M,null);if(typeof A.then=="function")return N(C,b,Mr(A),M);if(A.$$typeof===ce)return N(C,b,Rr(C,A),M);xr(C,A)}return null}function O(C,b,A,M,V){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return C=C.get(A)||null,_(b,C,""+M,V);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return C=C.get(M.key===null?A:M.key)||null,E(b,C,M,V);case U:return C=C.get(M.key===null?A:M.key)||null,w(b,C,M,V);case _t:return M=Ki(M),O(C,b,A,M,V)}if(Jt(M)||yt(M))return C=C.get(A)||null,D(b,C,M,V,null);if(typeof M.then=="function")return O(C,b,A,Mr(M),V);if(M.$$typeof===ce)return O(C,b,A,Rr(b,M),V);xr(b,M)}return null}function P(C,b,A,M){for(var V=null,de=null,q=b,$=b=0,re=null;q!==null&&$<A.length;$++){q.index>$?(re=q,q=null):re=q.sibling;var me=N(C,q,A[$],M);if(me===null){q===null&&(q=re);break}e&&q&&me.alternate===null&&n(C,q),b=f(me,b,$),de===null?V=me:de.sibling=me,de=me,q=re}if($===A.length)return a(C,q),ue&&Tn(C,$),V;if(q===null){for(;$<A.length;$++)q=x(C,A[$],M),q!==null&&(b=f(q,b,$),de===null?V=q:de.sibling=q,de=q);return ue&&Tn(C,$),V}for(q=r(q);$<A.length;$++)re=O(q,C,$,A[$],M),re!==null&&(e&&re.alternate!==null&&q.delete(re.key===null?$:re.key),b=f(re,b,$),de===null?V=re:de.sibling=re,de=re);return e&&q.forEach(function(gi){return n(C,gi)}),ue&&Tn(C,$),V}function F(C,b,A,M){if(A==null)throw Error(l(151));for(var V=null,de=null,q=b,$=b=0,re=null,me=A.next();q!==null&&!me.done;$++,me=A.next()){q.index>$?(re=q,q=null):re=q.sibling;var gi=N(C,q,me.value,M);if(gi===null){q===null&&(q=re);break}e&&q&&gi.alternate===null&&n(C,q),b=f(gi,b,$),de===null?V=gi:de.sibling=gi,de=gi,q=re}if(me.done)return a(C,q),ue&&Tn(C,$),V;if(q===null){for(;!me.done;$++,me=A.next())me=x(C,me.value,M),me!==null&&(b=f(me,b,$),de===null?V=me:de.sibling=me,de=me);return ue&&Tn(C,$),V}for(q=r(q);!me.done;$++,me=A.next())me=O(q,C,$,me.value,M),me!==null&&(e&&me.alternate!==null&&q.delete(me.key===null?$:me.key),b=f(me,b,$),de===null?V=me:de.sibling=me,de=me);return e&&q.forEach(function(I0){return n(C,I0)}),ue&&Tn(C,$),V}function Ae(C,b,A,M){if(typeof A=="object"&&A!==null&&A.type===Y&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case k:e:{for(var V=A.key;b!==null;){if(b.key===V){if(V=A.type,V===Y){if(b.tag===7){a(C,b.sibling),M=u(b,A.props.children),M.return=C,C=M;break e}}else if(b.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===_t&&Ki(V)===b.type){a(C,b.sibling),M=u(b,A.props),Ya(M,A),M.return=C,C=M;break e}a(C,b);break}else n(C,b);b=b.sibling}A.type===Y?(M=qi(A.props.children,C.mode,M,A.key),M.return=C,C=M):(M=Ar(A.type,A.key,A.props,null,C.mode,M),Ya(M,A),M.return=C,C=M)}return d(C);case U:e:{for(V=A.key;b!==null;){if(b.key===V)if(b.tag===4&&b.stateNode.containerInfo===A.containerInfo&&b.stateNode.implementation===A.implementation){a(C,b.sibling),M=u(b,A.children||[]),M.return=C,C=M;break e}else{a(C,b);break}else n(C,b);b=b.sibling}M=nc(A,C.mode,M),M.return=C,C=M}return d(C);case _t:return A=Ki(A),Ae(C,b,A,M)}if(Jt(A))return P(C,b,A,M);if(yt(A)){if(V=yt(A),typeof V!="function")throw Error(l(150));return A=V.call(A),F(C,b,A,M)}if(typeof A.then=="function")return Ae(C,b,Mr(A),M);if(A.$$typeof===ce)return Ae(C,b,Rr(C,A),M);xr(C,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,b!==null&&b.tag===6?(a(C,b.sibling),M=u(b,A),M.return=C,C=M):(a(C,b),M=tc(A,C.mode,M),M.return=C,C=M),d(C)):a(C,b)}return function(C,b,A,M){try{Va=0;var V=Ae(C,b,A,M);return zs=null,V}catch(q){if(q===Us||q===Dr)throw q;var de=It(29,q,null,C.mode);return de.lanes=M,de.return=C,de}}}var Wi=Gm(!0),qm=Gm(!1),$n=!1;function mc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ei(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ti(e,n,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(ge&2)!==0){var u=r.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),r.pending=n,n=Cr(e),wm(e,null,a),n}return Tr(e,r,n,a),Cr(e)}function Fa(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,a|=r,n.lanes=a,Ld(e,a)}}function gc(e,n){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var d={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=d:f=f.next=d,a=a.next}while(a!==null);f===null?u=f=n:f=f.next=n}else u=f=n;a={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var _c=!1;function Qa(){if(_c){var e=ks;if(e!==null)throw e}}function Ka(e,n,a,r){_c=!1;var u=e.updateQueue;$n=!1;var f=u.firstBaseUpdate,d=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var E=_,w=E.next;E.next=null,d===null?f=w:d.next=w,d=E;var D=e.alternate;D!==null&&(D=D.updateQueue,_=D.lastBaseUpdate,_!==d&&(_===null?D.firstBaseUpdate=w:_.next=w,D.lastBaseUpdate=E))}if(f!==null){var x=u.baseState;d=0,D=w=E=null,_=f;do{var N=_.lane&-536870913,O=N!==_.lane;if(O?(le&N)===N:(r&N)===N){N!==0&&N===Ls&&(_c=!0),D!==null&&(D=D.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var P=e,F=_;N=n;var Ae=a;switch(F.tag){case 1:if(P=F.payload,typeof P=="function"){x=P.call(Ae,x,N);break e}x=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=F.payload,N=typeof P=="function"?P.call(Ae,x,N):P,N==null)break e;x=y({},x,N);break e;case 2:$n=!0}}N=_.callback,N!==null&&(e.flags|=64,O&&(e.flags|=8192),O=u.callbacks,O===null?u.callbacks=[N]:O.push(N))}else O={lane:N,tag:_.tag,payload:_.payload,callback:_.callback,next:null},D===null?(w=D=O,E=x):D=D.next=O,d|=N;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;O=_,_=O.next,O.next=null,u.lastBaseUpdate=O,u.shared.pending=null}}while(!0);D===null&&(E=x),u.baseState=E,u.firstBaseUpdate=w,u.lastBaseUpdate=D,f===null&&(u.shared.lanes=0),li|=d,e.lanes=d,e.memoizedState=x}}function Vm(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function Ym(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Vm(a[e],n)}var Hs=T(null),Lr=T(0);function Fm(e,n){e=Ln,B(Lr,e),B(Hs,n),Ln=e|n.baseLanes}function yc(){B(Lr,Ln),B(Hs,Hs.current)}function vc(){Ln=Lr.current,L(Hs),L(Lr)}var Mt=T(null),Vt=null;function ni(e){var n=e.alternate;B(je,je.current&1),B(Mt,e),Vt===null&&(n===null||Hs.current!==null||n.memoizedState!==null)&&(Vt=e)}function Ec(e){B(je,je.current),B(Mt,e),Vt===null&&(Vt=e)}function Qm(e){e.tag===22?(B(je,je.current),B(Mt,e),Vt===null&&(Vt=e)):ii()}function ii(){B(je,je.current),B(Mt,Mt.current)}function xt(e){L(Mt),Vt===e&&(Vt=null),L(je)}var je=T(0);function kr(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Nf(a)||Rf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var wn=0,J=null,Te=null,qe=null,Ur=!1,Bs=!1,Zi=!1,zr=0,Xa=0,js=null,Sb=0;function ke(){throw Error(l(321))}function Sc(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Dt(e[a],n[a]))return!1;return!0}function bc(e,n,a,r,u,f){return wn=f,J=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,I.H=e===null||e.memoizedState===null?Dp:zc,Zi=!1,f=a(r,u),Zi=!1,Bs&&(f=Xm(n,a,r,u)),Km(e),f}function Km(e){I.H=Ja;var n=Te!==null&&Te.next!==null;if(wn=0,qe=Te=J=null,Ur=!1,Xa=0,js=null,n)throw Error(l(300));e===null||Ve||(e=e.dependencies,e!==null&&Nr(e)&&(Ve=!0))}function Xm(e,n,a,r){J=e;var u=0;do{if(Bs&&(js=null),Xa=0,Bs=!1,25<=u)throw Error(l(301));if(u+=1,qe=Te=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}I.H=Ip,f=n(a,r)}while(Bs);return f}function bb(){var e=I.H,n=e.useState()[0];return n=typeof n.then=="function"?Wa(n):n,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(J.flags|=1024),n}function Tc(){var e=zr!==0;return zr=0,e}function Cc(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Ac(e){if(Ur){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ur=!1}wn=0,qe=Te=J=null,Bs=!1,Xa=zr=0,js=null}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?J.memoizedState=qe=e:qe=qe.next=e,qe}function Pe(){if(Te===null){var e=J.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var n=qe===null?J.memoizedState:qe.next;if(n!==null)qe=n,Te=e;else{if(e===null)throw J.alternate===null?Error(l(467)):Error(l(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},qe===null?J.memoizedState=qe=e:qe=qe.next=e}return qe}function Hr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wa(e){var n=Xa;return Xa+=1,js===null&&(js=[]),e=Bm(js,e,n),n=J,(qe===null?n.memoizedState:qe.next)===null&&(n=n.alternate,I.H=n===null||n.memoizedState===null?Dp:zc),e}function Br(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wa(e);if(e.$$typeof===ce)return nt(e)}throw Error(l(438,String(e)))}function wc(e){var n=null,a=J.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var r=J.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Hr(),J.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),r=0;r<e;r++)a[r]=ps;return n.index++,a}function Nn(e,n){return typeof n=="function"?n(e):n}function jr(e){var n=Pe();return Nc(n,Te,e)}function Nc(e,n,a){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=a;var u=e.baseQueue,f=r.pending;if(f!==null){if(u!==null){var d=u.next;u.next=f.next,f.next=d}n.baseQueue=u=f,r.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{n=u.next;var _=d=null,E=null,w=n,D=!1;do{var x=w.lane&-536870913;if(x!==w.lane?(le&x)===x:(wn&x)===x){var N=w.revertLane;if(N===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),x===Ls&&(D=!0);else if((wn&N)===N){w=w.next,N===Ls&&(D=!0);continue}else x={lane:0,revertLane:w.revertLane,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},E===null?(_=E=x,d=f):E=E.next=x,J.lanes|=N,li|=N;x=w.action,Zi&&a(f,x),f=w.hasEagerState?w.eagerState:a(f,x)}else N={lane:x,revertLane:w.revertLane,gesture:w.gesture,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},E===null?(_=E=N,d=f):E=E.next=N,J.lanes|=x,li|=x;w=w.next}while(w!==null&&w!==n);if(E===null?d=f:E.next=_,!Dt(f,e.memoizedState)&&(Ve=!0,D&&(a=ks,a!==null)))throw a;e.memoizedState=f,e.baseState=d,e.baseQueue=E,r.lastRenderedState=f}return u===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Rc(e){var n=Pe(),a=n.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var r=a.dispatch,u=a.pending,f=n.memoizedState;if(u!==null){a.pending=null;var d=u=u.next;do f=e(f,d.action),d=d.next;while(d!==u);Dt(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,r]}function Wm(e,n,a){var r=J,u=Pe(),f=ue;if(f){if(a===void 0)throw Error(l(407));a=a()}else a=n();var d=!Dt((Te||u).memoizedState,a);if(d&&(u.memoizedState=a,Ve=!0),u=u.queue,Ic($m.bind(null,r,u,e),[e]),u.getSnapshot!==n||d||qe!==null&&qe.memoizedState.tag&1){if(r.flags|=2048,Ps(9,{destroy:void 0},Jm.bind(null,r,u,a,n),null),Oe===null)throw Error(l(349));f||(wn&127)!==0||Zm(r,n,a)}return a}function Zm(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=J.updateQueue,n===null?(n=Hr(),J.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Jm(e,n,a,r){n.value=a,n.getSnapshot=r,ep(n)&&tp(e)}function $m(e,n,a){return a(function(){ep(n)&&tp(e)})}function ep(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Dt(e,a)}catch{return!0}}function tp(e){var n=Gi(e,2);n!==null&&At(n,e,2)}function Oc(e){var n=ht();if(typeof e=="function"){var a=e;if(e=a(),Zi){Fn(!0);try{a()}finally{Fn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:e},n}function np(e,n,a,r){return e.baseState=a,Nc(e,Te,typeof r=="function"?r:Nn)}function Tb(e,n,a,r,u){if(qr(e))throw Error(l(485));if(e=n.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){f.listeners.push(d)}};I.T!==null?a(!0):f.isTransition=!1,r(f),a=n.pending,a===null?(f.next=n.pending=f,ip(n,f)):(f.next=a.next,n.pending=a.next=f)}}function ip(e,n){var a=n.action,r=n.payload,u=e.state;if(n.isTransition){var f=I.T,d={};I.T=d;try{var _=a(u,r),E=I.S;E!==null&&E(d,_),sp(e,n,_)}catch(w){Dc(e,n,w)}finally{f!==null&&d.types!==null&&(f.types=d.types),I.T=f}}else try{f=a(u,r),sp(e,n,f)}catch(w){Dc(e,n,w)}}function sp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){ap(e,n,r)},function(r){return Dc(e,n,r)}):ap(e,n,a)}function ap(e,n,a){n.status="fulfilled",n.value=a,lp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,ip(e,a)))}function Dc(e,n,a){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=a,lp(n),n=n.next;while(n!==r)}e.action=null}function lp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function rp(e,n){return n}function op(e,n){if(ue){var a=Oe.formState;if(a!==null){e:{var r=J;if(ue){if(Me){t:{for(var u=Me,f=qt;u.nodeType!==8;){if(!f){u=null;break t}if(u=Yt(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Me=Yt(u.nextSibling),r=u.data==="F!";break e}}Zn(r)}r=!1}r&&(n=a[0])}}return a=ht(),a.memoizedState=a.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rp,lastRenderedState:n},a.queue=r,a=Np.bind(null,J,r),r.dispatch=a,r=Oc(!1),f=Uc.bind(null,J,!1,r.queue),r=ht(),u={state:n,dispatch:null,action:e,pending:null},r.queue=u,a=Tb.bind(null,J,u,f,a),u.dispatch=a,r.memoizedState=e,[n,a,!1]}function up(e){var n=Pe();return cp(n,Te,e)}function cp(e,n,a){if(n=Nc(e,n,rp)[0],e=jr(Nn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=Wa(n)}catch(d){throw d===Us?Dr:d}else r=n;n=Pe();var u=n.queue,f=u.dispatch;return a!==n.memoizedState&&(J.flags|=2048,Ps(9,{destroy:void 0},Cb.bind(null,u,a),null)),[r,f,e]}function Cb(e,n){e.action=n}function fp(e){var n=Pe(),a=Te;if(a!==null)return cp(n,a,e);Pe(),n=n.memoizedState,a=Pe();var r=a.queue.dispatch;return a.memoizedState=e,[n,r,!1]}function Ps(e,n,a,r){return e={tag:e,create:a,deps:r,inst:n,next:null},n=J.updateQueue,n===null&&(n=Hr(),J.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,n.lastEffect=e),e}function hp(){return Pe().memoizedState}function Pr(e,n,a,r){var u=ht();J.flags|=e,u.memoizedState=Ps(1|n,{destroy:void 0},a,r===void 0?null:r)}function Gr(e,n,a,r){var u=Pe();r=r===void 0?null:r;var f=u.memoizedState.inst;Te!==null&&r!==null&&Sc(r,Te.memoizedState.deps)?u.memoizedState=Ps(n,f,a,r):(J.flags|=e,u.memoizedState=Ps(1|n,f,a,r))}function dp(e,n){Pr(8390656,8,e,n)}function Ic(e,n){Gr(2048,8,e,n)}function Ab(e){J.flags|=4;var n=J.updateQueue;if(n===null)n=Hr(),J.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function mp(e){var n=Pe().memoizedState;return Ab({ref:n,nextImpl:e}),function(){if((ge&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function pp(e,n){return Gr(4,2,e,n)}function gp(e,n){return Gr(4,4,e,n)}function _p(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function yp(e,n,a){a=a!=null?a.concat([e]):null,Gr(4,4,_p.bind(null,n,e),a)}function Mc(){}function vp(e,n){var a=Pe();n=n===void 0?null:n;var r=a.memoizedState;return n!==null&&Sc(n,r[1])?r[0]:(a.memoizedState=[e,n],e)}function Ep(e,n){var a=Pe();n=n===void 0?null:n;var r=a.memoizedState;if(n!==null&&Sc(n,r[1]))return r[0];if(r=e(),Zi){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[r,n],r}function xc(e,n,a){return a===void 0||(wn&1073741824)!==0&&(le&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Sg(),J.lanes|=e,li|=e,a)}function Sp(e,n,a,r){return Dt(a,n)?a:Hs.current!==null?(e=xc(e,a,r),Dt(e,n)||(Ve=!0),e):(wn&42)===0||(wn&1073741824)!==0&&(le&261930)===0?(Ve=!0,e.memoizedState=a):(e=Sg(),J.lanes|=e,li|=e,n)}function bp(e,n,a,r,u){var f=H.p;H.p=f!==0&&8>f?f:8;var d=I.T,_={};I.T=_,Uc(e,!1,n,a);try{var E=u(),w=I.S;if(w!==null&&w(_,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var D=Eb(E,r);Za(e,n,D,Ut(e))}else Za(e,n,r,Ut(e))}catch(x){Za(e,n,{then:function(){},status:"rejected",reason:x},Ut())}finally{H.p=f,d!==null&&_.types!==null&&(d.types=_.types),I.T=d}}function wb(){}function Lc(e,n,a,r){if(e.tag!==5)throw Error(l(476));var u=Tp(e).queue;bp(e,u,n,X,a===null?wb:function(){return Cp(e),a(r)})}function Tp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:X},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Cp(e){var n=Tp(e);n.next===null&&(n=e.alternate.memoizedState),Za(e,n.next.queue,{},Ut())}function kc(){return nt(ml)}function Ap(){return Pe().memoizedState}function wp(){return Pe().memoizedState}function Nb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Ut();e=ei(a);var r=ti(n,e,a);r!==null&&(At(r,n,a),Fa(r,n,a)),n={cache:cc()},e.payload=n;return}n=n.return}}function Rb(e,n,a){var r=Ut();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qr(e)?Rp(n,a):(a=$u(e,n,a,r),a!==null&&(At(a,e,r),Op(a,n,r)))}function Np(e,n,a){var r=Ut();Za(e,n,a,r)}function Za(e,n,a,r){var u={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qr(e))Rp(n,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var d=n.lastRenderedState,_=f(d,a);if(u.hasEagerState=!0,u.eagerState=_,Dt(_,d))return Tr(e,n,u,0),Oe===null&&br(),!1}catch{}if(a=$u(e,n,u,r),a!==null)return At(a,e,r),Op(a,n,r),!0}return!1}function Uc(e,n,a,r){if(r={lane:2,revertLane:pf(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},qr(e)){if(n)throw Error(l(479))}else n=$u(e,a,r,2),n!==null&&At(n,e,2)}function qr(e){var n=e.alternate;return e===J||n!==null&&n===J}function Rp(e,n){Bs=Ur=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Op(e,n,a){if((a&4194048)!==0){var r=n.lanes;r&=e.pendingLanes,a|=r,n.lanes=a,Ld(e,a)}}var Ja={readContext:nt,use:Br,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useLayoutEffect:ke,useInsertionEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useSyncExternalStore:ke,useId:ke,useHostTransitionStatus:ke,useFormState:ke,useActionState:ke,useOptimistic:ke,useMemoCache:ke,useCacheRefresh:ke};Ja.useEffectEvent=ke;var Dp={readContext:nt,use:Br,useCallback:function(e,n){return ht().memoizedState=[e,n===void 0?null:n],e},useContext:nt,useEffect:dp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Pr(4194308,4,_p.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Pr(4194308,4,e,n)},useInsertionEffect:function(e,n){Pr(4,2,e,n)},useMemo:function(e,n){var a=ht();n=n===void 0?null:n;var r=e();if(Zi){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[r,n],r},useReducer:function(e,n,a){var r=ht();if(a!==void 0){var u=a(n);if(Zi){Fn(!0);try{a(n)}finally{Fn(!1)}}}else u=n;return r.memoizedState=r.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},r.queue=e,e=e.dispatch=Rb.bind(null,J,e),[r.memoizedState,e]},useRef:function(e){var n=ht();return e={current:e},n.memoizedState=e},useState:function(e){e=Oc(e);var n=e.queue,a=Np.bind(null,J,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Mc,useDeferredValue:function(e,n){var a=ht();return xc(a,e,n)},useTransition:function(){var e=Oc(!1);return e=bp.bind(null,J,e.queue,!0,!1),ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var r=J,u=ht();if(ue){if(a===void 0)throw Error(l(407));a=a()}else{if(a=n(),Oe===null)throw Error(l(349));(le&127)!==0||Zm(r,n,a)}u.memoizedState=a;var f={value:a,getSnapshot:n};return u.queue=f,dp($m.bind(null,r,f,e),[e]),r.flags|=2048,Ps(9,{destroy:void 0},Jm.bind(null,r,f,a,n),null),a},useId:function(){var e=ht(),n=Oe.identifierPrefix;if(ue){var a=fn,r=cn;a=(r&~(1<<32-Ot(r)-1)).toString(32)+a,n="_"+n+"R_"+a,a=zr++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Sb++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:kc,useFormState:op,useActionState:op,useOptimistic:function(e){var n=ht();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Uc.bind(null,J,!0,a),a.dispatch=n,[e,n]},useMemoCache:wc,useCacheRefresh:function(){return ht().memoizedState=Nb.bind(null,J)},useEffectEvent:function(e){var n=ht(),a={impl:e};return n.memoizedState=a,function(){if((ge&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},zc={readContext:nt,use:Br,useCallback:vp,useContext:nt,useEffect:Ic,useImperativeHandle:yp,useInsertionEffect:pp,useLayoutEffect:gp,useMemo:Ep,useReducer:jr,useRef:hp,useState:function(){return jr(Nn)},useDebugValue:Mc,useDeferredValue:function(e,n){var a=Pe();return Sp(a,Te.memoizedState,e,n)},useTransition:function(){var e=jr(Nn)[0],n=Pe().memoizedState;return[typeof e=="boolean"?e:Wa(e),n]},useSyncExternalStore:Wm,useId:Ap,useHostTransitionStatus:kc,useFormState:up,useActionState:up,useOptimistic:function(e,n){var a=Pe();return np(a,Te,e,n)},useMemoCache:wc,useCacheRefresh:wp};zc.useEffectEvent=mp;var Ip={readContext:nt,use:Br,useCallback:vp,useContext:nt,useEffect:Ic,useImperativeHandle:yp,useInsertionEffect:pp,useLayoutEffect:gp,useMemo:Ep,useReducer:Rc,useRef:hp,useState:function(){return Rc(Nn)},useDebugValue:Mc,useDeferredValue:function(e,n){var a=Pe();return Te===null?xc(a,e,n):Sp(a,Te.memoizedState,e,n)},useTransition:function(){var e=Rc(Nn)[0],n=Pe().memoizedState;return[typeof e=="boolean"?e:Wa(e),n]},useSyncExternalStore:Wm,useId:Ap,useHostTransitionStatus:kc,useFormState:fp,useActionState:fp,useOptimistic:function(e,n){var a=Pe();return Te!==null?np(a,Te,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:wc,useCacheRefresh:wp};Ip.useEffectEvent=mp;function Hc(e,n,a,r){n=e.memoizedState,a=a(r,n),a=a==null?n:y({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Bc={enqueueSetState:function(e,n,a){e=e._reactInternals;var r=Ut(),u=ei(r);u.payload=n,a!=null&&(u.callback=a),n=ti(e,u,r),n!==null&&(At(n,e,r),Fa(n,e,r))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var r=Ut(),u=ei(r);u.tag=1,u.payload=n,a!=null&&(u.callback=a),n=ti(e,u,r),n!==null&&(At(n,e,r),Fa(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Ut(),r=ei(a);r.tag=2,n!=null&&(r.callback=n),n=ti(e,r,a),n!==null&&(At(n,e,a),Fa(n,e,a))}};function Mp(e,n,a,r,u,f,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,d):n.prototype&&n.prototype.isPureReactComponent?!Ha(a,r)||!Ha(u,f):!0}function xp(e,n,a,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,r),n.state!==e&&Bc.enqueueReplaceState(n,n.state,null)}function Ji(e,n){var a=n;if("ref"in n){a={};for(var r in n)r!=="ref"&&(a[r]=n[r])}if(e=e.defaultProps){a===n&&(a=y({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function Lp(e){Sr(e)}function kp(e){console.error(e)}function Up(e){Sr(e)}function Vr(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function zp(e,n,a){try{var r=e.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function jc(e,n,a){return a=ei(a),a.tag=3,a.payload={element:null},a.callback=function(){Vr(e,n)},a}function Hp(e){return e=ei(e),e.tag=3,e}function Bp(e,n,a,r){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=r.value;e.payload=function(){return u(f)},e.callback=function(){zp(n,a,r)}}var d=a.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){zp(n,a,r),typeof u!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function Ob(e,n,a,r,u){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=a.alternate,n!==null&&xs(n,a,u,!0),a=Mt.current,a!==null){switch(a.tag){case 31:case 13:return Vt===null?no():a.alternate===null&&Ue===0&&(Ue=3),a.flags&=-257,a.flags|=65536,a.lanes=u,r===Ir?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([r]):n.add(r),hf(e,r,u)),!1;case 22:return a.flags|=65536,r===Ir?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([r]):a.add(r)),hf(e,r,u)),!1}throw Error(l(435,a.tag))}return hf(e,r,u),no(),!1}if(ue)return n=Mt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,r!==ac&&(e=Error(l(422),{cause:r}),Pa(jt(e,a)))):(r!==ac&&(n=Error(l(423),{cause:r}),Pa(jt(n,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,r=jt(r,a),u=jc(e.stateNode,r,u),gc(e,u),Ue!==4&&(Ue=2)),!1;var f=Error(l(520),{cause:r});if(f=jt(f,a),ll===null?ll=[f]:ll.push(f),Ue!==4&&(Ue=2),n===null)return!0;r=jt(r,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=jc(a.stateNode,r,e),gc(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ri===null||!ri.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=Hp(u),Bp(u,e,a,r),gc(a,u),!1}a=a.return}while(a!==null);return!1}var Pc=Error(l(461)),Ve=!1;function it(e,n,a,r){n.child=e===null?qm(n,null,a,r):Wi(n,e.child,a,r)}function jp(e,n,a,r,u){a=a.render;var f=n.ref;if("ref"in r){var d={};for(var _ in r)_!=="ref"&&(d[_]=r[_])}else d=r;return Fi(n),r=bc(e,n,a,d,f,u),_=Tc(),e!==null&&!Ve?(Cc(e,n,u),Rn(e,n,u)):(ue&&_&&ic(n),n.flags|=1,it(e,n,r,u),n.child)}function Pp(e,n,a,r,u){if(e===null){var f=a.type;return typeof f=="function"&&!ec(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Gp(e,n,f,r,u)):(e=Ar(a.type,null,r,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Xc(e,u)){var d=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ha,a(d,r)&&e.ref===n.ref)return Rn(e,n,u)}return n.flags|=1,e=bn(f,r),e.ref=n.ref,e.return=n,n.child=e}function Gp(e,n,a,r,u){if(e!==null){var f=e.memoizedProps;if(Ha(f,r)&&e.ref===n.ref)if(Ve=!1,n.pendingProps=r=f,Xc(e,u))(e.flags&131072)!==0&&(Ve=!0);else return n.lanes=e.lanes,Rn(e,n,u)}return Gc(e,n,a,r,u)}function qp(e,n,a,r){var u=r.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(r=n.child=e.child,u=0;r!==null;)u=u|r.lanes|r.childLanes,r=r.sibling;r=u&~f}else r=0,n.child=null;return Vp(e,n,f,a,r)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Or(n,f!==null?f.cachePool:null),f!==null?Fm(n,f):yc(),Qm(n);else return r=n.lanes=536870912,Vp(e,n,f!==null?f.baseLanes|a:a,a,r)}else f!==null?(Or(n,f.cachePool),Fm(n,f),ii(),n.memoizedState=null):(e!==null&&Or(n,null),yc(),ii());return it(e,n,u,a),n.child}function $a(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Vp(e,n,a,r,u){var f=hc();return f=f===null?null:{parent:Ge._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Or(n,null),yc(),Qm(n),e!==null&&xs(e,n,r,!0),n.childLanes=u,null}function Yr(e,n){return n=Qr({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Yp(e,n,a){return Wi(n,e.child,null,a),e=Yr(n,n.pendingProps),e.flags|=2,xt(n),n.memoizedState=null,e}function Db(e,n,a){var r=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ue){if(r.mode==="hidden")return e=Yr(n,r),n.lanes=536870912,$a(null,e);if(Ec(n),(e=Me)?(e=i_(e,qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Xn!==null?{id:cn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},a=Rm(e),a.return=n,n.child=a,tt=n,Me=null)):e=null,e===null)throw Zn(n);return n.lanes=536870912,null}return Yr(n,r)}var f=e.memoizedState;if(f!==null){var d=f.dehydrated;if(Ec(n),u)if(n.flags&256)n.flags&=-257,n=Yp(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(l(558));else if(Ve||xs(e,n,a,!1),u=(a&e.childLanes)!==0,Ve||u){if(r=Oe,r!==null&&(d=kd(r,a),d!==0&&d!==f.retryLane))throw f.retryLane=d,Gi(e,d),At(r,e,d),Pc;no(),n=Yp(e,n,a)}else e=f.treeContext,Me=Yt(d.nextSibling),tt=n,ue=!0,Wn=null,qt=!1,e!==null&&Im(n,e),n=Yr(n,r),n.flags|=4096;return n}return e=bn(e.child,{mode:r.mode,children:r.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Fr(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Gc(e,n,a,r,u){return Fi(n),a=bc(e,n,a,r,void 0,u),r=Tc(),e!==null&&!Ve?(Cc(e,n,u),Rn(e,n,u)):(ue&&r&&ic(n),n.flags|=1,it(e,n,a,u),n.child)}function Fp(e,n,a,r,u,f){return Fi(n),n.updateQueue=null,a=Xm(n,r,a,u),Km(e),r=Tc(),e!==null&&!Ve?(Cc(e,n,f),Rn(e,n,f)):(ue&&r&&ic(n),n.flags|=1,it(e,n,a,f),n.child)}function Qp(e,n,a,r,u){if(Fi(n),n.stateNode===null){var f=Os,d=a.contextType;typeof d=="object"&&d!==null&&(f=nt(d)),f=new a(r,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Bc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=r,f.state=n.memoizedState,f.refs={},mc(n),d=a.contextType,f.context=typeof d=="object"&&d!==null?nt(d):Os,f.state=n.memoizedState,d=a.getDerivedStateFromProps,typeof d=="function"&&(Hc(n,a,d,r),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(d=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),d!==f.state&&Bc.enqueueReplaceState(f,f.state,null),Ka(n,r,f,u),Qa(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){f=n.stateNode;var _=n.memoizedProps,E=Ji(a,_);f.props=E;var w=f.context,D=a.contextType;d=Os,typeof D=="object"&&D!==null&&(d=nt(D));var x=a.getDerivedStateFromProps;D=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,D||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||w!==d)&&xp(n,f,r,d),$n=!1;var N=n.memoizedState;f.state=N,Ka(n,r,f,u),Qa(),w=n.memoizedState,_||N!==w||$n?(typeof x=="function"&&(Hc(n,a,x,r),w=n.memoizedState),(E=$n||Mp(n,a,E,r,N,w,d))?(D||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=w),f.props=r,f.state=w,f.context=d,r=E):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{f=n.stateNode,pc(e,n),d=n.memoizedProps,D=Ji(a,d),f.props=D,x=n.pendingProps,N=f.context,w=a.contextType,E=Os,typeof w=="object"&&w!==null&&(E=nt(w)),_=a.getDerivedStateFromProps,(w=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(d!==x||N!==E)&&xp(n,f,r,E),$n=!1,N=n.memoizedState,f.state=N,Ka(n,r,f,u),Qa();var O=n.memoizedState;d!==x||N!==O||$n||e!==null&&e.dependencies!==null&&Nr(e.dependencies)?(typeof _=="function"&&(Hc(n,a,_,r),O=n.memoizedState),(D=$n||Mp(n,a,D,r,N,O,E)||e!==null&&e.dependencies!==null&&Nr(e.dependencies))?(w||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,O,E),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,O,E)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=O),f.props=r,f.state=O,f.context=E,r=D):(typeof f.componentDidUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),r=!1)}return f=r,Fr(e,n),r=(n.flags&128)!==0,f||r?(f=n.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&r?(n.child=Wi(n,e.child,null,u),n.child=Wi(n,null,a,u)):it(e,n,a,u),n.memoizedState=f.state,e=n.child):e=Rn(e,n,u),e}function Kp(e,n,a,r){return Vi(),n.flags|=256,it(e,n,a,r),n.child}var qc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vc(e){return{baseLanes:e,cachePool:zm()}}function Yc(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=kt),e}function Xp(e,n,a){var r=n.pendingProps,u=!1,f=(n.flags&128)!==0,d;if((d=f)||(d=e!==null&&e.memoizedState===null?!1:(je.current&2)!==0),d&&(u=!0,n.flags&=-129),d=(n.flags&32)!==0,n.flags&=-33,e===null){if(ue){if(u?ni(n):ii(),(e=Me)?(e=i_(e,qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Xn!==null?{id:cn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},a=Rm(e),a.return=n,n.child=a,tt=n,Me=null)):e=null,e===null)throw Zn(n);return Rf(e)?n.lanes=32:n.lanes=536870912,null}var _=r.children;return r=r.fallback,u?(ii(),u=n.mode,_=Qr({mode:"hidden",children:_},u),r=qi(r,u,a,null),_.return=n,r.return=n,_.sibling=r,n.child=_,r=n.child,r.memoizedState=Vc(a),r.childLanes=Yc(e,d,a),n.memoizedState=qc,$a(null,r)):(ni(n),Fc(n,_))}var E=e.memoizedState;if(E!==null&&(_=E.dehydrated,_!==null)){if(f)n.flags&256?(ni(n),n.flags&=-257,n=Qc(e,n,a)):n.memoizedState!==null?(ii(),n.child=e.child,n.flags|=128,n=null):(ii(),_=r.fallback,u=n.mode,r=Qr({mode:"visible",children:r.children},u),_=qi(_,u,a,null),_.flags|=2,r.return=n,_.return=n,r.sibling=_,n.child=r,Wi(n,e.child,null,a),r=n.child,r.memoizedState=Vc(a),r.childLanes=Yc(e,d,a),n.memoizedState=qc,n=$a(null,r));else if(ni(n),Rf(_)){if(d=_.nextSibling&&_.nextSibling.dataset,d)var w=d.dgst;d=w,r=Error(l(419)),r.stack="",r.digest=d,Pa({value:r,source:null,stack:null}),n=Qc(e,n,a)}else if(Ve||xs(e,n,a,!1),d=(a&e.childLanes)!==0,Ve||d){if(d=Oe,d!==null&&(r=kd(d,a),r!==0&&r!==E.retryLane))throw E.retryLane=r,Gi(e,r),At(d,e,r),Pc;Nf(_)||no(),n=Qc(e,n,a)}else Nf(_)?(n.flags|=192,n.child=e.child,n=null):(e=E.treeContext,Me=Yt(_.nextSibling),tt=n,ue=!0,Wn=null,qt=!1,e!==null&&Im(n,e),n=Fc(n,r.children),n.flags|=4096);return n}return u?(ii(),_=r.fallback,u=n.mode,E=e.child,w=E.sibling,r=bn(E,{mode:"hidden",children:r.children}),r.subtreeFlags=E.subtreeFlags&65011712,w!==null?_=bn(w,_):(_=qi(_,u,a,null),_.flags|=2),_.return=n,r.return=n,r.sibling=_,n.child=r,$a(null,r),r=n.child,_=e.child.memoizedState,_===null?_=Vc(a):(u=_.cachePool,u!==null?(E=Ge._currentValue,u=u.parent!==E?{parent:E,pool:E}:u):u=zm(),_={baseLanes:_.baseLanes|a,cachePool:u}),r.memoizedState=_,r.childLanes=Yc(e,d,a),n.memoizedState=qc,$a(e.child,r)):(ni(n),a=e.child,e=a.sibling,a=bn(a,{mode:"visible",children:r.children}),a.return=n,a.sibling=null,e!==null&&(d=n.deletions,d===null?(n.deletions=[e],n.flags|=16):d.push(e)),n.child=a,n.memoizedState=null,a)}function Fc(e,n){return n=Qr({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Qr(e,n){return e=It(22,e,null,n),e.lanes=0,e}function Qc(e,n,a){return Wi(n,e.child,null,a),e=Fc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Wp(e,n,a){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),oc(e.return,n,a)}function Kc(e,n,a,r,u,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:u,treeForkCount:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=r,d.tail=a,d.tailMode=u,d.treeForkCount=f)}function Zp(e,n,a){var r=n.pendingProps,u=r.revealOrder,f=r.tail;r=r.children;var d=je.current,_=(d&2)!==0;if(_?(d=d&1|2,n.flags|=128):d&=1,B(je,d),it(e,n,r,a),r=ue?ja:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wp(e,a,n);else if(e.tag===19)Wp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=n.child,u=null;a!==null;)e=a.alternate,e!==null&&kr(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=n.child,n.child=null):(u=a.sibling,a.sibling=null),Kc(n,!1,u,a,f,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&kr(e)===null){n.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}Kc(n,!0,a,null,f,r);break;case"together":Kc(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function Rn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),li|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(xs(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,a=bn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=bn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Xc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nr(e)))}function Ib(e,n,a){switch(n.tag){case 3:ft(n,n.stateNode.containerInfo),Jn(n,Ge,e.memoizedState.cache),Vi();break;case 27:case 5:Aa(n);break;case 4:ft(n,n.stateNode.containerInfo);break;case 10:Jn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ec(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(ni(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Xp(e,n,a):(ni(n),e=Rn(e,n,a),e!==null?e.sibling:null);ni(n);break;case 19:var u=(e.flags&128)!==0;if(r=(a&n.childLanes)!==0,r||(xs(e,n,a,!1),r=(a&n.childLanes)!==0),u){if(r)return Zp(e,n,a);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),B(je,je.current),r)break;return null;case 22:return n.lanes=0,qp(e,n,a,n.pendingProps);case 24:Jn(n,Ge,e.memoizedState.cache)}return Rn(e,n,a)}function Jp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Xc(e,a)&&(n.flags&128)===0)return Ve=!1,Ib(e,n,a);Ve=(e.flags&131072)!==0}else Ve=!1,ue&&(n.flags&1048576)!==0&&Dm(n,ja,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(e=Ki(n.elementType),n.type=e,typeof e=="function")ec(e)?(r=Ji(e,r),n.tag=1,n=Qp(null,n,e,r,a)):(n.tag=0,n=Gc(null,n,e,r,a));else{if(e!=null){var u=e.$$typeof;if(u===Se){n.tag=11,n=jp(null,n,e,r,a);break e}else if(u===oe){n.tag=14,n=Pp(null,n,e,r,a);break e}}throw n=yn(e)||e,Error(l(306,n,""))}}return n;case 0:return Gc(e,n,n.type,n.pendingProps,a);case 1:return r=n.type,u=Ji(r,n.pendingProps),Qp(e,n,r,u,a);case 3:e:{if(ft(n,n.stateNode.containerInfo),e===null)throw Error(l(387));r=n.pendingProps;var f=n.memoizedState;u=f.element,pc(e,n),Ka(n,r,null,a);var d=n.memoizedState;if(r=d.cache,Jn(n,Ge,r),r!==f.cache&&uc(n,[Ge],a,!0),Qa(),r=d.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:d.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Kp(e,n,r,a);break e}else if(r!==u){u=jt(Error(l(424)),n),Pa(u),n=Kp(e,n,r,a);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Me=Yt(e.firstChild),tt=n,ue=!0,Wn=null,qt=!0,a=qm(n,null,r,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Vi(),r===u){n=Rn(e,n,a);break e}it(e,n,r,a)}n=n.child}return n;case 26:return Fr(e,n),e===null?(a=u_(n.type,null,n.pendingProps,null))?n.memoizedState=a:ue||(a=n.type,e=n.pendingProps,r=uo(ne.current).createElement(a),r[et]=n,r[vt]=e,st(r,a,e),Xe(r),n.stateNode=r):n.memoizedState=u_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Aa(n),e===null&&ue&&(r=n.stateNode=l_(n.type,n.pendingProps,ne.current),tt=n,qt=!0,u=Me,fi(n.type)?(Of=u,Me=Yt(r.firstChild)):Me=u),it(e,n,n.pendingProps.children,a),Fr(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ue&&((u=r=Me)&&(r=r0(r,n.type,n.pendingProps,qt),r!==null?(n.stateNode=r,tt=n,Me=Yt(r.firstChild),qt=!1,u=!0):u=!1),u||Zn(n)),Aa(n),u=n.type,f=n.pendingProps,d=e!==null?e.memoizedProps:null,r=f.children,Cf(u,f)?r=null:d!==null&&Cf(u,d)&&(n.flags|=32),n.memoizedState!==null&&(u=bc(e,n,bb,null,null,a),ml._currentValue=u),Fr(e,n),it(e,n,r,a),n.child;case 6:return e===null&&ue&&((e=a=Me)&&(a=o0(a,n.pendingProps,qt),a!==null?(n.stateNode=a,tt=n,Me=null,e=!0):e=!1),e||Zn(n)),null;case 13:return Xp(e,n,a);case 4:return ft(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=Wi(n,null,r,a):it(e,n,r,a),n.child;case 11:return jp(e,n,n.type,n.pendingProps,a);case 7:return it(e,n,n.pendingProps,a),n.child;case 8:return it(e,n,n.pendingProps.children,a),n.child;case 12:return it(e,n,n.pendingProps.children,a),n.child;case 10:return r=n.pendingProps,Jn(n,n.type,r.value),it(e,n,r.children,a),n.child;case 9:return u=n.type._context,r=n.pendingProps.children,Fi(n),u=nt(u),r=r(u),n.flags|=1,it(e,n,r,a),n.child;case 14:return Pp(e,n,n.type,n.pendingProps,a);case 15:return Gp(e,n,n.type,n.pendingProps,a);case 19:return Zp(e,n,a);case 31:return Db(e,n,a);case 22:return qp(e,n,a,n.pendingProps);case 24:return Fi(n),r=nt(Ge),e===null?(u=hc(),u===null&&(u=Oe,f=cc(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),n.memoizedState={parent:r,cache:u},mc(n),Jn(n,Ge,u)):((e.lanes&a)!==0&&(pc(e,n),Ka(n,null,null,a),Qa()),u=e.memoizedState,f=n.memoizedState,u.parent!==r?(u={parent:r,cache:r},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),Jn(n,Ge,r)):(r=f.cache,Jn(n,Ge,r),r!==u.cache&&uc(n,[Ge],a,!0))),it(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function On(e){e.flags|=4}function Wc(e,n,a,r,u){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Ag())e.flags|=8192;else throw Xi=Ir,dc}else e.flags&=-16777217}function $p(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!m_(n))if(Ag())e.flags|=8192;else throw Xi=Ir,dc}function Kr(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Md():536870912,e.lanes|=n,Ys|=n)}function el(e,n){if(!ue)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xe(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(n)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=r,e.childLanes=a,n}function Mb(e,n,a){var r=n.pendingProps;switch(sc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(n),null;case 1:return xe(n),null;case 3:return a=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),An(Ge),Be(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ms(n)?On(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,lc())),xe(n),null;case 26:var u=n.type,f=n.memoizedState;return e===null?(On(n),f!==null?(xe(n),$p(n,f)):(xe(n),Wc(n,u,null,r,a))):f?f!==e.memoizedState?(On(n),xe(n),$p(n,f)):(xe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==r&&On(n),xe(n),Wc(n,u,e,r,a)),null;case 27:if(ar(n),a=ne.current,u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&On(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return xe(n),null}e=G.current,Ms(n)?Mm(n):(e=l_(u,r,a),n.stateNode=e,On(n))}return xe(n),null;case 5:if(ar(n),u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&On(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return xe(n),null}if(f=G.current,Ms(n))Mm(n);else{var d=uo(ne.current);switch(f){case 1:f=d.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=d.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=d.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof r.is=="string"?d.createElement("select",{is:r.is}):d.createElement("select"),r.multiple?f.multiple=!0:r.size&&(f.size=r.size);break;default:f=typeof r.is=="string"?d.createElement(u,{is:r.is}):d.createElement(u)}}f[et]=n,f[vt]=r;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)f.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=f;e:switch(st(f,u,r),u){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&On(n)}}return xe(n),Wc(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==r&&On(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(l(166));if(e=ne.current,Ms(n)){if(e=n.stateNode,a=n.memoizedProps,r=null,u=tt,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}e[et]=n,e=!!(e.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||Xg(e.nodeValue,a)),e||Zn(n,!0)}else e=uo(e).createTextNode(r),e[et]=n,n.stateNode=e}return xe(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(r=Ms(n),a!==null){if(e===null){if(!r)throw Error(l(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[et]=n}else Vi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;xe(n),e=!1}else a=lc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(xt(n),n):(xt(n),null);if((n.flags&128)!==0)throw Error(l(558))}return xe(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ms(n),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[et]=n}else Vi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;xe(n),u=!1}else u=lc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(xt(n),n):(xt(n),null)}return xt(n),(n.flags&128)!==0?(n.lanes=a,n):(a=r!==null,e=e!==null&&e.memoizedState!==null,a&&(r=n.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==u&&(r.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Kr(n,n.updateQueue),xe(n),null);case 4:return Be(),e===null&&vf(n.stateNode.containerInfo),xe(n),null;case 10:return An(n.type),xe(n),null;case 19:if(L(je),r=n.memoizedState,r===null)return xe(n),null;if(u=(n.flags&128)!==0,f=r.rendering,f===null)if(u)el(r,!1);else{if(Ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=kr(e),f!==null){for(n.flags|=128,el(r,!1),e=f.updateQueue,n.updateQueue=e,Kr(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Nm(a,e),a=a.sibling;return B(je,je.current&1|2),ue&&Tn(n,r.treeForkCount),n.child}e=e.sibling}r.tail!==null&&Nt()>$r&&(n.flags|=128,u=!0,el(r,!1),n.lanes=4194304)}else{if(!u)if(e=kr(f),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,Kr(n,e),el(r,!0),r.tail===null&&r.tailMode==="hidden"&&!f.alternate&&!ue)return xe(n),null}else 2*Nt()-r.renderingStartTime>$r&&a!==536870912&&(n.flags|=128,u=!0,el(r,!1),n.lanes=4194304);r.isBackwards?(f.sibling=n.child,n.child=f):(e=r.last,e!==null?e.sibling=f:n.child=f,r.last=f)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Nt(),e.sibling=null,a=je.current,B(je,u?a&1|2:a&1),ue&&Tn(n,r.treeForkCount),e):(xe(n),null);case 22:case 23:return xt(n),vc(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(a&536870912)!==0&&(n.flags&128)===0&&(xe(n),n.subtreeFlags&6&&(n.flags|=8192)):xe(n),a=n.updateQueue,a!==null&&Kr(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==a&&(n.flags|=2048),e!==null&&L(Qi),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),An(Ge),xe(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function xb(e,n){switch(sc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return An(Ge),Be(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ar(n),null;case 31:if(n.memoizedState!==null){if(xt(n),n.alternate===null)throw Error(l(340));Vi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(xt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));Vi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return L(je),null;case 4:return Be(),null;case 10:return An(n.type),null;case 22:case 23:return xt(n),vc(),e!==null&&L(Qi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return An(Ge),null;case 25:return null;default:return null}}function eg(e,n){switch(sc(n),n.tag){case 3:An(Ge),Be();break;case 26:case 27:case 5:ar(n);break;case 4:Be();break;case 31:n.memoizedState!==null&&xt(n);break;case 13:xt(n);break;case 19:L(je);break;case 10:An(n.type);break;case 22:case 23:xt(n),vc(),e!==null&&L(Qi);break;case 24:An(Ge)}}function tl(e,n){try{var a=n.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var u=r.next;a=u;do{if((a.tag&e)===e){r=void 0;var f=a.create,d=a.inst;r=f(),d.destroy=r}a=a.next}while(a!==u)}}catch(_){Ee(n,n.return,_)}}function si(e,n,a){try{var r=n.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var f=u.next;r=f;do{if((r.tag&e)===e){var d=r.inst,_=d.destroy;if(_!==void 0){d.destroy=void 0,u=n;var E=a,w=_;try{w()}catch(D){Ee(u,E,D)}}}r=r.next}while(r!==f)}}catch(D){Ee(n,n.return,D)}}function tg(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Ym(n,a)}catch(r){Ee(e,e.return,r)}}}function ng(e,n,a){a.props=Ji(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(r){Ee(e,n,r)}}function nl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof a=="function"?e.refCleanup=a(r):a.current=r}}catch(u){Ee(e,n,u)}}function hn(e,n){var a=e.ref,r=e.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(u){Ee(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Ee(e,n,u)}else a.current=null}function ig(e){var n=e.type,a=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(u){Ee(e,e.return,u)}}function Zc(e,n,a){try{var r=e.stateNode;t0(r,e.type,a,n),r[vt]=n}catch(u){Ee(e,e.return,u)}}function sg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fi(e.type)||e.tag===4}function Jc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $c(e,n,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=En));else if(r!==4&&(r===27&&fi(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for($c(e,n,a),e=e.sibling;e!==null;)$c(e,n,a),e=e.sibling}function Xr(e,n,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(r!==4&&(r===27&&fi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Xr(e,n,a),e=e.sibling;e!==null;)Xr(e,n,a),e=e.sibling}function ag(e){var n=e.stateNode,a=e.memoizedProps;try{for(var r=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);st(n,r,a),n[et]=e,n[vt]=a}catch(f){Ee(e,e.return,f)}}var Dn=!1,Ye=!1,ef=!1,lg=typeof WeakSet=="function"?WeakSet:Set,We=null;function Lb(e,n){if(e=e.containerInfo,bf=_o,e=ym(e),Qu(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var u=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var d=0,_=-1,E=-1,w=0,D=0,x=e,N=null;t:for(;;){for(var O;x!==a||u!==0&&x.nodeType!==3||(_=d+u),x!==f||r!==0&&x.nodeType!==3||(E=d+r),x.nodeType===3&&(d+=x.nodeValue.length),(O=x.firstChild)!==null;)N=x,x=O;for(;;){if(x===e)break t;if(N===a&&++w===u&&(_=d),N===f&&++D===r&&(E=d),(O=x.nextSibling)!==null)break;x=N,N=x.parentNode}x=O}a=_===-1||E===-1?null:{start:_,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tf={focusedElem:e,selectionRange:a},_o=!1,We=n;We!==null;)if(n=We,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,We=e;else for(;We!==null;){switch(n=We,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,u=f.memoizedProps,f=f.memoizedState,r=a.stateNode;try{var P=Ji(a.type,u);e=r.getSnapshotBeforeUpdate(P,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(F){Ee(a,a.return,F)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)wf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,We=e;break}We=n.return}}function rg(e,n,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Mn(e,a),r&4&&tl(5,a);break;case 1:if(Mn(e,a),r&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(d){Ee(a,a.return,d)}else{var u=Ji(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Ee(a,a.return,d)}}r&64&&tg(a),r&512&&nl(a,a.return);break;case 3:if(Mn(e,a),r&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ym(e,n)}catch(d){Ee(a,a.return,d)}}break;case 27:n===null&&r&4&&ag(a);case 26:case 5:Mn(e,a),n===null&&r&4&&ig(a),r&512&&nl(a,a.return);break;case 12:Mn(e,a);break;case 31:Mn(e,a),r&4&&cg(e,a);break;case 13:Mn(e,a),r&4&&fg(e,a),r&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=qb.bind(null,a),u0(e,a))));break;case 22:if(r=a.memoizedState!==null||Dn,!r){n=n!==null&&n.memoizedState!==null||Ye,u=Dn;var f=Ye;Dn=r,(Ye=n)&&!f?xn(e,a,(a.subtreeFlags&8772)!==0):Mn(e,a),Dn=u,Ye=f}break;case 30:break;default:Mn(e,a)}}function og(e){var n=e.alternate;n!==null&&(e.alternate=null,og(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Du(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Le=null,St=!1;function In(e,n,a){for(a=a.child;a!==null;)ug(e,n,a),a=a.sibling}function ug(e,n,a){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(wa,a)}catch{}switch(a.tag){case 26:Ye||hn(a,n),In(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ye||hn(a,n);var r=Le,u=St;fi(a.type)&&(Le=a.stateNode,St=!1),In(e,n,a),fl(a.stateNode),Le=r,St=u;break;case 5:Ye||hn(a,n);case 6:if(r=Le,u=St,Le=null,In(e,n,a),Le=r,St=u,Le!==null)if(St)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(a.stateNode)}catch(f){Ee(a,n,f)}else try{Le.removeChild(a.stateNode)}catch(f){Ee(a,n,f)}break;case 18:Le!==null&&(St?(e=Le,t_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),$s(e)):t_(Le,a.stateNode));break;case 4:r=Le,u=St,Le=a.stateNode.containerInfo,St=!0,In(e,n,a),Le=r,St=u;break;case 0:case 11:case 14:case 15:si(2,a,n),Ye||si(4,a,n),In(e,n,a);break;case 1:Ye||(hn(a,n),r=a.stateNode,typeof r.componentWillUnmount=="function"&&ng(a,n,r)),In(e,n,a);break;case 21:In(e,n,a);break;case 22:Ye=(r=Ye)||a.memoizedState!==null,In(e,n,a),Ye=r;break;default:In(e,n,a)}}function cg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$s(e)}catch(a){Ee(n,n.return,a)}}}function fg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$s(e)}catch(a){Ee(n,n.return,a)}}function kb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new lg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new lg),n;default:throw Error(l(435,e.tag))}}function Wr(e,n){var a=kb(e);n.forEach(function(r){if(!a.has(r)){a.add(r);var u=Vb.bind(null,e,r);r.then(u,u)}})}function bt(e,n){var a=n.deletions;if(a!==null)for(var r=0;r<a.length;r++){var u=a[r],f=e,d=n,_=d;e:for(;_!==null;){switch(_.tag){case 27:if(fi(_.type)){Le=_.stateNode,St=!1;break e}break;case 5:Le=_.stateNode,St=!1;break e;case 3:case 4:Le=_.stateNode.containerInfo,St=!0;break e}_=_.return}if(Le===null)throw Error(l(160));ug(f,d,u),Le=null,St=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)hg(n,e),n=n.sibling}var en=null;function hg(e,n){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bt(n,e),Tt(e),r&4&&(si(3,e,e.return),tl(3,e),si(5,e,e.return));break;case 1:bt(n,e),Tt(e),r&512&&(Ye||a===null||hn(a,a.return)),r&64&&Dn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var u=en;if(bt(n,e),Tt(e),r&512&&(Ye||a===null||hn(a,a.return)),r&4){var f=a!==null?a.memoizedState:null;if(r=e.memoizedState,a===null)if(r===null)if(e.stateNode===null){e:{r=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(r){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Oa]||f[et]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(r),u.head.insertBefore(f,u.querySelector("head > title"))),st(f,r,a),f[et]=e,Xe(f),r=f;break e;case"link":var d=h_("link","href",u).get(r+(a.href||""));if(d){for(var _=0;_<d.length;_++)if(f=d[_],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){d.splice(_,1);break t}}f=u.createElement(r),st(f,r,a),u.head.appendChild(f);break;case"meta":if(d=h_("meta","content",u).get(r+(a.content||""))){for(_=0;_<d.length;_++)if(f=d[_],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){d.splice(_,1);break t}}f=u.createElement(r),st(f,r,a),u.head.appendChild(f);break;default:throw Error(l(468,r))}f[et]=e,Xe(f),r=f}e.stateNode=r}else d_(u,e.type,e.stateNode);else e.stateNode=f_(u,r,e.memoizedProps);else f!==r?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,r===null?d_(u,e.type,e.stateNode):f_(u,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Zc(e,e.memoizedProps,a.memoizedProps)}break;case 27:bt(n,e),Tt(e),r&512&&(Ye||a===null||hn(a,a.return)),a!==null&&r&4&&Zc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(bt(n,e),Tt(e),r&512&&(Ye||a===null||hn(a,a.return)),e.flags&32){u=e.stateNode;try{bs(u,"")}catch(P){Ee(e,e.return,P)}}r&4&&e.stateNode!=null&&(u=e.memoizedProps,Zc(e,u,a!==null?a.memoizedProps:u)),r&1024&&(ef=!0);break;case 6:if(bt(n,e),Tt(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,a=e.stateNode;try{a.nodeValue=r}catch(P){Ee(e,e.return,P)}}break;case 3:if(ho=null,u=en,en=co(n.containerInfo),bt(n,e),en=u,Tt(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{$s(n.containerInfo)}catch(P){Ee(e,e.return,P)}ef&&(ef=!1,dg(e));break;case 4:r=en,en=co(e.stateNode.containerInfo),bt(n,e),Tt(e),en=r;break;case 12:bt(n,e),Tt(e);break;case 31:bt(n,e),Tt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Wr(e,r)));break;case 13:bt(n,e),Tt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Jr=Nt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Wr(e,r)));break;case 22:u=e.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,w=Dn,D=Ye;if(Dn=w||u,Ye=D||E,bt(n,e),Ye=D,Dn=w,Tt(e),r&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(a===null||E||Dn||Ye||$i(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){E=a=n;try{if(f=E.stateNode,u)d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=E.stateNode;var x=E.memoizedProps.style,N=x!=null&&x.hasOwnProperty("display")?x.display:null;_.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(P){Ee(E,E.return,P)}}}else if(n.tag===6){if(a===null){E=n;try{E.stateNode.nodeValue=u?"":E.memoizedProps}catch(P){Ee(E,E.return,P)}}}else if(n.tag===18){if(a===null){E=n;try{var O=E.stateNode;u?n_(O,!0):n_(E.stateNode,!1)}catch(P){Ee(E,E.return,P)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=e.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Wr(e,a))));break;case 19:bt(n,e),Tt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Wr(e,r)));break;case 30:break;case 21:break;default:bt(n,e),Tt(e)}}function Tt(e){var n=e.flags;if(n&2){try{for(var a,r=e.return;r!==null;){if(sg(r)){a=r;break}r=r.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var u=a.stateNode,f=Jc(e);Xr(e,f,u);break;case 5:var d=a.stateNode;a.flags&32&&(bs(d,""),a.flags&=-33);var _=Jc(e);Xr(e,_,d);break;case 3:case 4:var E=a.stateNode.containerInfo,w=Jc(e);$c(e,w,E);break;default:throw Error(l(161))}}catch(D){Ee(e,e.return,D)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function dg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;dg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Mn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)rg(e,n.alternate,n),n=n.sibling}function $i(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:si(4,n,n.return),$i(n);break;case 1:hn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&ng(n,n.return,a),$i(n);break;case 27:fl(n.stateNode);case 26:case 5:hn(n,n.return),$i(n);break;case 22:n.memoizedState===null&&$i(n);break;case 30:$i(n);break;default:$i(n)}e=e.sibling}}function xn(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,u=e,f=n,d=f.flags;switch(f.tag){case 0:case 11:case 15:xn(u,f,a),tl(4,f);break;case 1:if(xn(u,f,a),r=f,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(w){Ee(r,r.return,w)}if(r=f,u=r.updateQueue,u!==null){var _=r.stateNode;try{var E=u.shared.hiddenCallbacks;if(E!==null)for(u.shared.hiddenCallbacks=null,u=0;u<E.length;u++)Vm(E[u],_)}catch(w){Ee(r,r.return,w)}}a&&d&64&&tg(f),nl(f,f.return);break;case 27:ag(f);case 26:case 5:xn(u,f,a),a&&r===null&&d&4&&ig(f),nl(f,f.return);break;case 12:xn(u,f,a);break;case 31:xn(u,f,a),a&&d&4&&cg(u,f);break;case 13:xn(u,f,a),a&&d&4&&fg(u,f);break;case 22:f.memoizedState===null&&xn(u,f,a),nl(f,f.return);break;case 30:break;default:xn(u,f,a)}n=n.sibling}}function tf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ga(a))}function nf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ga(e))}function tn(e,n,a,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)mg(e,n,a,r),n=n.sibling}function mg(e,n,a,r){var u=n.flags;switch(n.tag){case 0:case 11:case 15:tn(e,n,a,r),u&2048&&tl(9,n);break;case 1:tn(e,n,a,r);break;case 3:tn(e,n,a,r),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ga(e)));break;case 12:if(u&2048){tn(e,n,a,r),e=n.stateNode;try{var f=n.memoizedProps,d=f.id,_=f.onPostCommit;typeof _=="function"&&_(d,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Ee(n,n.return,E)}}else tn(e,n,a,r);break;case 31:tn(e,n,a,r);break;case 13:tn(e,n,a,r);break;case 23:break;case 22:f=n.stateNode,d=n.alternate,n.memoizedState!==null?f._visibility&2?tn(e,n,a,r):il(e,n):f._visibility&2?tn(e,n,a,r):(f._visibility|=2,Gs(e,n,a,r,(n.subtreeFlags&10256)!==0||!1)),u&2048&&tf(d,n);break;case 24:tn(e,n,a,r),u&2048&&nf(n.alternate,n);break;default:tn(e,n,a,r)}}function Gs(e,n,a,r,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,d=n,_=a,E=r,w=d.flags;switch(d.tag){case 0:case 11:case 15:Gs(f,d,_,E,u),tl(8,d);break;case 23:break;case 22:var D=d.stateNode;d.memoizedState!==null?D._visibility&2?Gs(f,d,_,E,u):il(f,d):(D._visibility|=2,Gs(f,d,_,E,u)),u&&w&2048&&tf(d.alternate,d);break;case 24:Gs(f,d,_,E,u),u&&w&2048&&nf(d.alternate,d);break;default:Gs(f,d,_,E,u)}n=n.sibling}}function il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,r=n,u=r.flags;switch(r.tag){case 22:il(a,r),u&2048&&tf(r.alternate,r);break;case 24:il(a,r),u&2048&&nf(r.alternate,r);break;default:il(a,r)}n=n.sibling}}var sl=8192;function qs(e,n,a){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)pg(e,n,a),e=e.sibling}function pg(e,n,a){switch(e.tag){case 26:qs(e,n,a),e.flags&sl&&e.memoizedState!==null&&S0(a,en,e.memoizedState,e.memoizedProps);break;case 5:qs(e,n,a);break;case 3:case 4:var r=en;en=co(e.stateNode.containerInfo),qs(e,n,a),en=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=sl,sl=16777216,qs(e,n,a),sl=r):qs(e,n,a));break;default:qs(e,n,a)}}function gg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function al(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var r=n[a];We=r,yg(r,e)}gg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_g(e),e=e.sibling}function _g(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&si(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zr(e)):al(e);break;default:al(e)}}function Zr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var r=n[a];We=r,yg(r,e)}gg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:si(8,n,n.return),Zr(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Zr(n));break;default:Zr(n)}e=e.sibling}}function yg(e,n){for(;We!==null;){var a=We;switch(a.tag){case 0:case 11:case 15:si(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ga(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,We=r;else e:for(a=e;We!==null;){r=We;var u=r.sibling,f=r.return;if(og(r),r===a){We=null;break e}if(u!==null){u.return=f,We=u;break e}We=f}}}var Ub={getCacheForType:function(e){var n=nt(Ge),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return nt(Ge).controller.signal}},zb=typeof WeakMap=="function"?WeakMap:Map,ge=0,Oe=null,ie=null,le=0,ve=0,Lt=null,ai=!1,Vs=!1,sf=!1,Ln=0,Ue=0,li=0,es=0,af=0,kt=0,Ys=0,ll=null,Ct=null,lf=!1,Jr=0,vg=0,$r=1/0,eo=null,ri=null,Fe=0,oi=null,Fs=null,kn=0,rf=0,of=null,Eg=null,rl=0,uf=null;function Ut(){return(ge&2)!==0&&le!==0?le&-le:I.T!==null?pf():Ud()}function Sg(){if(kt===0)if((le&536870912)===0||ue){var e=or;or<<=1,(or&3932160)===0&&(or=262144),kt=e}else kt=536870912;return e=Mt.current,e!==null&&(e.flags|=32),kt}function At(e,n,a){(e===Oe&&(ve===2||ve===9)||e.cancelPendingCommit!==null)&&(Qs(e,0),ui(e,le,kt,!1)),Ra(e,a),((ge&2)===0||e!==Oe)&&(e===Oe&&((ge&2)===0&&(es|=a),Ue===4&&ui(e,le,kt,!1)),dn(e))}function bg(e,n,a){if((ge&6)!==0)throw Error(l(327));var r=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Na(e,n),u=r?jb(e,n):ff(e,n,!0),f=r;do{if(u===0){Vs&&!r&&ui(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!Hb(a)){u=ff(e,n,!1),f=!1;continue}if(u===2){if(f=n,e.errorRecoveryDisabledLanes&f)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){n=d;e:{var _=e;u=ll;var E=_.current.memoizedState.isDehydrated;if(E&&(Qs(_,d).flags|=256),d=ff(_,d,!1),d!==2){if(sf&&!E){_.errorRecoveryDisabledLanes|=f,es|=f,u=4;break e}f=Ct,Ct=u,f!==null&&(Ct===null?Ct=f:Ct.push.apply(Ct,f))}u=d}if(f=!1,u!==2)continue}}if(u===1){Qs(e,0),ui(e,n,0,!0);break}e:{switch(r=e,f=u,f){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:ui(r,n,kt,!ai);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(u=Jr+300-Nt(),10<u)){if(ui(r,n,kt,!ai),cr(r,0,!0)!==0)break e;kn=n,r.timeoutHandle=$g(Tg.bind(null,r,a,Ct,eo,lf,n,kt,es,Ys,ai,f,"Throttled",-0,0),u);break e}Tg(r,a,Ct,eo,lf,n,kt,es,Ys,ai,f,null,-0,0)}}break}while(!0);dn(e)}function Tg(e,n,a,r,u,f,d,_,E,w,D,x,N,O){if(e.timeoutHandle=-1,x=n.subtreeFlags,x&8192||(x&16785408)===16785408){x={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:En},pg(n,f,x);var P=(f&62914560)===f?Jr-Nt():(f&4194048)===f?vg-Nt():0;if(P=b0(x,P),P!==null){kn=f,e.cancelPendingCommit=P(Ig.bind(null,e,n,f,a,r,u,d,_,E,D,x,null,N,O)),ui(e,f,d,!w);return}}Ig(e,n,f,a,r,u,d,_,E)}function Hb(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var u=a[r],f=u.getSnapshot;u=u.value;try{if(!Dt(f(),u))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ui(e,n,a,r){n&=~af,n&=~es,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var u=n;0<u;){var f=31-Ot(u),d=1<<f;r[f]=-1,u&=~d}a!==0&&xd(e,a,n)}function to(){return(ge&6)===0?(ol(0),!1):!0}function cf(){if(ie!==null){if(ve===0)var e=ie.return;else e=ie,Cn=Yi=null,Ac(e),zs=null,Va=0,e=ie;for(;e!==null;)eg(e.alternate,e),e=e.return;ie=null}}function Qs(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,s0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),kn=0,cf(),Oe=e,ie=a=bn(e.current,null),le=n,ve=0,Lt=null,ai=!1,Vs=Na(e,n),sf=!1,Ys=kt=af=es=li=Ue=0,Ct=ll=null,lf=!1,(n&8)!==0&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var u=31-Ot(r),f=1<<u;n|=e[u],r&=~f}return Ln=n,br(),a}function Cg(e,n){J=null,I.H=Ja,n===Us||n===Dr?(n=jm(),ve=3):n===dc?(n=jm(),ve=4):ve=n===Pc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Lt=n,ie===null&&(Ue=1,Vr(e,jt(n,e.current)))}function Ag(){var e=Mt.current;return e===null?!0:(le&4194048)===le?Vt===null:(le&62914560)===le||(le&536870912)!==0?e===Vt:!1}function wg(){var e=I.H;return I.H=Ja,e===null?Ja:e}function Ng(){var e=I.A;return I.A=Ub,e}function no(){Ue=4,ai||(le&4194048)!==le&&Mt.current!==null||(Vs=!0),(li&134217727)===0&&(es&134217727)===0||Oe===null||ui(Oe,le,kt,!1)}function ff(e,n,a){var r=ge;ge|=2;var u=wg(),f=Ng();(Oe!==e||le!==n)&&(eo=null,Qs(e,n)),n=!1;var d=Ue;e:do try{if(ve!==0&&ie!==null){var _=ie,E=Lt;switch(ve){case 8:cf(),d=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(n=!0);var w=ve;if(ve=0,Lt=null,Ks(e,_,E,w),a&&Vs){d=0;break e}break;default:w=ve,ve=0,Lt=null,Ks(e,_,E,w)}}Bb(),d=Ue;break}catch(D){Cg(e,D)}while(!0);return n&&e.shellSuspendCounter++,Cn=Yi=null,ge=r,I.H=u,I.A=f,ie===null&&(Oe=null,le=0,br()),d}function Bb(){for(;ie!==null;)Rg(ie)}function jb(e,n){var a=ge;ge|=2;var r=wg(),u=Ng();Oe!==e||le!==n?(eo=null,$r=Nt()+500,Qs(e,n)):Vs=Na(e,n);e:do try{if(ve!==0&&ie!==null){n=ie;var f=Lt;t:switch(ve){case 1:ve=0,Lt=null,Ks(e,n,f,1);break;case 2:case 9:if(Hm(f)){ve=0,Lt=null,Og(n);break}n=function(){ve!==2&&ve!==9||Oe!==e||(ve=7),dn(e)},f.then(n,n);break e;case 3:ve=7;break e;case 4:ve=5;break e;case 7:Hm(f)?(ve=0,Lt=null,Og(n)):(ve=0,Lt=null,Ks(e,n,f,7));break;case 5:var d=null;switch(ie.tag){case 26:d=ie.memoizedState;case 5:case 27:var _=ie;if(d?m_(d):_.stateNode.complete){ve=0,Lt=null;var E=_.sibling;if(E!==null)ie=E;else{var w=_.return;w!==null?(ie=w,io(w)):ie=null}break t}}ve=0,Lt=null,Ks(e,n,f,5);break;case 6:ve=0,Lt=null,Ks(e,n,f,6);break;case 8:cf(),Ue=6;break e;default:throw Error(l(462))}}Pb();break}catch(D){Cg(e,D)}while(!0);return Cn=Yi=null,I.H=r,I.A=u,ge=a,ie!==null?0:(Oe=null,le=0,br(),Ue)}function Pb(){for(;ie!==null&&!cS();)Rg(ie)}function Rg(e){var n=Jp(e.alternate,e,Ln);e.memoizedProps=e.pendingProps,n===null?io(e):ie=n}function Og(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Fp(a,n,n.pendingProps,n.type,void 0,le);break;case 11:n=Fp(a,n,n.pendingProps,n.type.render,n.ref,le);break;case 5:Ac(n);default:eg(a,n),n=ie=Nm(n,Ln),n=Jp(a,n,Ln)}e.memoizedProps=e.pendingProps,n===null?io(e):ie=n}function Ks(e,n,a,r){Cn=Yi=null,Ac(n),zs=null,Va=0;var u=n.return;try{if(Ob(e,u,n,a,le)){Ue=1,Vr(e,jt(a,e.current)),ie=null;return}}catch(f){if(u!==null)throw ie=u,f;Ue=1,Vr(e,jt(a,e.current)),ie=null;return}n.flags&32768?(ue||r===1?e=!0:Vs||(le&536870912)!==0?e=!1:(ai=e=!0,(r===2||r===9||r===3||r===6)&&(r=Mt.current,r!==null&&r.tag===13&&(r.flags|=16384))),Dg(n,e)):io(n)}function io(e){var n=e;do{if((n.flags&32768)!==0){Dg(n,ai);return}e=n.return;var a=Mb(n.alternate,n,Ln);if(a!==null){ie=a;return}if(n=n.sibling,n!==null){ie=n;return}ie=n=e}while(n!==null);Ue===0&&(Ue=5)}function Dg(e,n){do{var a=xb(e.alternate,e);if(a!==null){a.flags&=32767,ie=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){ie=e;return}ie=e=a}while(e!==null);Ue=6,ie=null}function Ig(e,n,a,r,u,f,d,_,E){e.cancelPendingCommit=null;do so();while(Fe!==0);if((ge&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(f=n.lanes|n.childLanes,f|=Ju,ES(e,a,f,d,_,E),e===Oe&&(ie=Oe=null,le=0),Fs=n,oi=e,kn=a,rf=f,of=u,Eg=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Yb(lr,function(){return Ug(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=I.T,I.T=null,u=H.p,H.p=2,d=ge,ge|=4;try{Lb(e,n,a)}finally{ge=d,H.p=u,I.T=r}}Fe=1,Mg(),xg(),Lg()}}function Mg(){if(Fe===1){Fe=0;var e=oi,n=Fs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=I.T,I.T=null;var r=H.p;H.p=2;var u=ge;ge|=4;try{hg(n,e);var f=Tf,d=ym(e.containerInfo),_=f.focusedElem,E=f.selectionRange;if(d!==_&&_&&_.ownerDocument&&_m(_.ownerDocument.documentElement,_)){if(E!==null&&Qu(_)){var w=E.start,D=E.end;if(D===void 0&&(D=w),"selectionStart"in _)_.selectionStart=w,_.selectionEnd=Math.min(D,_.value.length);else{var x=_.ownerDocument||document,N=x&&x.defaultView||window;if(N.getSelection){var O=N.getSelection(),P=_.textContent.length,F=Math.min(E.start,P),Ae=E.end===void 0?F:Math.min(E.end,P);!O.extend&&F>Ae&&(d=Ae,Ae=F,F=d);var C=gm(_,F),b=gm(_,Ae);if(C&&b&&(O.rangeCount!==1||O.anchorNode!==C.node||O.anchorOffset!==C.offset||O.focusNode!==b.node||O.focusOffset!==b.offset)){var A=x.createRange();A.setStart(C.node,C.offset),O.removeAllRanges(),F>Ae?(O.addRange(A),O.extend(b.node,b.offset)):(A.setEnd(b.node,b.offset),O.addRange(A))}}}}for(x=[],O=_;O=O.parentNode;)O.nodeType===1&&x.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<x.length;_++){var M=x[_];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}_o=!!bf,Tf=bf=null}finally{ge=u,H.p=r,I.T=a}}e.current=n,Fe=2}}function xg(){if(Fe===2){Fe=0;var e=oi,n=Fs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=I.T,I.T=null;var r=H.p;H.p=2;var u=ge;ge|=4;try{rg(e,n.alternate,n)}finally{ge=u,H.p=r,I.T=a}}Fe=3}}function Lg(){if(Fe===4||Fe===3){Fe=0,fS();var e=oi,n=Fs,a=kn,r=Eg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Fe=5:(Fe=0,Fs=oi=null,kg(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ri=null),Ru(a),n=n.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(wa,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=I.T,u=H.p,H.p=2,I.T=null;try{for(var f=e.onRecoverableError,d=0;d<r.length;d++){var _=r[d];f(_.value,{componentStack:_.stack})}}finally{I.T=n,H.p=u}}(kn&3)!==0&&so(),dn(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===uf?rl++:(rl=0,uf=e):rl=0,ol(0)}}function kg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ga(n)))}function so(){return Mg(),xg(),Lg(),Ug()}function Ug(){if(Fe!==5)return!1;var e=oi,n=rf;rf=0;var a=Ru(kn),r=I.T,u=H.p;try{H.p=32>a?32:a,I.T=null,a=of,of=null;var f=oi,d=kn;if(Fe=0,Fs=oi=null,kn=0,(ge&6)!==0)throw Error(l(331));var _=ge;if(ge|=4,_g(f.current),mg(f,f.current,d,a),ge=_,ol(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(wa,f)}catch{}return!0}finally{H.p=u,I.T=r,kg(e,n)}}function zg(e,n,a){n=jt(a,n),n=jc(e.stateNode,n,2),e=ti(e,n,2),e!==null&&(Ra(e,2),dn(e))}function Ee(e,n,a){if(e.tag===3)zg(e,e,a);else for(;n!==null;){if(n.tag===3){zg(n,e,a);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ri===null||!ri.has(r))){e=jt(a,e),a=Hp(2),r=ti(n,a,2),r!==null&&(Bp(a,r,n,e),Ra(r,2),dn(r));break}}n=n.return}}function hf(e,n,a){var r=e.pingCache;if(r===null){r=e.pingCache=new zb;var u=new Set;r.set(n,u)}else u=r.get(n),u===void 0&&(u=new Set,r.set(n,u));u.has(a)||(sf=!0,u.add(a),e=Gb.bind(null,e,n,a),n.then(e,e))}function Gb(e,n,a){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Oe===e&&(le&a)===a&&(Ue===4||Ue===3&&(le&62914560)===le&&300>Nt()-Jr?(ge&2)===0&&Qs(e,0):af|=a,Ys===le&&(Ys=0)),dn(e)}function Hg(e,n){n===0&&(n=Md()),e=Gi(e,n),e!==null&&(Ra(e,n),dn(e))}function qb(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Hg(e,a)}function Vb(e,n){var a=0;switch(e.tag){case 31:case 13:var r=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(n),Hg(e,a)}function Yb(e,n){return Cu(e,n)}var ao=null,Xs=null,df=!1,lo=!1,mf=!1,ci=0;function dn(e){e!==Xs&&e.next===null&&(Xs===null?ao=Xs=e:Xs=Xs.next=e),lo=!0,df||(df=!0,Qb())}function ol(e,n){if(!mf&&lo){mf=!0;do for(var a=!1,r=ao;r!==null;){if(e!==0){var u=r.pendingLanes;if(u===0)var f=0;else{var d=r.suspendedLanes,_=r.pingedLanes;f=(1<<31-Ot(42|e)+1)-1,f&=u&~(d&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Gg(r,f))}else f=le,f=cr(r,r===Oe?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||Na(r,f)||(a=!0,Gg(r,f));r=r.next}while(a);mf=!1}}function Fb(){Bg()}function Bg(){lo=df=!1;var e=0;ci!==0&&i0()&&(e=ci);for(var n=Nt(),a=null,r=ao;r!==null;){var u=r.next,f=jg(r,n);f===0?(r.next=null,a===null?ao=u:a.next=u,u===null&&(Xs=a)):(a=r,(e!==0||(f&3)!==0)&&(lo=!0)),r=u}Fe!==0&&Fe!==5||ol(e),ci!==0&&(ci=0)}function jg(e,n){for(var a=e.suspendedLanes,r=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var d=31-Ot(f),_=1<<d,E=u[d];E===-1?((_&a)===0||(_&r)!==0)&&(u[d]=vS(_,n)):E<=n&&(e.expiredLanes|=_),f&=~_}if(n=Oe,a=le,a=cr(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,a===0||e===n&&(ve===2||ve===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Au(r),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Na(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(r!==null&&Au(r),Ru(a)){case 2:case 8:a=Dd;break;case 32:a=lr;break;case 268435456:a=Id;break;default:a=lr}return r=Pg.bind(null,e),a=Cu(a,r),e.callbackPriority=n,e.callbackNode=a,n}return r!==null&&r!==null&&Au(r),e.callbackPriority=2,e.callbackNode=null,2}function Pg(e,n){if(Fe!==0&&Fe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(so()&&e.callbackNode!==a)return null;var r=le;return r=cr(e,e===Oe?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(bg(e,r,n),jg(e,Nt()),e.callbackNode!=null&&e.callbackNode===a?Pg.bind(null,e):null)}function Gg(e,n){if(so())return null;bg(e,n,!0)}function Qb(){a0(function(){(ge&6)!==0?Cu(Od,Fb):Bg()})}function pf(){if(ci===0){var e=Ls;e===0&&(e=rr,rr<<=1,(rr&261888)===0&&(rr=256)),ci=e}return ci}function qg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:mr(""+e)}function Vg(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function Kb(e,n,a,r,u){if(n==="submit"&&a&&a.stateNode===u){var f=qg((u[vt]||null).action),d=r.submitter;d&&(n=(n=d[vt]||null)?qg(n.formAction):d.getAttribute("formAction"),n!==null&&(f=n,d=null));var _=new yr("action","action",null,r,u);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ci!==0){var E=d?Vg(u,d):new FormData(u);Lc(a,{pending:!0,data:E,method:u.method,action:f},null,E)}}else typeof f=="function"&&(_.preventDefault(),E=d?Vg(u,d):new FormData(u),Lc(a,{pending:!0,data:E,method:u.method,action:f},f,E))},currentTarget:u}]})}}for(var gf=0;gf<Zu.length;gf++){var _f=Zu[gf],Xb=_f.toLowerCase(),Wb=_f[0].toUpperCase()+_f.slice(1);$t(Xb,"on"+Wb)}$t(Sm,"onAnimationEnd"),$t(bm,"onAnimationIteration"),$t(Tm,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(hb,"onTransitionRun"),$t(db,"onTransitionStart"),$t(mb,"onTransitionCancel"),$t(Cm,"onTransitionEnd"),Es("onMouseEnter",["mouseout","mouseover"]),Es("onMouseLeave",["mouseout","mouseover"]),Es("onPointerEnter",["pointerout","pointerover"]),Es("onPointerLeave",["pointerout","pointerover"]),Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function Yg(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],u=r.event;r=r.listeners;e:{var f=void 0;if(n)for(var d=r.length-1;0<=d;d--){var _=r[d],E=_.instance,w=_.currentTarget;if(_=_.listener,E!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=w;try{f(u)}catch(D){Sr(D)}u.currentTarget=null,f=E}else for(d=0;d<r.length;d++){if(_=r[d],E=_.instance,w=_.currentTarget,_=_.listener,E!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=w;try{f(u)}catch(D){Sr(D)}u.currentTarget=null,f=E}}}}function se(e,n){var a=n[Ou];a===void 0&&(a=n[Ou]=new Set);var r=e+"__bubble";a.has(r)||(Fg(n,e,2,!1),a.add(r))}function yf(e,n,a){var r=0;n&&(r|=4),Fg(a,e,r,n)}var ro="_reactListening"+Math.random().toString(36).slice(2);function vf(e){if(!e[ro]){e[ro]=!0,Bd.forEach(function(a){a!=="selectionchange"&&(Zb.has(a)||yf(a,!1,e),yf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ro]||(n[ro]=!0,yf("selectionchange",!1,n))}}function Fg(e,n,a,r){switch(S_(n)){case 2:var u=A0;break;case 8:u=w0;break;default:u=Lf}a=u.bind(null,n,a,e),u=void 0,!Hu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),r?u!==void 0?e.addEventListener(n,a,{capture:!0,passive:u}):e.addEventListener(n,a,!0):u!==void 0?e.addEventListener(n,a,{passive:u}):e.addEventListener(n,a,!1)}function Ef(e,n,a,r,u){var f=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var _=r.stateNode.containerInfo;if(_===u)break;if(d===4)for(d=r.return;d!==null;){var E=d.tag;if((E===3||E===4)&&d.stateNode.containerInfo===u)return;d=d.return}for(;_!==null;){if(d=_s(_),d===null)return;if(E=d.tag,E===5||E===6||E===26||E===27){r=f=d;continue e}_=_.parentNode}}r=r.return}Zd(function(){var w=f,D=Uu(a),x=[];e:{var N=Am.get(e);if(N!==void 0){var O=yr,P=e;switch(e){case"keypress":if(gr(a)===0)break e;case"keydown":case"keyup":O=VS;break;case"focusin":P="focus",O=Gu;break;case"focusout":P="blur",O=Gu;break;case"beforeblur":case"afterblur":O=Gu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=MS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=QS;break;case Sm:case bm:case Tm:O=kS;break;case Cm:O=XS;break;case"scroll":case"scrollend":O=DS;break;case"wheel":O=ZS;break;case"copy":case"cut":case"paste":O=zS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=nm;break;case"toggle":case"beforetoggle":O=$S}var F=(n&4)!==0,Ae=!F&&(e==="scroll"||e==="scrollend"),C=F?N!==null?N+"Capture":null:N;F=[];for(var b=w,A;b!==null;){var M=b;if(A=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||A===null||C===null||(M=Ia(b,C),M!=null&&F.push(cl(b,M,A))),Ae)break;b=b.return}0<F.length&&(N=new O(N,P,null,a,D),x.push({event:N,listeners:F}))}}if((n&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",N&&a!==ku&&(P=a.relatedTarget||a.fromElement)&&(_s(P)||P[gs]))break e;if((O||N)&&(N=D.window===D?D:(N=D.ownerDocument)?N.defaultView||N.parentWindow:window,O?(P=a.relatedTarget||a.toElement,O=w,P=P?_s(P):null,P!==null&&(Ae=c(P),F=P.tag,P!==Ae||F!==5&&F!==27&&F!==6)&&(P=null)):(O=null,P=w),O!==P)){if(F=em,M="onMouseLeave",C="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(F=nm,M="onPointerLeave",C="onPointerEnter",b="pointer"),Ae=O==null?N:Da(O),A=P==null?N:Da(P),N=new F(M,b+"leave",O,a,D),N.target=Ae,N.relatedTarget=A,M=null,_s(D)===w&&(F=new F(C,b+"enter",P,a,D),F.target=A,F.relatedTarget=Ae,M=F),Ae=M,O&&P)t:{for(F=Jb,C=O,b=P,A=0,M=C;M;M=F(M))A++;M=0;for(var V=b;V;V=F(V))M++;for(;0<A-M;)C=F(C),A--;for(;0<M-A;)b=F(b),M--;for(;A--;){if(C===b||b!==null&&C===b.alternate){F=C;break t}C=F(C),b=F(b)}F=null}else F=null;O!==null&&Qg(x,N,O,F,!1),P!==null&&Ae!==null&&Qg(x,Ae,P,F,!0)}}e:{if(N=w?Da(w):window,O=N.nodeName&&N.nodeName.toLowerCase(),O==="select"||O==="input"&&N.type==="file")var de=cm;else if(om(N))if(fm)de=ub;else{de=rb;var q=lb}else O=N.nodeName,!O||O.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?w&&Lu(w.elementType)&&(de=cm):de=ob;if(de&&(de=de(e,w))){um(x,de,a,D);break e}q&&q(e,N,w),e==="focusout"&&w&&N.type==="number"&&w.memoizedProps.value!=null&&xu(N,"number",N.value)}switch(q=w?Da(w):window,e){case"focusin":(om(q)||q.contentEditable==="true")&&(ws=q,Ku=w,Ba=null);break;case"focusout":Ba=Ku=ws=null;break;case"mousedown":Xu=!0;break;case"contextmenu":case"mouseup":case"dragend":Xu=!1,vm(x,a,D);break;case"selectionchange":if(fb)break;case"keydown":case"keyup":vm(x,a,D)}var $;if(Vu)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else As?lm(e,a)&&(re="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(re="onCompositionStart");re&&(im&&a.locale!=="ko"&&(As||re!=="onCompositionStart"?re==="onCompositionEnd"&&As&&($=Jd()):(Kn=D,Bu="value"in Kn?Kn.value:Kn.textContent,As=!0)),q=oo(w,re),0<q.length&&(re=new tm(re,e,null,a,D),x.push({event:re,listeners:q}),$?re.data=$:($=rm(a),$!==null&&(re.data=$)))),($=tb?nb(e,a):ib(e,a))&&(re=oo(w,"onBeforeInput"),0<re.length&&(q=new tm("onBeforeInput","beforeinput",null,a,D),x.push({event:q,listeners:re}),q.data=$)),Kb(x,e,w,a,D)}Yg(x,n)})}function cl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function oo(e,n){for(var a=n+"Capture",r=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Ia(e,a),u!=null&&r.unshift(cl(e,u,f)),u=Ia(e,n),u!=null&&r.push(cl(e,u,f))),e.tag===3)return r;e=e.return}return[]}function Jb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qg(e,n,a,r,u){for(var f=n._reactName,d=[];a!==null&&a!==r;){var _=a,E=_.alternate,w=_.stateNode;if(_=_.tag,E!==null&&E===r)break;_!==5&&_!==26&&_!==27||w===null||(E=w,u?(w=Ia(a,f),w!=null&&d.unshift(cl(a,w,E))):u||(w=Ia(a,f),w!=null&&d.push(cl(a,w,E)))),a=a.return}d.length!==0&&e.push({event:n,listeners:d})}var $b=/\r\n?/g,e0=/\u0000|\uFFFD/g;function Kg(e){return(typeof e=="string"?e:""+e).replace($b,`
`).replace(e0,"")}function Xg(e,n){return n=Kg(n),Kg(e)===n}function Ce(e,n,a,r,u,f){switch(a){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||bs(e,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&bs(e,""+r);break;case"className":hr(e,"class",r);break;case"tabIndex":hr(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":hr(e,a,r);break;case"style":Xd(e,r,f);break;case"data":if(n!=="object"){hr(e,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=mr(""+r),e.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Ce(e,n,"name",u.name,u,null),Ce(e,n,"formEncType",u.formEncType,u,null),Ce(e,n,"formMethod",u.formMethod,u,null),Ce(e,n,"formTarget",u.formTarget,u,null)):(Ce(e,n,"encType",u.encType,u,null),Ce(e,n,"method",u.method,u,null),Ce(e,n,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=mr(""+r),e.setAttribute(a,r);break;case"onClick":r!=null&&(e.onclick=En);break;case"onScroll":r!=null&&se("scroll",e);break;case"onScrollEnd":r!=null&&se("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}a=mr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""+r):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":r===!0?e.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,r):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(a,r):e.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(a):e.setAttribute(a,r);break;case"popover":se("beforetoggle",e),se("toggle",e),fr(e,"popover",r);break;case"xlinkActuate":vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":vn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":vn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":vn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":vn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":fr(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=RS.get(a)||a,fr(e,a,r))}}function Sf(e,n,a,r,u,f){switch(a){case"style":Xd(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof r=="string"?bs(e,r):(typeof r=="number"||typeof r=="bigint")&&bs(e,""+r);break;case"onScroll":r!=null&&se("scroll",e);break;case"onScrollEnd":r!=null&&se("scrollend",e);break;case"onClick":r!=null&&(e.onclick=En);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),n=a.slice(2,u?a.length-7:void 0),f=e[vt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,u),typeof r=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,r,u);break e}a in e?e[a]=r:r===!0?e.setAttribute(a,""):fr(e,a,r)}}}function st(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":se("error",e),se("load",e);var r=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var d=a[f];if(d!=null)switch(f){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ce(e,n,f,d,a,null)}}u&&Ce(e,n,"srcSet",a.srcSet,a,null),r&&Ce(e,n,"src",a.src,a,null);return;case"input":se("invalid",e);var _=f=d=u=null,E=null,w=null;for(r in a)if(a.hasOwnProperty(r)){var D=a[r];if(D!=null)switch(r){case"name":u=D;break;case"type":d=D;break;case"checked":E=D;break;case"defaultChecked":w=D;break;case"value":f=D;break;case"defaultValue":_=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,n));break;default:Ce(e,n,r,D,a,null)}}Yd(e,f,_,E,w,d,u,!1);return;case"select":se("invalid",e),r=d=f=null;for(u in a)if(a.hasOwnProperty(u)&&(_=a[u],_!=null))switch(u){case"value":f=_;break;case"defaultValue":d=_;break;case"multiple":r=_;default:Ce(e,n,u,_,a,null)}n=f,a=d,e.multiple=!!r,n!=null?Ss(e,!!r,n,!1):a!=null&&Ss(e,!!r,a,!0);return;case"textarea":se("invalid",e),f=u=r=null;for(d in a)if(a.hasOwnProperty(d)&&(_=a[d],_!=null))switch(d){case"value":r=_;break;case"defaultValue":u=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:Ce(e,n,d,_,a,null)}Qd(e,r,u,f);return;case"option":for(E in a)a.hasOwnProperty(E)&&(r=a[E],r!=null)&&(E==="selected"?e.selected=r&&typeof r!="function"&&typeof r!="symbol":Ce(e,n,E,r,a,null));return;case"dialog":se("beforetoggle",e),se("toggle",e),se("cancel",e),se("close",e);break;case"iframe":case"object":se("load",e);break;case"video":case"audio":for(r=0;r<ul.length;r++)se(ul[r],e);break;case"image":se("error",e),se("load",e);break;case"details":se("toggle",e);break;case"embed":case"source":case"link":se("error",e),se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in a)if(a.hasOwnProperty(w)&&(r=a[w],r!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ce(e,n,w,r,a,null)}return;default:if(Lu(n)){for(D in a)a.hasOwnProperty(D)&&(r=a[D],r!==void 0&&Sf(e,n,D,r,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(r=a[_],r!=null&&Ce(e,n,_,r,a,null))}function t0(e,n,a,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,d=null,_=null,E=null,w=null,D=null;for(O in a){var x=a[O];if(a.hasOwnProperty(O)&&x!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":E=x;default:r.hasOwnProperty(O)||Ce(e,n,O,null,r,x)}}for(var N in r){var O=r[N];if(x=a[N],r.hasOwnProperty(N)&&(O!=null||x!=null))switch(N){case"type":f=O;break;case"name":u=O;break;case"checked":w=O;break;case"defaultChecked":D=O;break;case"value":d=O;break;case"defaultValue":_=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(l(137,n));break;default:O!==x&&Ce(e,n,N,O,r,x)}}Mu(e,d,_,E,w,D,f,u);return;case"select":O=d=_=N=null;for(f in a)if(E=a[f],a.hasOwnProperty(f)&&E!=null)switch(f){case"value":break;case"multiple":O=E;default:r.hasOwnProperty(f)||Ce(e,n,f,null,r,E)}for(u in r)if(f=r[u],E=a[u],r.hasOwnProperty(u)&&(f!=null||E!=null))switch(u){case"value":N=f;break;case"defaultValue":_=f;break;case"multiple":d=f;default:f!==E&&Ce(e,n,u,f,r,E)}n=_,a=d,r=O,N!=null?Ss(e,!!a,N,!1):!!r!=!!a&&(n!=null?Ss(e,!!a,n,!0):Ss(e,!!a,a?[]:"",!1));return;case"textarea":O=N=null;for(_ in a)if(u=a[_],a.hasOwnProperty(_)&&u!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ce(e,n,_,null,r,u)}for(d in r)if(u=r[d],f=a[d],r.hasOwnProperty(d)&&(u!=null||f!=null))switch(d){case"value":N=u;break;case"defaultValue":O=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==f&&Ce(e,n,d,u,r,f)}Fd(e,N,O);return;case"option":for(var P in a)N=a[P],a.hasOwnProperty(P)&&N!=null&&!r.hasOwnProperty(P)&&(P==="selected"?e.selected=!1:Ce(e,n,P,null,r,N));for(E in r)N=r[E],O=a[E],r.hasOwnProperty(E)&&N!==O&&(N!=null||O!=null)&&(E==="selected"?e.selected=N&&typeof N!="function"&&typeof N!="symbol":Ce(e,n,E,N,r,O));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var F in a)N=a[F],a.hasOwnProperty(F)&&N!=null&&!r.hasOwnProperty(F)&&Ce(e,n,F,null,r,N);for(w in r)if(N=r[w],O=a[w],r.hasOwnProperty(w)&&N!==O&&(N!=null||O!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(l(137,n));break;default:Ce(e,n,w,N,r,O)}return;default:if(Lu(n)){for(var Ae in a)N=a[Ae],a.hasOwnProperty(Ae)&&N!==void 0&&!r.hasOwnProperty(Ae)&&Sf(e,n,Ae,void 0,r,N);for(D in r)N=r[D],O=a[D],!r.hasOwnProperty(D)||N===O||N===void 0&&O===void 0||Sf(e,n,D,N,r,O);return}}for(var C in a)N=a[C],a.hasOwnProperty(C)&&N!=null&&!r.hasOwnProperty(C)&&Ce(e,n,C,null,r,N);for(x in r)N=r[x],O=a[x],!r.hasOwnProperty(x)||N===O||N==null&&O==null||Ce(e,n,x,N,r,O)}function Wg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function n0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var u=a[r],f=u.transferSize,d=u.initiatorType,_=u.duration;if(f&&_&&Wg(d)){for(d=0,_=u.responseEnd,r+=1;r<a.length;r++){var E=a[r],w=E.startTime;if(w>_)break;var D=E.transferSize,x=E.initiatorType;D&&Wg(x)&&(E=E.responseEnd,d+=D*(E<_?1:(_-w)/(E-w)))}if(--r,n+=8*(f+d)/(u.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bf=null,Tf=null;function uo(e){return e.nodeType===9?e:e.ownerDocument}function Zg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Cf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Af=null;function i0(){var e=window.event;return e&&e.type==="popstate"?e===Af?!1:(Af=e,!0):(Af=null,!1)}var $g=typeof setTimeout=="function"?setTimeout:void 0,s0=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,a0=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(e){return e_.resolve(null).then(e).catch(l0)}:$g;function l0(e){setTimeout(function(){throw e})}function fi(e){return e==="head"}function t_(e,n){var a=n,r=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(r===0){e.removeChild(u),$s(n);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")fl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,fl(a);for(var f=a.firstChild;f;){var d=f.nextSibling,_=f.nodeName;f[Oa]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=d}}else a==="body"&&fl(e.ownerDocument.body);a=u}while(a);$s(n)}function n_(e,n){var a=e;e=0;do{var r=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=r}while(a)}function wf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wf(a),Du(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function r0(e,n,a,r){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Oa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function o0(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Yt(e.nextSibling),e===null))return null;return e}function i_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yt(e.nextSibling),e===null))return null;return e}function Nf(e){return e.data==="$?"||e.data==="$~"}function Rf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function u0(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var r=function(){n(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Yt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Of=null;function s_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Yt(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function a_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function l_(e,n,a){switch(n=uo(a),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function fl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Du(e)}var Ft=new Map,r_=new Set;function co(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Un=H.d;H.d={f:c0,r:f0,D:h0,C:d0,L:m0,m:p0,X:_0,S:g0,M:y0};function c0(){var e=Un.f(),n=to();return e||n}function f0(e){var n=ys(e);n!==null&&n.tag===5&&n.type==="form"?Cp(n):Un.r(e)}var Ws=typeof document>"u"?null:document;function o_(e,n,a){var r=Ws;if(r&&typeof n=="string"&&n){var u=Ht(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),r_.has(u)||(r_.add(u),e={rel:e,crossOrigin:a,href:n},r.querySelector(u)===null&&(n=r.createElement("link"),st(n,"link",e),Xe(n),r.head.appendChild(n)))}}function h0(e){Un.D(e),o_("dns-prefetch",e,null)}function d0(e,n){Un.C(e,n),o_("preconnect",e,n)}function m0(e,n,a){Un.L(e,n,a);var r=Ws;if(r&&e&&n){var u='link[rel="preload"][as="'+Ht(n)+'"]';n==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Ht(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Ht(a.imageSizes)+'"]')):u+='[href="'+Ht(e)+'"]';var f=u;switch(n){case"style":f=Zs(e);break;case"script":f=Js(e)}Ft.has(f)||(e=y({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Ft.set(f,e),r.querySelector(u)!==null||n==="style"&&r.querySelector(hl(f))||n==="script"&&r.querySelector(dl(f))||(n=r.createElement("link"),st(n,"link",e),Xe(n),r.head.appendChild(n)))}}function p0(e,n){Un.m(e,n);var a=Ws;if(a&&e){var r=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Ht(r)+'"][href="'+Ht(e)+'"]',f=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Js(e)}if(!Ft.has(f)&&(e=y({rel:"modulepreload",href:e},n),Ft.set(f,e),a.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(dl(f)))return}r=a.createElement("link"),st(r,"link",e),Xe(r),a.head.appendChild(r)}}}function g0(e,n,a){Un.S(e,n,a);var r=Ws;if(r&&e){var u=vs(r).hoistableStyles,f=Zs(e);n=n||"default";var d=u.get(f);if(!d){var _={loading:0,preload:null};if(d=r.querySelector(hl(f)))_.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Ft.get(f))&&Df(e,a);var E=d=r.createElement("link");Xe(E),st(E,"link",e),E._p=new Promise(function(w,D){E.onload=w,E.onerror=D}),E.addEventListener("load",function(){_.loading|=1}),E.addEventListener("error",function(){_.loading|=2}),_.loading|=4,fo(d,n,r)}d={type:"stylesheet",instance:d,count:1,state:_},u.set(f,d)}}}function _0(e,n){Un.X(e,n);var a=Ws;if(a&&e){var r=vs(a).hoistableScripts,u=Js(e),f=r.get(u);f||(f=a.querySelector(dl(u)),f||(e=y({src:e,async:!0},n),(n=Ft.get(u))&&If(e,n),f=a.createElement("script"),Xe(f),st(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(u,f))}}function y0(e,n){Un.M(e,n);var a=Ws;if(a&&e){var r=vs(a).hoistableScripts,u=Js(e),f=r.get(u);f||(f=a.querySelector(dl(u)),f||(e=y({src:e,async:!0,type:"module"},n),(n=Ft.get(u))&&If(e,n),f=a.createElement("script"),Xe(f),st(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(u,f))}}function u_(e,n,a,r){var u=(u=ne.current)?co(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Zs(a.href),a=vs(u).hoistableStyles,r=a.get(n),r||(r={type:"style",instance:null,count:0,state:null},a.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Zs(a.href);var f=vs(u).hoistableStyles,d=f.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,d),(f=u.querySelector(hl(e)))&&!f._p&&(d.instance=f,d.state.loading=5),Ft.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ft.set(e,a),f||v0(u,e,a,d.state))),n&&r===null)throw Error(l(528,""));return d}if(n&&r!==null)throw Error(l(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Js(a),a=vs(u).hoistableScripts,r=a.get(n),r||(r={type:"script",instance:null,count:0,state:null},a.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Zs(e){return'href="'+Ht(e)+'"'}function hl(e){return'link[rel="stylesheet"]['+e+"]"}function c_(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function v0(e,n,a,r){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=e.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),st(n,"link",a),Xe(n),e.head.appendChild(n))}function Js(e){return'[src="'+Ht(e)+'"]'}function dl(e){return"script[async]"+e}function f_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+Ht(a.href)+'"]');if(r)return n.instance=r,Xe(r),r;var u=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Xe(r),st(r,"style",u),fo(r,a.precedence,e),n.instance=r;case"stylesheet":u=Zs(a.href);var f=e.querySelector(hl(u));if(f)return n.state.loading|=4,n.instance=f,Xe(f),f;r=c_(a),(u=Ft.get(u))&&Df(r,u),f=(e.ownerDocument||e).createElement("link"),Xe(f);var d=f;return d._p=new Promise(function(_,E){d.onload=_,d.onerror=E}),st(f,"link",r),n.state.loading|=4,fo(f,a.precedence,e),n.instance=f;case"script":return f=Js(a.src),(u=e.querySelector(dl(f)))?(n.instance=u,Xe(u),u):(r=a,(u=Ft.get(f))&&(r=y({},a),If(r,u)),e=e.ownerDocument||e,u=e.createElement("script"),Xe(u),st(u,"link",r),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,fo(r,a.precedence,e));return n.instance}function fo(e,n,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,f=u,d=0;d<r.length;d++){var _=r[d];if(_.dataset.precedence===n)f=_;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Df(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function If(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ho=null;function h_(e,n,a){if(ho===null){var r=new Map,u=ho=new Map;u.set(a,r)}else u=ho,r=u.get(a),r||(r=new Map,u.set(a,r));if(r.has(e))return r;for(r.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var f=a[u];if(!(f[Oa]||f[et]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var d=f.getAttribute(n)||"";d=e+d;var _=r.get(d);_?_.push(f):r.set(d,[f])}}return r}function d_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function E0(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function m_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function S0(e,n,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=Zs(r.href),f=n.querySelector(hl(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mo.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Xe(f);return}f=n.ownerDocument||n,r=c_(r),(u=Ft.get(u))&&Df(r,u),f=f.createElement("link"),Xe(f);var d=f;d._p=new Promise(function(_,E){d.onload=_,d.onerror=E}),st(f,"link",r),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=mo.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Mf=0;function b0(e,n){return e.stylesheets&&e.count===0&&go(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var r=setTimeout(function(){if(e.stylesheets&&go(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Mf===0&&(Mf=62500*n0());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&go(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Mf?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(u)}}:null}function mo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)go(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var po=null;function go(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,po=new Map,n.forEach(T0,e),po=null,mo.call(e))}function T0(e,n){if(!(n.state.loading&4)){var a=po.get(e);if(a)var r=a.get(null);else{a=new Map,po.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var d=u[f];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(a.set(d.dataset.precedence,d),r=d)}r&&a.set(null,r)}u=n.instance,d=u.getAttribute("data-precedence"),f=a.get(d)||r,f===r&&a.set(null,u),a.set(d,u),this.count++,r=mo.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var ml={$$typeof:ce,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function C0(e,n,a,r,u,f,d,_,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wu(0),this.hiddenUpdates=wu(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function p_(e,n,a,r,u,f,d,_,E,w,D,x){return e=new C0(e,n,a,d,E,w,D,x,_),n=1,f===!0&&(n|=24),f=It(3,null,null,n),e.current=f,f.stateNode=e,n=cc(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:r,isDehydrated:a,cache:n},mc(f),e}function g_(e){return e?(e=Os,e):Os}function __(e,n,a,r,u,f){u=g_(u),r.context===null?r.context=u:r.pendingContext=u,r=ei(n),r.payload={element:a},f=f===void 0?null:f,f!==null&&(r.callback=f),a=ti(e,r,n),a!==null&&(At(a,e,n),Fa(a,e,n))}function y_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function xf(e,n){y_(e,n),(e=e.alternate)&&y_(e,n)}function v_(e){if(e.tag===13||e.tag===31){var n=Gi(e,67108864);n!==null&&At(n,e,67108864),xf(e,67108864)}}function E_(e){if(e.tag===13||e.tag===31){var n=Ut();n=Nu(n);var a=Gi(e,n);a!==null&&At(a,e,n),xf(e,n)}}var _o=!0;function A0(e,n,a,r){var u=I.T;I.T=null;var f=H.p;try{H.p=2,Lf(e,n,a,r)}finally{H.p=f,I.T=u}}function w0(e,n,a,r){var u=I.T;I.T=null;var f=H.p;try{H.p=8,Lf(e,n,a,r)}finally{H.p=f,I.T=u}}function Lf(e,n,a,r){if(_o){var u=kf(r);if(u===null)Ef(e,n,r,yo,a),b_(e,r);else if(R0(u,e,n,a,r))r.stopPropagation();else if(b_(e,r),n&4&&-1<N0.indexOf(e)){for(;u!==null;){var f=ys(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var d=zi(f.pendingLanes);if(d!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;d;){var E=1<<31-Ot(d);_.entanglements[1]|=E,d&=~E}dn(f),(ge&6)===0&&($r=Nt()+500,ol(0))}}break;case 31:case 13:_=Gi(f,2),_!==null&&At(_,f,2),to(),xf(f,2)}if(f=kf(r),f===null&&Ef(e,n,r,yo,a),f===u)break;u=f}u!==null&&r.stopPropagation()}else Ef(e,n,r,null,a)}}function kf(e){return e=Uu(e),Uf(e)}var yo=null;function Uf(e){if(yo=null,e=_s(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===31){if(e=m(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return yo=e,null}function S_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hS()){case Od:return 2;case Dd:return 8;case lr:case dS:return 32;case Id:return 268435456;default:return 32}default:return 32}}var zf=!1,hi=null,di=null,mi=null,pl=new Map,gl=new Map,pi=[],N0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(e,n){switch(e){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(n.pointerId)}}function _l(e,n,a,r,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:r,nativeEvent:f,targetContainers:[u]},n!==null&&(n=ys(n),n!==null&&v_(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function R0(e,n,a,r,u){switch(n){case"focusin":return hi=_l(hi,e,n,a,r,u),!0;case"dragenter":return di=_l(di,e,n,a,r,u),!0;case"mouseover":return mi=_l(mi,e,n,a,r,u),!0;case"pointerover":var f=u.pointerId;return pl.set(f,_l(pl.get(f)||null,e,n,a,r,u)),!0;case"gotpointercapture":return f=u.pointerId,gl.set(f,_l(gl.get(f)||null,e,n,a,r,u)),!0}return!1}function T_(e){var n=_s(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,zd(e.priority,function(){E_(a)});return}}else if(n===31){if(n=m(a),n!==null){e.blockedOn=n,zd(e.priority,function(){E_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=kf(e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);ku=r,a.target.dispatchEvent(r),ku=null}else return n=ys(a),n!==null&&v_(n),e.blockedOn=a,!1;n.shift()}return!0}function C_(e,n,a){vo(e)&&a.delete(n)}function O0(){zf=!1,hi!==null&&vo(hi)&&(hi=null),di!==null&&vo(di)&&(di=null),mi!==null&&vo(mi)&&(mi=null),pl.forEach(C_),gl.forEach(C_)}function Eo(e,n){e.blockedOn===n&&(e.blockedOn=null,zf||(zf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,O0)))}var So=null;function A_(e){So!==e&&(So=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){So===e&&(So=null);for(var n=0;n<e.length;n+=3){var a=e[n],r=e[n+1],u=e[n+2];if(typeof r!="function"){if(Uf(r||a)===null)continue;break}var f=ys(a);f!==null&&(e.splice(n,3),n-=3,Lc(f,{pending:!0,data:u,method:a.method,action:r},r,u))}}))}function $s(e){function n(E){return Eo(E,e)}hi!==null&&Eo(hi,e),di!==null&&Eo(di,e),mi!==null&&Eo(mi,e),pl.forEach(n),gl.forEach(n);for(var a=0;a<pi.length;a++){var r=pi[a];r.blockedOn===e&&(r.blockedOn=null)}for(;0<pi.length&&(a=pi[0],a.blockedOn===null);)T_(a),a.blockedOn===null&&pi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var u=a[r],f=a[r+1],d=u[vt]||null;if(typeof f=="function")d||A_(a);else if(d){var _=null;if(f&&f.hasAttribute("formAction")){if(u=f,d=f[vt]||null)_=d.formAction;else if(Uf(u)!==null)continue}else _=d.action;typeof _=="function"?a[r+1]=_:(a.splice(r,3),r-=3),A_(a)}}}function w_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(d){return u=d})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function Hf(e){this._internalRoot=e}bo.prototype.render=Hf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var a=n.current,r=Ut();__(a,r,e,n,null,null)},bo.prototype.unmount=Hf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;__(e.current,2,null,e,null,null),to(),n[gs]=null}};function bo(e){this._internalRoot=e}bo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ud();e={blockedOn:null,target:e,priority:n};for(var a=0;a<pi.length&&n!==0&&n<pi[a].priority;a++);pi.splice(a,0,e),a===0&&T_(e)}};var N_=t.version;if(N_!=="19.2.3")throw Error(l(527,N_,"19.2.3"));H.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var D0={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var To=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!To.isDisabled&&To.supportsFiber)try{wa=To.inject(D0),Rt=To}catch{}}return vl.createRoot=function(e,n){if(!o(e))throw Error(l(299));var a=!1,r="",u=Lp,f=kp,d=Up;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=p_(e,1,!1,null,null,a,r,null,u,f,d,w_),e[gs]=n.current,vf(e),new Hf(n)},vl.hydrateRoot=function(e,n,a){if(!o(e))throw Error(l(299));var r=!1,u="",f=Lp,d=kp,_=Up,E=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.formState!==void 0&&(E=a.formState)),n=p_(e,1,!0,n,a??null,r,u,E,f,d,_,w_),n.context=g_(null),a=n.current,r=Ut(),r=Nu(r),u=ei(r),u.callback=null,ti(a,u,r),a=r,n.current.lanes=a,Ra(n,a),dn(n),e[gs]=n.current,vf(e),new bo(n)},vl.version="19.2.3",vl}var z_;function P0(){if(z_)return Pf.exports;z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Pf.exports=j0(),Pf.exports}var G0=P0();const H_=s=>{let t;const i=new Set,l=(p,v)=>{const y=typeof p=="function"?p(t):p;if(!Object.is(y,t)){const S=t;t=v??(typeof y!="object"||y===null)?y:Object.assign({},t,y),i.forEach(k=>k(t,S))}},o=()=>t,m={setState:l,getState:o,getInitialState:()=>g,subscribe:p=>(i.add(p),()=>i.delete(p))},g=t=s(l,o,m);return m},q0=(s=>s?H_(s):H_),V0=s=>s;function Y0(s,t=V0){const i=Co.useSyncExternalStore(s.subscribe,Co.useCallback(()=>t(s.getState()),[s,t]),Co.useCallback(()=>t(s.getInitialState()),[s,t]));return Co.useDebugValue(i),i}const B_=s=>{const t=q0(s),i=l=>Y0(t,l);return Object.assign(i,t),i},Jy=(s=>s?B_(s):B_),bi=Jy(s=>({user:null,userLoading:!0,setUser:t=>s({user:t}),setUserLoading:t=>s({userLoading:t})})),ss=Jy(s=>({gameId:null,gameState:null,currentPlayer:null,setGameId:t=>s({gameId:t}),setGameState:t=>s({gameState:t}),setCurrentPlayer:t=>s({currentPlayer:t}),reset:()=>s({gameId:null,gameState:null,currentPlayer:null})})),F0=()=>{};var j_={};const $y={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const z=function(s,t){if(!s)throw _a(t)},_a=function(s){return new Error("Firebase Database ("+$y.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};const ev=function(s){const t=[];let i=0;for(let l=0;l<s.length;l++){let o=s.charCodeAt(l);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&l+1<s.length&&(s.charCodeAt(l+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++l)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Q0=function(s){const t=[];let i=0,l=0;for(;i<s.length;){const o=s[i++];if(o<128)t[l++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];t[l++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],h=s[i++],m=s[i++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;t[l++]=String.fromCharCode(55296+(g>>10)),t[l++]=String.fromCharCode(56320+(g&1023))}else{const c=s[i++],h=s[i++];t[l++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return t.join("")},Lh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let o=0;o<s.length;o+=3){const c=s[o],h=o+1<s.length,m=h?s[o+1]:0,g=o+2<s.length,p=g?s[o+2]:0,v=c>>2,y=(c&3)<<4|m>>4;let S=(m&15)<<2|p>>6,k=p&63;g||(k=64,h||(S=64)),l.push(i[v],i[y],i[S],i[k])}return l.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(ev(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Q0(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],m=o<s.length?i[s.charAt(o)]:0;++o;const p=o<s.length?i[s.charAt(o)]:64;++o;const y=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||m==null||p==null||y==null)throw new K0;const S=c<<2|m>>4;if(l.push(S),p!==64){const k=m<<4&240|p>>2;if(l.push(k),y!==64){const U=p<<6&192|y;l.push(U)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class K0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tv=function(s){const t=ev(s);return Lh.encodeByteArray(t,!0)},Lo=function(s){return tv(s).replace(/\./g,"")},ko=function(s){try{return Lh.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function X0(s){return nv(void 0,s)}function nv(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!W0(i)||(s[i]=nv(s[i],t[i]));return s}function W0(s){return s!=="__proto__"}function Z0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const J0=()=>Z0().__FIREBASE_DEFAULTS__,$0=()=>{if(typeof process>"u"||typeof j_>"u")return;const s=j_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},eT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&ko(s[1]);return t&&JSON.parse(t)},kh=()=>{try{return F0()||J0()||$0()||eT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},iv=s=>kh()?.emulatorHosts?.[s],tT=s=>{const t=iv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const l=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),l]:[t.substring(0,i),l]},sv=()=>kh()?.config,av=s=>kh()?.[`_${s}`];class Ql{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,l)=>{i?this.reject(i):this.resolve(l),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,l))}}}function ya(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lv(s){return(await fetch(s,{credentials:"include"})).ok}function nT(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},l=t||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${l}`,aud:l,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Lo(JSON.stringify(i)),Lo(JSON.stringify(h)),""].join(".")}const Nl={};function iT(){const s={prod:[],emulator:[]};for(const t of Object.keys(Nl))Nl[t]?s.emulator.push(t):s.prod.push(t);return s}function sT(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let P_=!1;function rv(s,t){if(typeof window>"u"||typeof document>"u"||!ya(window.location.host)||Nl[s]===t||Nl[s]||P_)return;Nl[s]=t;function i(S){return`__firebase__banner__${S}`}const l="__firebase__banner",c=iT().prod.length>0;function h(){const S=document.getElementById(l);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,k){S.setAttribute("width","24"),S.setAttribute("id",k),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{P_=!0,h()},S}function v(S,k){S.setAttribute("id",k),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function y(){const S=sT(l),k=i("text"),U=document.getElementById(k)||document.createElement("span"),Y=i("learnmore"),fe=document.getElementById(Y)||document.createElement("a"),j=i("preprendIcon"),he=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ce=S.element;m(ce),v(fe,Y);const Se=p();g(he,j),ce.append(he,U,fe,Se),document.body.appendChild(ce)}c?(U.innerText="Preview backend disconnected.",he.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(he.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function aT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function ov(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rT(){const s=pt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function oT(){return $y.NODE_ADMIN===!0}function uT(){try{return typeof indexedDB=="object"}catch{return!1}}function cT(){return new Promise((s,t)=>{try{let i=!0;const l="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(l);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(l),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const fT="FirebaseError";class Mi extends Error{constructor(t,i,l){super(i),this.code=t,this.customData=l,this.name=fT,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(t,i,l){this.service=t,this.serviceName=i,this.errors=l}create(t,...i){const l=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],h=c?hT(c,l):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Mi(o,m,l)}}function hT(s,t){return s.replace(dT,(i,l)=>{const o=t[l];return o!=null?String(o):`<${l}?>`})}const dT=/\{\$([^}]+)}/g;function Ll(s){return JSON.parse(s)}function Ke(s){return JSON.stringify(s)}const uv=function(s){let t={},i={},l={},o="";try{const c=s.split(".");t=Ll(ko(c[0])||""),i=Ll(ko(c[1])||""),o=c[2],l=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:l,signature:o}},mT=function(s){const t=uv(s),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},pT=function(s){const t=uv(s).claims;return typeof t=="object"&&t.admin===!0};function _n(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function ca(s,t){if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}function oh(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Uo(s,t,i){const l={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(l[o]=t.call(i,s[o],o,s));return l}function as(s,t){if(s===t)return!0;const i=Object.keys(s),l=Object.keys(t);for(const o of i){if(!l.includes(o))return!1;const c=s[o],h=t[o];if(G_(c)&&G_(h)){if(!as(c,h))return!1}else if(c!==h)return!1}for(const o of l)if(!i.includes(o))return!1;return!0}function G_(s){return s!==null&&typeof s=="object"}function va(s){const t=[];for(const[i,l]of Object.entries(s))Array.isArray(l)?l.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(l));return t.length?"&"+t.join("&"):""}function Al(s){const t={};return s.replace(/^\?/,"").split("&").forEach(l=>{if(l){const[o,c]=l.split("=");t[decodeURIComponent(o)]=decodeURIComponent(c)}}),t}function wl(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}class gT{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const l=this.W_;if(typeof t=="string")for(let y=0;y<16;y++)l[y]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let y=0;y<16;y++)l[y]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let y=16;y<80;y++){const S=l[y-3]^l[y-8]^l[y-14]^l[y-16];l[y]=(S<<1|S>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],h=this.chain_[2],m=this.chain_[3],g=this.chain_[4],p,v;for(let y=0;y<80;y++){y<40?y<20?(p=m^c&(h^m),v=1518500249):(p=c^h^m,v=1859775393):y<60?(p=c&h|m&(c|h),v=2400959708):(p=c^h^m,v=3395469782);const S=(o<<5|o>>>27)+p+g+v+l[y]&4294967295;g=m,m=h,h=(c<<30|c>>>2)&4294967295,c=o,o=S}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const l=i-this.blockSize;let o=0;const c=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=l;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(c[h]=t.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(c),h=0;break}}else for(;o<i;)if(c[h]=t[o],++h,++o,h===this.blockSize){this.compress_(c),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let l=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)t[l]=this.chain_[o]>>c&255,++l;return t}}function _T(s,t){const i=new yT(s,t);return i.subscribe.bind(i)}class yT{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(l=>{this.error(l)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,l){let o;if(t===void 0&&i===void 0&&l===void 0)throw new Error("Missing Observer.");vT(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:l},o.next===void 0&&(o.next=Yf),o.error===void 0&&(o.error=Yf),o.complete===void 0&&(o.complete=Yf);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(l){typeof console<"u"&&console.error&&console.error(l)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vT(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Yf(){}function su(s,t){return`${s} failed: ${t} argument `}const ET=function(s){const t=[];let i=0;for(let l=0;l<s.length;l++){let o=s.charCodeAt(l);if(o>=55296&&o<=56319){const c=o-55296;l++,z(l<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(l)-56320;o=65536+(c<<10)+h}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},au=function(s){let t=0;for(let i=0;i<s.length;i++){const l=s.charCodeAt(i);l<128?t++:l<2048?t+=2:l>=55296&&l<=56319?(t+=4,i++):t+=3}return t};function gt(s){return s&&s._delegate?s._delegate:s}class ls{constructor(t,i,l){this.name=t,this.instanceFactory=i,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ts="[DEFAULT]";class ST{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const l=new Ql;if(this.instancesDeferred.set(i,l),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&l.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),l=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(l)return null;throw o}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(TT(t))try{this.getOrInitializeService({instanceIdentifier:ts})}catch{}for(const[i,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});l.resolve(c)}catch{}}}}clearInstance(t=ts){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ts){return this.instances.has(t)}getOptions(t=ts){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,l=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:l,options:i});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);l===m&&h.resolve(o)}return o}onInit(t,i){const l=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(l)??new Set;o.add(t),this.onInitCallbacks.set(l,o);const c=this.instances.get(l);return c&&t(c,l),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const l=this.onInitCallbacks.get(i);if(l)for(const o of l)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let l=this.instances.get(t);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:bT(t),options:i}),this.instances.set(t,l),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(l,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,l)}catch{}return l||null}normalizeInstanceIdentifier(t=ts){return this.component?this.component.multipleInstances?t:ts:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bT(s){return s===ts?void 0:s}function TT(s){return s.instantiationMode==="EAGER"}class CT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new ST(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var we;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(we||(we={}));const AT={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},wT=we.INFO,NT={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},RT=(s,t,...i)=>{if(t<s.logLevel)return;const l=new Date().toISOString(),o=NT[t];if(o)console[o](`[${l}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zh{constructor(t){this.name=t,this._logLevel=wT,this._logHandler=RT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in we))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?AT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...t),this._logHandler(this,we.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...t),this._logHandler(this,we.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,we.INFO,...t),this._logHandler(this,we.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,we.WARN,...t),this._logHandler(this,we.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...t),this._logHandler(this,we.ERROR,...t)}}const OT=(s,t)=>t.some(i=>s instanceof i);let q_,V_;function DT(){return q_||(q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IT(){return V_||(V_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cv=new WeakMap,uh=new WeakMap,fv=new WeakMap,Ff=new WeakMap,Hh=new WeakMap;function MT(s){const t=new Promise((i,l)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{i(Ci(s.result)),o()},h=()=>{l(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&cv.set(i,s)}).catch(()=>{}),Hh.set(t,s),t}function xT(s){if(uh.has(s))return;const t=new Promise((i,l)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{i(),o()},h=()=>{l(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});uh.set(s,t)}let ch={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return uh.get(s);if(t==="objectStoreNames")return s.objectStoreNames||fv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ci(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function LT(s){ch=s(ch)}function kT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const l=s.call(Qf(this),t,...i);return fv.set(l,t.sort?t.sort():[t]),Ci(l)}:IT().includes(s)?function(...t){return s.apply(Qf(this),t),Ci(cv.get(this))}:function(...t){return Ci(s.apply(Qf(this),t))}}function UT(s){return typeof s=="function"?kT(s):(s instanceof IDBTransaction&&xT(s),OT(s,DT())?new Proxy(s,ch):s)}function Ci(s){if(s instanceof IDBRequest)return MT(s);if(Ff.has(s))return Ff.get(s);const t=UT(s);return t!==s&&(Ff.set(s,t),Hh.set(t,s)),t}const Qf=s=>Hh.get(s);function zT(s,t,{blocked:i,upgrade:l,blocking:o,terminated:c}={}){const h=indexedDB.open(s,t),m=Ci(h);return l&&h.addEventListener("upgradeneeded",g=>{l(Ci(h.result),g.oldVersion,g.newVersion,Ci(h.transaction),g)}),i&&h.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const HT=["get","getKey","getAll","getAllKeys","count"],BT=["put","add","delete","clear"],Kf=new Map;function Y_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Kf.get(t))return Kf.get(t);const i=t.replace(/FromIndex$/,""),l=t!==i,o=BT.includes(i);if(!(i in(l?IDBIndex:IDBObjectStore).prototype)||!(o||HT.includes(i)))return;const c=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return l&&(p=p.index(m.shift())),(await Promise.all([p[i](...m),o&&g.done]))[0]};return Kf.set(t,c),c}LT(s=>({...s,get:(t,i,l)=>Y_(t,i)||s.get(t,i,l),has:(t,i)=>!!Y_(t,i)||s.has(t,i)}));class jT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(PT(i)){const l=i.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(i=>i).join(" ")}}function PT(s){return s.getComponent()?.type==="VERSION"}const fh="@firebase/app",F_="0.14.6";const Gn=new zh("@firebase/app"),GT="@firebase/app-compat",qT="@firebase/analytics-compat",VT="@firebase/analytics",YT="@firebase/app-check-compat",FT="@firebase/app-check",QT="@firebase/auth",KT="@firebase/auth-compat",XT="@firebase/database",WT="@firebase/data-connect",ZT="@firebase/database-compat",JT="@firebase/functions",$T="@firebase/functions-compat",eC="@firebase/installations",tC="@firebase/installations-compat",nC="@firebase/messaging",iC="@firebase/messaging-compat",sC="@firebase/performance",aC="@firebase/performance-compat",lC="@firebase/remote-config",rC="@firebase/remote-config-compat",oC="@firebase/storage",uC="@firebase/storage-compat",cC="@firebase/firestore",fC="@firebase/ai",hC="@firebase/firestore-compat",dC="firebase",mC="12.6.0";const hh="[DEFAULT]",pC={[fh]:"fire-core",[GT]:"fire-core-compat",[VT]:"fire-analytics",[qT]:"fire-analytics-compat",[FT]:"fire-app-check",[YT]:"fire-app-check-compat",[QT]:"fire-auth",[KT]:"fire-auth-compat",[XT]:"fire-rtdb",[WT]:"fire-data-connect",[ZT]:"fire-rtdb-compat",[JT]:"fire-fn",[$T]:"fire-fn-compat",[eC]:"fire-iid",[tC]:"fire-iid-compat",[nC]:"fire-fcm",[iC]:"fire-fcm-compat",[sC]:"fire-perf",[aC]:"fire-perf-compat",[lC]:"fire-rc",[rC]:"fire-rc-compat",[oC]:"fire-gcs",[uC]:"fire-gcs-compat",[cC]:"fire-fst",[hC]:"fire-fst-compat",[fC]:"fire-vertex","fire-js":"fire-js",[dC]:"fire-js-all"};const zo=new Map,gC=new Map,dh=new Map;function Q_(s,t){try{s.container.addComponent(t)}catch(i){Gn.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function fa(s){const t=s.name;if(dh.has(t))return Gn.debug(`There were multiple attempts to register component ${t}.`),!1;dh.set(t,s);for(const i of zo.values())Q_(i,s);for(const i of gC.values())Q_(i,s);return!0}function Bh(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Qt(s){return s==null?!1:s.settings!==void 0}const _C={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new Kl("app","Firebase",_C);class yC{constructor(t,i,l){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}const Ea=mC;function hv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const l={name:hh,automaticDataCollectionEnabled:!0,...t},o=l.name;if(typeof o!="string"||!o)throw Ai.create("bad-app-name",{appName:String(o)});if(i||(i=sv()),!i)throw Ai.create("no-options");const c=zo.get(o);if(c){if(as(i,c.options)&&as(l,c.config))return c;throw Ai.create("duplicate-app",{appName:o})}const h=new CT(o);for(const g of dh.values())h.addComponent(g);const m=new yC(i,l,h);return zo.set(o,m),m}function dv(s=hh){const t=zo.get(s);if(!t&&s===hh&&sv())return hv();if(!t)throw Ai.create("no-app",{appName:s});return t}function wi(s,t,i){let l=pC[s]??s;i&&(l+=`-${i}`);const o=l.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const h=[`Unable to register library "${l}" with version "${t}":`];o&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gn.warn(h.join(" "));return}fa(new ls(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}const vC="firebase-heartbeat-database",EC=1,kl="firebase-heartbeat-store";let Xf=null;function mv(){return Xf||(Xf=zT(vC,EC,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(kl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ai.create("idb-open",{originalErrorMessage:s.message})})),Xf}async function SC(s){try{const i=(await mv()).transaction(kl),l=await i.objectStore(kl).get(pv(s));return await i.done,l}catch(t){if(t instanceof Mi)Gn.warn(t.message);else{const i=Ai.create("idb-get",{originalErrorMessage:t?.message});Gn.warn(i.message)}}}async function K_(s,t){try{const l=(await mv()).transaction(kl,"readwrite");await l.objectStore(kl).put(t,pv(s)),await l.done}catch(i){if(i instanceof Mi)Gn.warn(i.message);else{const l=Ai.create("idb-set",{originalErrorMessage:i?.message});Gn.warn(l.message)}}}function pv(s){return`${s.name}!${s.options.appId}`}const bC=1024,TC=30;class CC{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new wC(i),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=X_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(o=>o.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>TC){const o=NC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Gn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=X_(),{heartbeatsToSend:i,unsentEntries:l}=AC(this._heartbeatsCache.heartbeats),o=Lo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Gn.warn(t),""}}}function X_(){return new Date().toISOString().substring(0,10)}function AC(s,t=bC){const i=[];let l=s.slice();for(const o of s){const c=i.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),W_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),W_(i)>t){i.pop();break}l=l.slice(1)}return{heartbeatsToSend:i,unsentEntries:l}}class wC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uT()?cT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await SC(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return K_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return K_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function W_(s){return Lo(JSON.stringify({version:2,heartbeats:s})).length}function NC(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let l=1;l<s.length;l++)s[l].date<i&&(i=s[l].date,t=l);return t}function RC(s){fa(new ls("platform-logger",t=>new jT(t),"PRIVATE")),fa(new ls("heartbeat",t=>new CC(t),"PRIVATE")),wi(fh,F_,s),wi(fh,F_,"esm2020"),wi("fire-js","")}RC("");function gv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OC=gv,_v=new Kl("auth","Firebase",gv());const Ho=new zh("@firebase/auth");function DC(s,...t){Ho.logLevel<=we.WARN&&Ho.warn(`Auth (${Ea}): ${s}`,...t)}function Oo(s,...t){Ho.logLevel<=we.ERROR&&Ho.error(`Auth (${Ea}): ${s}`,...t)}function rn(s,...t){throw jh(s,...t)}function pn(s,...t){return jh(s,...t)}function yv(s,t,i){const l={...OC(),[t]:i};return new Kl("auth","Firebase",l).create(t,{appName:s.name})}function jn(s){return yv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jh(s,...t){if(typeof s!="string"){const i=t[0],l=[...t.slice(1)];return l[0]&&(l[0].appName=s.name),s._errorFactory.create(i,...l)}return _v.create(s,...t)}function Q(s,t,...i){if(!s)throw jh(t,...i)}function zn(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Oo(t),new Error(t)}function qn(s,t){s||zn(t)}function mh(){return typeof self<"u"&&self.location?.href||""}function IC(){return Z_()==="http:"||Z_()==="https:"}function Z_(){return typeof self<"u"&&self.location?.protocol||null}function MC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IC()||lT()||"connection"in navigator)?navigator.onLine:!0}function xC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Xl{constructor(t,i){this.shortDelay=t,this.longDelay=i,qn(i>t,"Short delay should be less than long delay!"),this.isMobile=Uh()||ov()}get(){return MC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ph(s,t){qn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class vv{static initialize(t,i,l){this.fetchImpl=t,i&&(this.headersImpl=i),l&&(this.responseImpl=l)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const LC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UC=new Xl(3e4,6e4);function xi(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Li(s,t,i,l,o={}){return Ev(s,o,async()=>{let c={},h={};l&&(t==="GET"?h=l:c={body:JSON.stringify(l)});const m=va({key:s.config.apiKey,...h}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const p={method:t,headers:g,...c};return aT()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&ya(s.emulatorConfig.host)&&(p.credentials="include"),vv.fetch()(await Sv(s,s.config.apiHost,i,m),p)})}async function Ev(s,t,i){s._canInitEmulator=!1;const l={...LC,...t};try{const o=new HC(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw Ao(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ao(s,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Ao(s,"email-already-in-use",h);if(g==="USER_DISABLED")throw Ao(s,"user-disabled",h);const v=l[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw yv(s,v,p);rn(s,v)}}catch(o){if(o instanceof Mi)throw o;rn(s,"network-request-failed",{message:String(o)})}}async function Wl(s,t,i,l,o={}){const c=await Li(s,t,i,l,o);return"mfaPendingCredential"in c&&rn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Sv(s,t,i,l){const o=`${t}${i}?${l}`,c=s,h=c.config.emulator?Ph(s.config,o):`${s.config.apiScheme}://${o}`;return kC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function zC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,l)=>{this.timer=setTimeout(()=>l(pn(this.auth,"network-request-failed")),UC.get())})}}function Ao(s,t,i){const l={appName:s.name};i.email&&(l.email=i.email),i.phoneNumber&&(l.phoneNumber=i.phoneNumber);const o=pn(s,t,l);return o.customData._tokenResponse=i,o}function J_(s){return s!==void 0&&s.enterprise!==void 0}class BC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return zC(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jC(s,t){return Li(s,"GET","/v2/recaptchaConfig",xi(s,t))}async function PC(s,t){return Li(s,"POST","/v1/accounts:delete",t)}async function Bo(s,t){return Li(s,"POST","/v1/accounts:lookup",t)}function Rl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function GC(s,t=!1){const i=gt(s),l=await i.getIdToken(t),o=Gh(l);Q(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:l,authTime:Rl(Wf(o.auth_time)),issuedAtTime:Rl(Wf(o.iat)),expirationTime:Rl(Wf(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Wf(s){return Number(s)*1e3}function Gh(s){const[t,i,l]=s.split(".");if(t===void 0||i===void 0||l===void 0)return Oo("JWT malformed, contained fewer than 3 sections"),null;try{const o=ko(i);return o?JSON.parse(o):(Oo("Failed to decode base64 JWT payload"),null)}catch(o){return Oo("Caught error parsing JWT payload as JSON",o?.toString()),null}}function $_(s){const t=Gh(s);return Q(t,"internal-error"),Q(typeof t.exp<"u","internal-error"),Q(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ul(s,t,i=!1){if(i)return t;try{return await t}catch(l){throw l instanceof Mi&&qC(l)&&s.auth.currentUser===s&&await s.auth.signOut(),l}}function qC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class VC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ph{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function jo(s){const t=s.auth,i=await s.getIdToken(),l=await Ul(s,Bo(t,{idToken:i}));Q(l?.users.length,t,"internal-error");const o=l.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?bv(o.providerUserInfo):[],h=FC(s.providerData,c),m=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!h?.length,p=m?g:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new ph(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(s,v)}async function YC(s){const t=gt(s);await jo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function FC(s,t){return[...s.filter(l=>!t.some(o=>o.providerId===l.providerId)),...t]}function bv(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function QC(s,t){const i=await Ev(s,{},async()=>{const l=va({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,h=await Sv(s,o,"/v1/token",`key=${c}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:l};return s.emulatorConfig&&ya(s.emulatorConfig.host)&&(g.credentials="include"),vv.fetch()(h,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function KC(s,t){return Li(s,"POST","/v2/accounts:revokeToken",xi(s,t))}class aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Q(t.idToken,"internal-error"),Q(typeof t.idToken<"u","internal-error"),Q(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Q(t.length!==0,"internal-error");const i=$_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:l,refreshToken:o,expiresIn:c}=await QC(t,i);this.updateTokensAndExpiration(l,o,Number(c))}updateTokensAndExpiration(t,i,l){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+l*1e3}static fromJSON(t,i){const{refreshToken:l,accessToken:o,expirationTime:c}=i,h=new aa;return l&&(Q(typeof l=="string","internal-error",{appName:t}),h.refreshToken=l),o&&(Q(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),c&&(Q(typeof c=="number","internal-error",{appName:t}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new aa,this.toJSON())}_performRefresh(){return zn("not implemented")}}function _i(s,t){Q(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class sn{constructor({uid:t,auth:i,stsTokenManager:l,...o}){this.providerId="firebase",this.proactiveRefresh=new VC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ph(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Ul(this,this.stsTokenManager.getToken(this.auth,t));return Q(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return GC(this,t)}reload(){return YC(this)}_assign(t){this!==t&&(Q(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new sn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let l=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),l=!0),i&&await jo(this),await this.auth._persistUserIfCurrent(this),l&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qt(this.auth.app))return Promise.reject(jn(this.auth));const t=await this.getIdToken();return await Ul(this,PC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const l=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,h=i.photoURL??void 0,m=i.tenantId??void 0,g=i._redirectEventId??void 0,p=i.createdAt??void 0,v=i.lastLoginAt??void 0,{uid:y,emailVerified:S,isAnonymous:k,providerData:U,stsTokenManager:Y}=i;Q(y&&Y,t,"internal-error");const fe=aa.fromJSON(this.name,Y);Q(typeof y=="string",t,"internal-error"),_i(l,t.name),_i(o,t.name),Q(typeof S=="boolean",t,"internal-error"),Q(typeof k=="boolean",t,"internal-error"),_i(c,t.name),_i(h,t.name),_i(m,t.name),_i(g,t.name),_i(p,t.name),_i(v,t.name);const j=new sn({uid:y,auth:t,email:o,emailVerified:S,displayName:l,isAnonymous:k,photoURL:h,phoneNumber:c,tenantId:m,stsTokenManager:fe,createdAt:p,lastLoginAt:v});return U&&Array.isArray(U)&&(j.providerData=U.map(he=>({...he}))),g&&(j._redirectEventId=g),j}static async _fromIdTokenResponse(t,i,l=!1){const o=new aa;o.updateFromServerResponse(i);const c=new sn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:l});return await jo(c),c}static async _fromGetAccountInfoResponse(t,i,l){const o=i.users[0];Q(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?bv(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,m=new aa;m.updateFromIdToken(l);const g=new sn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ph(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,p),g}}const ey=new Map;function Hn(s){qn(s instanceof Function,"Expected a class definition");let t=ey.get(s);return t?(qn(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,ey.set(s,t),t)}class Tv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Tv.type="NONE";const ty=Tv;function Do(s,t,i){return`firebase:${s}:${t}:${i}`}class la{constructor(t,i,l){this.persistence=t,this.auth=i,this.userKey=l;const{config:o,name:c}=this.auth;this.fullUserKey=Do(this.userKey,o.apiKey,c),this.fullPersistenceKey=Do("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Bo(this.auth,{idToken:t}).catch(()=>{});return i?sn._fromGetAccountInfoResponse(this.auth,i,t):null}return sn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,l="authUser"){if(!i.length)return new la(Hn(ty),t,l);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=o[0]||Hn(ty);const h=Do(l,t.config.apiKey,t.name);let m=null;for(const p of i)try{const v=await p._get(h);if(v){let y;if(typeof v=="string"){const S=await Bo(t,{idToken:v}).catch(()=>{});if(!S)break;y=await sn._fromGetAccountInfoResponse(t,S,v)}else y=sn._fromJSON(t,v);p!==c&&(m=y),c=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new la(c,t,l):(c=g[0],m&&await c._set(h,m.toJSON()),await Promise.all(i.map(async p=>{if(p!==c)try{await p._remove(h)}catch{}})),new la(c,t,l))}}function ny(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Nv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Cv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ov(t))return"Blackberry";if(Dv(t))return"Webos";if(Av(t))return"Safari";if((t.includes("chrome/")||wv(t))&&!t.includes("edge/"))return"Chrome";if(Rv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,l=s.match(i);if(l?.length===2)return l[1]}return"Other"}function Cv(s=pt()){return/firefox\//i.test(s)}function Av(s=pt()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function wv(s=pt()){return/crios\//i.test(s)}function Nv(s=pt()){return/iemobile/i.test(s)}function Rv(s=pt()){return/android/i.test(s)}function Ov(s=pt()){return/blackberry/i.test(s)}function Dv(s=pt()){return/webos/i.test(s)}function qh(s=pt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function XC(s=pt()){return qh(s)&&!!window.navigator?.standalone}function WC(){return rT()&&document.documentMode===10}function Iv(s=pt()){return qh(s)||Rv(s)||Dv(s)||Ov(s)||/windows phone/i.test(s)||Nv(s)}function Mv(s,t=[]){let i;switch(s){case"Browser":i=ny(pt());break;case"Worker":i=`${ny(pt())}-${s}`;break;default:i=s}const l=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ea}/${l}`}class ZC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const l=c=>new Promise((h,m)=>{try{const g=t(c);h(g)}catch(g){m(g)}});l.onAbort=i,this.queue.push(l);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const l of this.queue)await l(t),l.onAbort&&i.push(l.onAbort)}catch(l){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:l?.message})}}}async function JC(s,t={}){return Li(s,"GET","/v2/passwordPolicy",xi(s,t))}const $C=6;class e1{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??$C,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const l=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;l&&(i.meetsMinPasswordLength=t.length>=l),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let l;for(let o=0;o<t.length;o++)l=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,l>="a"&&l<="z",l>="A"&&l<="Z",l>="0"&&l<="9",this.allowedNonAlphanumericCharacters.includes(l))}updatePasswordCharacterOptionsStatuses(t,i,l,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=l)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class t1{constructor(t,i,l,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=l,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iy(this),this.idTokenSubscription=new iy(this),this.beforeStateQueue=new ZC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_v,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Hn(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await la.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Bo(this,{idToken:t}),l=await sn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(l)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Qt(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=l?._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===h)&&m?.user&&(l=m.user,o=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(l)}catch(c){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await jo(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=xC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Qt(this.app))return Promise.reject(jn(this));const i=t?gt(t):null;return i&&Q(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Q(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Qt(this.app)?Promise.reject(jn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Qt(this.app)?Promise.reject(jn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await JC(this),i=new e1(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Kl("auth","Firebase",t())}onAuthStateChanged(t,i,l){return this.registerStateListener(this.authStateSubscription,t,i,l)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,l){return this.registerStateListener(this.idTokenSubscription,t,i,l)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const l=this.onAuthStateChanged(()=>{l(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),l={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(l.tenantId=this.tenantId),await KC(this,l)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const l=await this.getOrInitRedirectPersistenceManager(i);return t===null?l.removeCurrentUser():l.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Hn(t)||this._popupRedirectResolver;Q(i,this,"argument-error"),this.redirectPersistenceManager=await la.create(this,[Hn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,l,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,l,o);return()=>{h=!0,g()}}else{const g=t.addObserver(i);return()=>{h=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Mv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(t["X-Firebase-AppCheck"]=l),t}async _getAppCheckToken(){if(Qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&DC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function hs(s){return gt(s)}class iy{constructor(t){this.auth=t,this.observer=null,this.addObserver=_T(i=>this.observer=i)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n1(s){lu=s}function xv(s){return lu.loadJS(s)}function i1(){return lu.recaptchaEnterpriseScript}function s1(){return lu.gapiScript}function a1(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class l1{constructor(){this.enterprise=new r1}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class r1{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const o1="recaptcha-enterprise",Lv="NO_RECAPTCHA";class u1{constructor(t){this.type=o1,this.auth=hs(t)}async verify(t="verify",i=!1){async function l(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,m)=>{jC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new BC(g);return c.tenantId==null?c._agentRecaptchaConfig=p:c._tenantRecaptchaConfigs[c.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function o(c,h,m){const g=window.grecaptcha;J_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:t}).then(p=>{h(p)}).catch(()=>{h(Lv)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new l1().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{l(this.auth).then(m=>{if(!i&&J_(window.grecaptcha))o(m,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=i1();g.length!==0&&(g+=m),xv(g).then(()=>{o(m,c,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function sy(s,t,i,l=!1,o=!1){const c=new u1(s);let h;if(o)h=Lv;else try{h=await c.verify(i)}catch{h=await c.verify(i,!0)}const m={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return l?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function gh(s,t,i,l,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await sy(s,t,i,i==="getOobCode");return l(s,c)}else return l(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await sy(s,t,i,i==="getOobCode");return l(s,h)}else return Promise.reject(c)})}function c1(s,t){const i=Bh(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(as(c,t??{}))return o;rn(o,"already-initialized")}return i.initialize({options:t})}function f1(s,t){const i=t?.persistence||[],l=(Array.isArray(i)?i:[i]).map(Hn);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(l,t?.popupRedirectResolver)}function h1(s,t,i){const l=hs(s);Q(/^https?:\/\//.test(t),l,"invalid-emulator-scheme");const o=!1,c=kv(t),{host:h,port:m}=d1(t),g=m===null?"":`:${m}`,p={url:`${c}//${h}${g}/`},v=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!l._canInitEmulator){Q(l.config.emulator&&l.emulatorConfig,l,"emulator-config-failed"),Q(as(p,l.config.emulator)&&as(v,l.emulatorConfig),l,"emulator-config-failed");return}l.config.emulator=p,l.emulatorConfig=v,l.settings.appVerificationDisabledForTesting=!0,ya(h)?(lv(`${c}//${h}${g}`),rv("Auth",!0)):m1()}function kv(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function d1(s){const t=kv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const l=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(l);if(o){const c=o[1];return{host:c,port:ay(l.substr(c.length+1))}}else{const[c,h]=l.split(":");return{host:c,port:ay(h)}}}function ay(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function m1(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Vh{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return zn("not implemented")}_getIdTokenResponse(t){return zn("not implemented")}_linkToIdToken(t,i){return zn("not implemented")}_getReauthenticationResolver(t){return zn("not implemented")}}async function p1(s,t){return Li(s,"POST","/v1/accounts:signUp",t)}async function g1(s,t){return Wl(s,"POST","/v1/accounts:signInWithPassword",xi(s,t))}async function _1(s,t){return Wl(s,"POST","/v1/accounts:signInWithEmailLink",xi(s,t))}async function y1(s,t){return Wl(s,"POST","/v1/accounts:signInWithEmailLink",xi(s,t))}class zl extends Vh{constructor(t,i,l,o=null){super("password",l),this._email=t,this._password=i,this._tenantId=o}static _fromEmailAndPassword(t,i){return new zl(t,i,"password")}static _fromEmailAndCode(t,i,l=null){return new zl(t,i,"emailLink",l)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gh(t,i,"signInWithPassword",g1);case"emailLink":return _1(t,{email:this._email,oobCode:this._password});default:rn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const l={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gh(t,l,"signUpPassword",p1);case"emailLink":return y1(t,{idToken:i,email:this._email,oobCode:this._password});default:rn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function ra(s,t){return Wl(s,"POST","/v1/accounts:signInWithIdp",xi(s,t))}const v1="http://localhost";class rs extends Vh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new rs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):rn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:l,signInMethod:o,...c}=i;if(!l||!o)return null;const h=new rs(l,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(t){const i=this.buildRequest();return ra(t,i)}_linkToIdToken(t,i){const l=this.buildRequest();return l.idToken=i,ra(t,l)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ra(t,i)}buildRequest(){const t={requestUri:v1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=va(i)}return t}}function E1(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function S1(s){const t=Al(wl(s)).link,i=t?Al(wl(t)).deep_link_id:null,l=Al(wl(s)).deep_link_id;return(l?Al(wl(l)).link:null)||l||i||t||s}class Yh{constructor(t){const i=Al(wl(t)),l=i.apiKey??null,o=i.oobCode??null,c=E1(i.mode??null);Q(l&&o&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=S1(t);try{return new Yh(i)}catch{return null}}}class Sa{constructor(){this.providerId=Sa.PROVIDER_ID}static credential(t,i){return zl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const l=Yh.parseLink(i);return Q(l,"argument-error"),zl._fromEmailAndCode(t,l.code,l.tenantId)}}Sa.PROVIDER_ID="password";Sa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Uv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Zl extends Uv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class yi extends Zl{constructor(){super("facebook.com")}static credential(t){return rs._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yi.credentialFromTaggedObject(t)}static credentialFromError(t){return yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yi.credential(t.oauthAccessToken)}catch{return null}}}yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";yi.PROVIDER_ID="facebook.com";class vi extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return rs._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return vi.credentialFromTaggedObject(t)}static credentialFromError(t){return vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:l}=t;if(!i&&!l)return null;try{return vi.credential(i,l)}catch{return null}}}vi.GOOGLE_SIGN_IN_METHOD="google.com";vi.PROVIDER_ID="google.com";class Ei extends Zl{constructor(){super("github.com")}static credential(t){return rs._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ei.credentialFromTaggedObject(t)}static credentialFromError(t){return Ei.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ei.credential(t.oauthAccessToken)}catch{return null}}}Ei.GITHUB_SIGN_IN_METHOD="github.com";Ei.PROVIDER_ID="github.com";class Si extends Zl{constructor(){super("twitter.com")}static credential(t,i){return rs._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Si.credentialFromTaggedObject(t)}static credentialFromError(t){return Si.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:l}=t;if(!i||!l)return null;try{return Si.credential(i,l)}catch{return null}}}Si.TWITTER_SIGN_IN_METHOD="twitter.com";Si.PROVIDER_ID="twitter.com";async function b1(s,t){return Wl(s,"POST","/v1/accounts:signUp",xi(s,t))}class os{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,l,o=!1){const c=await sn._fromIdTokenResponse(t,l,o),h=ly(l);return new os({user:c,providerId:h,_tokenResponse:l,operationType:i})}static async _forOperation(t,i,l){await t._updateTokensIfNecessary(l,!0);const o=ly(l);return new os({user:t,providerId:o,_tokenResponse:l,operationType:i})}}function ly(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Po extends Mi{constructor(t,i,l,o){super(i.code,i.message),this.operationType=l,this.user=o,Object.setPrototypeOf(this,Po.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:l}}static _fromErrorAndOperation(t,i,l,o){return new Po(t,i,l,o)}}function zv(s,t,i,l){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Po._fromErrorAndOperation(s,c,t,l):c})}async function T1(s,t,i=!1){const l=await Ul(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return os._forOperation(s,"link",l)}async function C1(s,t,i=!1){const{auth:l}=s;if(Qt(l.app))return Promise.reject(jn(l));const o="reauthenticate";try{const c=await Ul(s,zv(l,o,t,s),i);Q(c.idToken,l,"internal-error");const h=Gh(c.idToken);Q(h,l,"internal-error");const{sub:m}=h;return Q(s.uid===m,l,"user-mismatch"),os._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&rn(l,"user-mismatch"),c}}async function Hv(s,t,i=!1){if(Qt(s.app))return Promise.reject(jn(s));const l="signIn",o=await zv(s,l,t),c=await os._fromIdTokenResponse(s,l,o);return i||await s._updateCurrentUser(c.user),c}async function A1(s,t){return Hv(hs(s),t)}async function Bv(s){const t=hs(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function w1(s,t,i){if(Qt(s.app))return Promise.reject(jn(s));const l=hs(s),h=await gh(l,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",b1).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Bv(s),g}),m=await os._fromIdTokenResponse(l,"signIn",h);return await l._updateCurrentUser(m.user),m}function N1(s,t,i){return Qt(s.app)?Promise.reject(jn(s)):A1(gt(s),Sa.credential(t,i)).catch(async l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Bv(s),l})}function R1(s,t,i,l){return gt(s).onIdTokenChanged(t,i,l)}function O1(s,t,i){return gt(s).beforeAuthStateChanged(t,i)}function D1(s,t,i,l){return gt(s).onAuthStateChanged(t,i,l)}function I1(s){return gt(s).signOut()}const Go="__sak";class jv{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Go,"1"),this.storage.removeItem(Go),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const M1=1e3,x1=10;class Pv extends jv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Iv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const l=this.storage.getItem(i),o=this.localCache[i];l!==o&&t(i,o,l)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const l=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(l);!i&&this.localCache[l]===h||this.notifyListeners(l,h)},c=this.storage.getItem(l);WC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,x1):o()}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,l)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:l}),!0)})},M1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Pv.type="LOCAL";const L1=Pv;class Gv extends jv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Gv.type="SESSION";const qv=Gv;function k1(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ru{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const l=new ru(t);return this.receivers.push(l),l}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:l,eventType:o,data:c}=i.data,h=this.handlersMap[o];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:l,eventType:o});const m=Array.from(h).map(async p=>p(i.origin,c)),g=await k1(m);i.ports[0].postMessage({status:"done",eventId:l,eventType:o,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ru.receivers=[];function Fh(s="",t=10){let i="";for(let l=0;l<t;l++)i+=Math.floor(Math.random()*10);return s+i}class U1{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,l=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((m,g)=>{const p=Fh("",20);o.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},l);h={messageChannel:o,onMessage(y){const S=y;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(S.data.response);break;default:clearTimeout(v),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:p,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function gn(){return window}function z1(s){gn().location.href=s}function Vv(){return typeof gn().WorkerGlobalScope<"u"&&typeof gn().importScripts=="function"}async function H1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B1(){return navigator?.serviceWorker?.controller||null}function j1(){return Vv()?self:null}const Yv="firebaseLocalStorageDb",P1=1,qo="firebaseLocalStorage",Fv="fbase_key";class Jl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ou(s,t){return s.transaction([qo],t?"readwrite":"readonly").objectStore(qo)}function G1(){const s=indexedDB.deleteDatabase(Yv);return new Jl(s).toPromise()}function _h(){const s=indexedDB.open(Yv,P1);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const l=s.result;try{l.createObjectStore(qo,{keyPath:Fv})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const l=s.result;l.objectStoreNames.contains(qo)?t(l):(l.close(),await G1(),t(await _h()))})})}async function ry(s,t,i){const l=ou(s,!0).put({[Fv]:t,value:i});return new Jl(l).toPromise()}async function q1(s,t){const i=ou(s,!1).get(t),l=await new Jl(i).toPromise();return l===void 0?null:l.value}function oy(s,t){const i=ou(s,!0).delete(t);return new Jl(i).toPromise()}const V1=800,Y1=3;class Qv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _h(),this.db)}async _withRetries(t){let i=0;for(;;)try{const l=await this._openDb();return await t(l)}catch(l){if(i++>Y1)throw l;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ru._getInstance(j1()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await H1(),!this.activeServiceWorker)return;this.sender=new U1(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||B1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _h();return await ry(t,Go,"1"),await oy(t,Go),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(l=>ry(l,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(l=>q1(l,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>oy(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=ou(o,!1).getAll();return new Jl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],l=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)l.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!l.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Qv.type="LOCAL";const F1=Qv;new Xl(3e4,6e4);function Q1(s,t){return t?Hn(t):(Q(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Qh extends Vh{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ra(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ra(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ra(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function K1(s){return Hv(s.auth,new Qh(s),s.bypassAuthState)}function X1(s){const{auth:t,user:i}=s;return Q(i,t,"internal-error"),C1(i,new Qh(s),s.bypassAuthState)}async function W1(s){const{auth:t,user:i}=s;return Q(i,t,"internal-error"),T1(i,new Qh(s),s.bypassAuthState)}class Kv{constructor(t,i,l,o,c=!1){this.auth=t,this.resolver=l,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(l){this.reject(l)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:l,postBody:o,tenantId:c,error:h,type:m}=t;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:i,sessionId:l,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return K1;case"linkViaPopup":case"linkViaRedirect":return W1;case"reauthViaPopup":case"reauthViaRedirect":return X1;default:rn(this.auth,"internal-error")}}resolve(t){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Z1=new Xl(2e3,1e4);class ia extends Kv{constructor(t,i,l,o,c){super(t,i,o,c),this.provider=l,this.authWindow=null,this.pollId=null,ia.currentPopupAction&&ia.currentPopupAction.cancel(),ia.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Q(t,this.auth,"internal-error"),t}async onExecution(){qn(this.filter.length===1,"Popup operations only handle one event");const t=Fh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ia.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Z1.get())};t()}}ia.currentPopupAction=null;const J1="pendingRedirect",Io=new Map;class $1 extends Kv{constructor(t,i,l=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,l),this.eventId=null}async execute(){let t=Io.get(this.auth._key());if(!t){try{const l=await eA(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(l)}catch(i){t=()=>Promise.reject(i)}Io.set(this.auth._key(),t)}return this.bypassAuthState||Io.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eA(s,t){const i=iA(t),l=nA(s);if(!await l._isAvailable())return!1;const o=await l._get(i)==="true";return await l._remove(i),o}function tA(s,t){Io.set(s._key(),t)}function nA(s){return Hn(s._redirectPersistence)}function iA(s){return Do(J1,s.config.apiKey,s.name)}async function sA(s,t,i=!1){if(Qt(s.app))return Promise.reject(jn(s));const l=hs(s),o=Q1(l,t),h=await new $1(l,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await l._persistUserIfCurrent(h.user),await l._setRedirectUser(null,t)),h}const aA=600*1e3;class lA{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(l=>{this.isEventForConsumer(t,l)&&(i=!0,this.sendToConsumer(t,l),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!rA(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!Xv(t)){const l=t.error.code?.split("auth/")[1]||"internal-error";i.onError(pn(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const l=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&l}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=aA&&this.cachedEventUids.clear(),this.cachedEventUids.has(uy(t))}saveEventToCache(t){this.cachedEventUids.add(uy(t)),this.lastProcessedEventTime=Date.now()}}function uy(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function Xv({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function rA(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xv(s);default:return!1}}async function oA(s,t={}){return Li(s,"GET","/v1/projects",t)}const uA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cA=/^https?/;async function fA(s){if(s.config.emulator)return;const{authorizedDomains:t}=await oA(s);for(const i of t)try{if(hA(i))return}catch{}rn(s,"unauthorized-domain")}function hA(s){const t=mh(),{protocol:i,hostname:l}=new URL(t);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&l===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===l}if(!cA.test(i))return!1;if(uA.test(s))return l===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(l)}const dA=new Xl(3e4,6e4);function cy(){const s=gn().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function mA(s){return new Promise((t,i)=>{function l(){cy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{cy(),i(pn(s,"network-request-failed"))},timeout:dA.get()})}if(gn().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(gn().gapi?.load)l();else{const o=a1("iframefcb");return gn()[o]=()=>{gapi.load?l():i(pn(s,"network-request-failed"))},xv(`${s1()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Mo=null,t})}let Mo=null;function pA(s){return Mo=Mo||mA(s),Mo}const gA=new Xl(5e3,15e3),_A="__/auth/iframe",yA="emulator/auth/iframe",vA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SA(s){const t=s.config;Q(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Ph(t,yA):`https://${s.config.authDomain}/${_A}`,l={apiKey:t.apiKey,appName:s.name,v:Ea},o=EA.get(s.config.apiHost);o&&(l.eid=o);const c=s._getFrameworks();return c.length&&(l.fw=c.join(",")),`${i}?${va(l).slice(1)}`}async function bA(s){const t=await pA(s),i=gn().gapi;return Q(i,s,"internal-error"),t.open({where:document.body,url:SA(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vA,dontclear:!0},l=>new Promise(async(o,c)=>{await l.restyle({setHideOnLeave:!1});const h=pn(s,"network-request-failed"),m=gn().setTimeout(()=>{c(h)},gA.get());function g(){gn().clearTimeout(m),o(l)}l.ping(g).then(g,()=>{c(h)})}))}const TA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CA=500,AA=600,wA="_blank",NA="http://localhost";class fy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RA(s,t,i,l=CA,o=AA){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-l)/2,0).toString();let m="";const g={...TA,width:l.toString(),height:o.toString(),top:c,left:h},p=pt().toLowerCase();i&&(m=wv(p)?wA:i),Cv(p)&&(t=t||NA,g.scrollbars="yes");const v=Object.entries(g).reduce((S,[k,U])=>`${S}${k}=${U},`,"");if(XC(p)&&m!=="_self")return OA(t||"",m),new fy(null);const y=window.open(t||"",m,v);Q(y,s,"popup-blocked");try{y.focus()}catch{}return new fy(y)}function OA(s,t){const i=document.createElement("a");i.href=s,i.target=t;const l=document.createEvent("MouseEvent");l.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(l)}const DA="__/auth/handler",IA="emulator/auth/handler",MA=encodeURIComponent("fac");async function hy(s,t,i,l,o,c){Q(s.config.authDomain,s,"auth-domain-config-required"),Q(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:l,v:Ea,eventId:o};if(t instanceof Uv){t.setDefaultLanguage(s.languageCode),h.providerId=t.providerId||"",oh(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,y]of Object.entries({}))h[v]=y}if(t instanceof Zl){const v=t.getScopes().filter(y=>y!=="");v.length>0&&(h.scopes=v.join(","))}s.tenantId&&(h.tid=s.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const g=await s._getAppCheckToken(),p=g?`#${MA}=${encodeURIComponent(g)}`:"";return`${xA(s)}?${va(m).slice(1)}${p}`}function xA({config:s}){return s.emulator?Ph(s,IA):`https://${s.authDomain}/${DA}`}const Zf="webStorageSupport";class LA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qv,this._completeRedirectFn=sA,this._overrideRedirectResult=tA}async _openPopup(t,i,l,o){qn(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await hy(t,i,l,mh(),o);return RA(t,c,Fh())}async _openRedirect(t,i,l,o){await this._originValidation(t);const c=await hy(t,i,l,mh(),o);return z1(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(qn(c,"If manager is not set, promise should be"),c)}const l=this.initAndGetManager(t);return this.eventManagers[i]={promise:l},l.catch(()=>{delete this.eventManagers[i]}),l}async initAndGetManager(t){const i=await bA(t),l=new lA(t);return i.register("authEvent",o=>(Q(o?.authEvent,t,"invalid-auth-event"),{status:l.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:l},this.iframes[t._key()]=i,l}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Zf,{type:Zf},o=>{const c=o?.[0]?.[Zf];c!==void 0&&i(!!c),rn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=fA(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Iv()||Av()||qh()}}const kA=LA;var dy="@firebase/auth",my="1.12.0";class UA{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(l=>{t(l?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zA(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HA(s){fa(new ls("auth",(t,{options:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=l.options;Q(h&&!h.includes(":"),"invalid-api-key",{appName:l.name});const g={apiKey:h,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mv(s)},p=new t1(l,o,c,g);return f1(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,l)=>{t.getProvider("auth-internal").initialize()})),fa(new ls("auth-internal",t=>{const i=hs(t.getProvider("auth").getImmediate());return(l=>new UA(l))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),wi(dy,my,zA(s)),wi(dy,my,"esm2020")}const BA=300,jA=av("authIdTokenMaxAge")||BA;let py=null;const PA=s=>async t=>{const i=t&&await t.getIdTokenResult(),l=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(l&&l>jA)return;const o=i?.token;py!==o&&(py=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function GA(s=dv()){const t=Bh(s,"auth");if(t.isInitialized())return t.getImmediate();const i=c1(s,{popupRedirectResolver:kA,persistence:[F1,L1,qv]}),l=av("authTokenSyncURL");if(l&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(l,location.origin);if(location.origin===c.origin){const h=PA(c.toString());O1(i,h,()=>h(i.currentUser)),R1(i,m=>h(m))}}const o=iv("auth");return o&&h1(i,`http://${o}`),i}function qA(){return document.getElementsByTagName("head")?.[0]??document}n1({loadJS(s){return new Promise((t,i)=>{const l=document.createElement("script");l.setAttribute("src",s),l.onload=t,l.onerror=o=>{const c=pn("internal-error");c.customData=o,i(c)},l.type="text/javascript",l.charset="UTF-8",qA().appendChild(l)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HA("Browser");var gy={};const _y="@firebase/database",yy="1.1.0";let Wv="";function VA(s){Wv=s}class YA{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ke(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Ll(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class FA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return _n(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Zv=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const t=window[s];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new YA(t)}}catch{}return new FA},is=Zv("localStorage"),QA=Zv("sessionStorage");const oa=new zh("@firebase/database"),KA=(function(){let s=1;return function(){return s++}})(),Jv=function(s){const t=ET(s),i=new gT;i.update(t);const l=i.digest();return Lh.encodeByteArray(l)},$l=function(...s){let t="";for(let i=0;i<s.length;i++){const l=s[i];Array.isArray(l)||l&&typeof l=="object"&&typeof l.length=="number"?t+=$l.apply(null,l):typeof l=="object"?t+=Ke(l):t+=l,t+=" "}return t};let Ol=null,vy=!0;const XA=function(s,t){z(!0,"Can't turn on custom loggers persistently."),oa.logLevel=we.VERBOSE,Ol=oa.log.bind(oa)},lt=function(...s){if(vy===!0&&(vy=!1,Ol===null&&QA.get("logging_enabled")===!0&&XA()),Ol){const t=$l.apply(null,s);Ol(t)}},er=function(s){return function(...t){lt(s,...t)}},yh=function(...s){const t="FIREBASE INTERNAL ERROR: "+$l(...s);oa.error(t)},Vn=function(...s){const t=`FIREBASE FATAL ERROR: ${$l(...s)}`;throw oa.error(t),new Error(t)},mt=function(...s){const t="FIREBASE WARNING: "+$l(...s);oa.warn(t)},WA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Kh=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},ZA=function(s){if(document.readyState==="complete")s();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},ha="[MIN_NAME]",us="[MAX_NAME]",ds=function(s,t){if(s===t)return 0;if(s===ha||t===us)return-1;if(t===ha||s===us)return 1;{const i=Ey(s),l=Ey(t);return i!==null?l!==null?i-l===0?s.length-t.length:i-l:-1:l!==null?1:s<t?-1:1}},JA=function(s,t){return s===t?0:s<t?-1:1},El=function(s,t){if(t&&s in t)return t[s];throw new Error("Missing required key ("+s+") in object: "+Ke(t))},Xh=function(s){if(typeof s!="object"||s===null)return Ke(s);const t=[];for(const l in s)t.push(l);t.sort();let i="{";for(let l=0;l<t.length;l++)l!==0&&(i+=","),i+=Ke(t[l]),i+=":",i+=Xh(s[t[l]]);return i+="}",i},$v=function(s,t){const i=s.length;if(i<=t)return[s];const l=[];for(let o=0;o<i;o+=t)o+t>i?l.push(s.substring(o,i)):l.push(s.substring(o,o+t));return l};function rt(s,t){for(const i in s)s.hasOwnProperty(i)&&t(i,s[i])}const eE=function(s){z(!Kh(s),"Invalid JSON number");const t=11,i=52,l=(1<<t-1)-1;let o,c,h,m,g;s===0?(c=0,h=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-l)?(m=Math.min(Math.floor(Math.log(s)/Math.LN2),l),c=m+l,h=Math.round(s*Math.pow(2,i-m)-Math.pow(2,i))):(c=0,h=Math.round(s/Math.pow(2,1-l-i))));const p=[];for(g=i;g;g-=1)p.push(h%2?1:0),h=Math.floor(h/2);for(g=t;g;g-=1)p.push(c%2?1:0),c=Math.floor(c/2);p.push(o?1:0),p.reverse();const v=p.join("");let y="";for(g=0;g<64;g+=8){let S=parseInt(v.substr(g,8),2).toString(16);S.length===1&&(S="0"+S),y=y+S}return y.toLowerCase()},$A=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ew=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function tw(s,t){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const l=new Error(s+" at "+t._path.toString()+": "+i);return l.code=s.toUpperCase(),l}const nw=new RegExp("^-?(0*)\\d{1,10}$"),iw=-2147483648,sw=2147483647,Ey=function(s){if(nw.test(s)){const t=Number(s);if(t>=iw&&t<=sw)return t}return null},ba=function(s){try{s()}catch(t){setTimeout(()=>{const i=t.stack||"";throw mt("Exception was thrown by user callback.",i),t},Math.floor(0))}},aw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Dl=function(s,t){const i=setTimeout(s,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class lw{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,Qt(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(l=>this.appCheck=l)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,l)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){mt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class rw{constructor(t,i,l){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(lt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,l)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mt(t)}}class xo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}xo.OWNER="owner";const Wh="5",tE="v",nE="s",iE="r",sE="f",aE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,lE="ls",rE="p",vh="ac",oE="websocket",uE="long_polling";class cE{constructor(t,i,l,o,c=!1,h="",m=!1,g=!1,p=null){this.secure=i,this.namespace=l,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=g,this.emulatorOptions=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=is.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&is.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function ow(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function fE(s,t,i){z(typeof t=="string","typeof type must == string"),z(typeof i=="object","typeof params must == object");let l;if(t===oE)l=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(t===uE)l=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);ow(s)&&(i.ns=s.namespace);const o=[];return rt(i,(c,h)=>{o.push(c+"="+h)}),l+o.join("&")}class uw{constructor(){this.counters_={}}incrementCounter(t,i=1){_n(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return X0(this.counters_)}}const Jf={},$f={};function Zh(s){const t=s.toString();return Jf[t]||(Jf[t]=new uw),Jf[t]}function cw(s,t){const i=s.toString();return $f[i]||($f[i]=t()),$f[i]}class fw{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<l.length;++o)l[o]&&ba(()=>{this.onMessage_(l[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Sy="start",hw="close",dw="pLPCommand",mw="pRTLPCB",hE="id",dE="pw",mE="ser",pw="cb",gw="seg",_w="ts",yw="d",vw="dframe",pE=1870,gE=30,Ew=pE-gE,Sw=25e3,bw=3e4;class sa{constructor(t,i,l,o,c,h,m){this.connId=t,this.repoInfo=i,this.applicationId=l,this.appCheckToken=o,this.authToken=c,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=er(t),this.stats_=Zh(i),this.urlFn=g=>(this.appCheckToken&&(g[vh]=this.appCheckToken),fE(i,uE,g))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new fw(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(bw)),ZA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Jh((...c)=>{const[h,m,g,p,v]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===Sy)this.id=m,this.password=g;else if(h===hw)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...c)=>{const[h,m]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const l={};l[Sy]="t",l[mE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(l[pw]=this.scriptTagHolder.uniqueCallbackIdentifier),l[tE]=Wh,this.transportSessionId&&(l[nE]=this.transportSessionId),this.lastSessionId&&(l[lE]=this.lastSessionId),this.applicationId&&(l[rE]=this.applicationId),this.appCheckToken&&(l[vh]=this.appCheckToken),typeof location<"u"&&location.hostname&&aE.test(location.hostname)&&(l[iE]=sE);const o=this.urlFn(l);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){sa.forceAllow_=!0}static forceDisallow(){sa.forceDisallow_=!0}static isAvailable(){return sa.forceAllow_?!0:!sa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!$A()&&!ew()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=Ke(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=tv(i),o=$v(l,Ew);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const l={};l[vw]="t",l[hE]=t,l[dE]=i,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=Ke(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Jh{constructor(t,i,l,o){this.onDisconnect=l,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=KA(),window[dw+this.uniqueCallbackIdentifier]=t,window[mw+this.uniqueCallbackIdentifier]=i,this.myIFrame=Jh.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){lt("frame writing exception"),m.stack&&lt(m.stack),lt(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||lt("No IE domain setting required")}catch{const l=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[hE]=this.myID,t[dE]=this.myPW,t[mE]=this.currentSerial;let i=this.urlFn(t),l="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+gE+l.length<=pE;){const h=this.pendingSegs.shift();l=l+"&"+gw+o+"="+h.seg+"&"+_w+o+"="+h.ts+"&"+yw+o+"="+h.d,o++}return i=i+l,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,l){this.pendingSegs.push({seg:t,ts:i,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const l=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(l,Math.floor(Sw)),c=()=>{clearTimeout(o),l()};this.addTag(t,c)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=t,l.onload=l.onreadystatechange=function(){const o=l.readyState;(!o||o==="loaded"||o==="complete")&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),i())},l.onerror=()=>{lt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}const Tw=16384,Cw=45e3;let Vo=null;typeof MozWebSocket<"u"?Vo=MozWebSocket:typeof WebSocket<"u"&&(Vo=WebSocket);class nn{constructor(t,i,l,o,c,h,m){this.connId=t,this.applicationId=l,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=er(this.connId),this.stats_=Zh(i),this.connURL=nn.connectionURL_(i,h,m,o,l),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,l,o,c){const h={};return h[tE]=Wh,typeof location<"u"&&location.hostname&&aE.test(location.hostname)&&(h[iE]=sE),i&&(h[nE]=i),l&&(h[lE]=l),o&&(h[vh]=o),c&&(h[rE]=c),fE(t,oE,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,is.set("previous_websocket_failure",!0);try{let l;oT(),this.mySock=new Vo(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){nn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,l=navigator.userAgent.match(i);l&&l.length>1&&parseFloat(l[1])<4.4&&(t=!0)}return!t&&Vo!==null&&!nn.forceDisallow_}static previouslyFailed(){return is.isInMemoryStorage||is.get("previous_websocket_failure")===!0}markConnectionHealthy(){is.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const l=Ll(i);this.onMessage(l)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(z(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const l=this.extractFrameCount_(i);l!==null&&this.appendFrame_(l)}}send(t){this.resetKeepAlive();const i=Ke(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=$v(i,Tw);l.length>1&&this.sendString_(String(l.length));for(let o=0;o<l.length;o++)this.sendString_(l[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Cw))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}nn.responsesRequiredToBeHealthy=2;nn.healthyTimeout=3e4;class Hl{static get ALL_TRANSPORTS(){return[sa,nn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=nn&&nn.isAvailable();let l=i&&!nn.previouslyFailed();if(t.webSocketOnly&&(i||mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[nn];else{const o=this.transports_=[];for(const c of Hl.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);Hl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Hl.globalTransportInitialized_=!1;const Aw=6e4,ww=5e3,Nw=10*1024,Rw=100*1024,eh="t",by="d",Ow="s",Ty="r",Dw="e",Cy="o",Ay="a",wy="n",Ny="p",Iw="h";class Mw{constructor(t,i,l,o,c,h,m,g,p,v){this.id=t,this.repoInfo_=i,this.applicationId_=l,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=g,this.onKill_=p,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=er("c:"+this.id+":"),this.transportManager_=new Hl(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,l)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Dl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Rw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Nw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(eh in t){const i=t[eh];i===Ay?this.upgradeIfSecondaryHealthy_():i===Ty?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Cy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=El("t",t),l=El("d",t);if(i==="c")this.onSecondaryControl_(l);else if(i==="d")this.pendingDataMessages.push(l);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ny,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ay,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:wy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=El("t",t),l=El("d",t);i==="c"?this.onControl_(l):i==="d"&&this.onDataMessage_(l)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=El(eh,t);if(by in t){const l=t[by];if(i===Iw){const o={...l};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===wy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===Ow?this.onConnectionShutdown_(l):i===Ty?this.onReset_(l):i===Dw?yh("Server Error: "+l):i===Cy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):yh("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,l=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Wh!==l&&mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,l),Dl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Aw))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Dl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(ww))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ny,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(is.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class _E{put(t,i,l,o){}merge(t,i,l,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,l){}onDisconnectMerge(t,i,l){}onDisconnectCancel(t,i){}reportStats(t){}}class yE{constructor(t){this.allowedEvents_=t,this.listeners_={},z(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const l=[...this.listeners_[t]];for(let o=0;o<l.length;o++)l[o].callback.apply(l[o].context,i)}}on(t,i,l){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:l});const o=this.getInitialEvent(t);o&&i.apply(l,o)}off(t,i,l){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let c=0;c<o.length;c++)if(o[c].callback===i&&(!l||l===o[c].context)){o.splice(c,1);return}}validateEventType_(t){z(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}class Yo extends yE{static getInstance(){return new Yo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Uh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return z(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const Ry=32,Oy=768;class Ne{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let l=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[l]=this.pieces_[o],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function pe(){return new Ne("")}function ee(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Oi(s){return s.pieces_.length-s.pieceNum_}function Ie(s){let t=s.pieceNum_;return t<s.pieces_.length&&t++,new Ne(s.pieces_,t)}function $h(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function xw(s){let t="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(s.pieces_[i])));return t||"/"}function Bl(s,t=0){return s.pieces_.slice(s.pieceNum_+t)}function vE(s){if(s.pieceNum_>=s.pieces_.length)return null;const t=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)t.push(s.pieces_[i]);return new Ne(t,0)}function ze(s,t){const i=[];for(let l=s.pieceNum_;l<s.pieces_.length;l++)i.push(s.pieces_[l]);if(t instanceof Ne)for(let l=t.pieceNum_;l<t.pieces_.length;l++)i.push(t.pieces_[l]);else{const l=t.split("/");for(let o=0;o<l.length;o++)l[o].length>0&&i.push(l[o])}return new Ne(i,0)}function ae(s){return s.pieceNum_>=s.pieces_.length}function dt(s,t){const i=ee(s),l=ee(t);if(i===null)return t;if(i===l)return dt(Ie(s),Ie(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+s+")")}function Lw(s,t){const i=Bl(s,0),l=Bl(t,0);for(let o=0;o<i.length&&o<l.length;o++){const c=ds(i[o],l[o]);if(c!==0)return c}return i.length===l.length?0:i.length<l.length?-1:1}function ed(s,t){if(Oi(s)!==Oi(t))return!1;for(let i=s.pieceNum_,l=t.pieceNum_;i<=s.pieces_.length;i++,l++)if(s.pieces_[i]!==t.pieces_[l])return!1;return!0}function Xt(s,t){let i=s.pieceNum_,l=t.pieceNum_;if(Oi(s)>Oi(t))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==t.pieces_[l])return!1;++i,++l}return!0}class kw{constructor(t,i){this.errorPrefix_=i,this.parts_=Bl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=au(this.parts_[l]);EE(this)}}function Uw(s,t){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(t),s.byteLength_+=au(t),EE(s)}function zw(s){const t=s.parts_.pop();s.byteLength_-=au(t),s.parts_.length>0&&(s.byteLength_-=1)}function EE(s){if(s.byteLength_>Oy)throw new Error(s.errorPrefix_+"has a key path longer than "+Oy+" bytes ("+s.byteLength_+").");if(s.parts_.length>Ry)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ry+") or object contains a cycle "+ns(s))}function ns(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}class td extends yE{static getInstance(){return new td}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const l=!document[t];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}getInitialEvent(t){return z(t==="visible","Unknown event type: "+t),[this.visible_]}}const Sl=1e3,Hw=300*1e3,Dy=30*1e3,Bw=1.3,jw=3e4,Pw="server_kill",Iy=3;class Pn extends _E{constructor(t,i,l,o,c,h,m,g){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=l,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=g,this.id=Pn.nextPersistentConnectionId_++,this.log_=er("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Sl,this.maxReconnectDelay_=Hw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");td.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Yo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,l){const o=++this.requestNumber_,c={r:o,a:t,b:i};this.log_(Ke(c)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),l&&(this.requestCBHash_[o]=l)}get(t){this.initConnection_();const i=new Ql,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),i.promise}listen(t,i,l,o){this.initConnection_();const c=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),z(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:t,tag:l};this.listens.get(h).set(c,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,l=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(l)})}sendListen_(t){const i=t.query,l=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+l+" for "+o);const c={p:l},h="q";t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(h,c,m=>{const g=m.d,p=m.s;Pn.warnOnListenWarnings_(g,i),(this.listens.get(l)&&this.listens.get(l).get(o))===t&&(this.log_("listen response",m),p!=="ok"&&this.removeListen_(l,o),t.onComplete&&t.onComplete(p,g))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&_n(t,"w")){const l=ca(t,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||pT(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Dy)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=mT(t)?"auth":"gauth",l={cred:t};this.authOverride_===null?l.noauth=!0:typeof this.authOverride_=="object"&&(l.authvar=this.authOverride_),this.sendRequest(i,l,o=>{const c=o.s,h=o.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,l=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,l)})}unlisten(t,i){const l=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+l+" "+o),z(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,o)&&this.connected_&&this.sendUnlisten_(l,o,t._queryObject,i)}sendUnlisten_(t,i,l,o){this.log_("Unlisten on "+t+" for "+i);const c={p:t},h="n";o&&(c.q=l,c.t=o),this.sendRequest(h,c)}onDisconnectPut(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:l})}onDisconnectMerge(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:l})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,l,o){const c={p:i,d:l};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,l,o){this.putInternal("p",t,i,l,o)}merge(t,i,l,o){this.putInternal("m",t,i,l,o)}putInternal(t,i,l,o,c){this.initConnection_();const h={p:i,d:l};c!==void 0&&(h.h=c),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,l=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,l,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,l=>{if(l.s!=="ok"){const c=l.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ke(t));const i=t.r,l=this.requestCBHash_[i];l&&(delete this.requestCBHash_[i],l(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):yh("Unrecognized action received from server: "+Ke(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Sl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Sl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jw&&(this.reconnectDelay_=Sl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Bw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),l=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Pn.nextConnectionId_++,c=this.lastSessionId;let h=!1,m=null;const g=function(){m?m.close():(h=!0,l())},p=function(y){z(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(y)};this.realtime_={close:g,sendRequest:p};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,S]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);h?lt("getToken() completed but was canceled"):(lt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=S&&S.token,m=new Mw(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,l,k=>{mt(k+" ("+this.repoInfo_.toString()+")"),this.interrupt(Pw)},c))}catch(y){this.log_("Failed to get token: "+y),h||(this.repoInfo_.nodeAdmin&&mt(y),g())}}}interrupt(t){lt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){lt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],oh(this.interruptReasons_)&&(this.reconnectDelay_=Sl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let l;i?l=i.map(c=>Xh(c)).join("$"):l="default";const o=this.removeListen_(t,l);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const l=new Ne(t).toString();let o;if(this.listens.has(l)){const c=this.listens.get(l);o=c.get(i),c.delete(i),c.size===0&&this.listens.delete(l)}else o=void 0;return o}onAuthRevoked_(t,i){lt("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Iy&&(this.reconnectDelay_=Dy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){lt("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Iy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+Wv.replace(/\./g,"-")]=1,Uh()?t["framework.cordova"]=1:ov()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Yo.getInstance().currentlyOnline();return oh(this.interruptReasons_)&&t}}Pn.nextPersistentConnectionId_=0;Pn.nextConnectionId_=0;class te{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new te(t,i)}}class uu{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const l=new te(ha,t),o=new te(ha,i);return this.compare(l,o)!==0}minPost(){return te.MIN}}let wo;class SE extends uu{static get __EMPTY_NODE(){return wo}static set __EMPTY_NODE(t){wo=t}compare(t,i){return ds(t.name,i.name)}isDefinedOn(t){throw _a("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return te.MIN}maxPost(){return new te(us,wo)}makePost(t,i){return z(typeof t=="string","KeyIndex indexValue must always be a string."),new te(t,wo)}toString(){return".key"}}const ua=new SE;class No{constructor(t,i,l,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=i?l(t.key,i):1,o&&(h*=-1),h<0)this.isReverse_?t=t.left:t=t.right;else if(h===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Je{constructor(t,i,l,o,c){this.key=t,this.value=i,this.color=l??Je.RED,this.left=o??wt.EMPTY_NODE,this.right=c??wt.EMPTY_NODE}copy(t,i,l,o,c){return new Je(t??this.key,i??this.value,l??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,l){let o=this;const c=l(t,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(t,i,l),null):c===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,l)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return wt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let l,o;if(l=this,i(t,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),i(t,l.key)===0){if(l.right.isEmpty())return wt.EMPTY_NODE;o=l.right.min_(),l=l.copy(o.key,o.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Je.RED=!0;Je.BLACK=!1;class Gw{copy(t,i,l,o,c){return this}insert(t,i,l){return new Je(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class wt{constructor(t,i=wt.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new wt(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,Je.BLACK,null,null))}remove(t){return new wt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Je.BLACK,null,null))}get(t){let i,l=this.root_;for(;!l.isEmpty();){if(i=this.comparator_(t,l.key),i===0)return l.value;i<0?l=l.left:i>0&&(l=l.right)}return null}getPredecessorKey(t){let i,l=this.root_,o=null;for(;!l.isEmpty();)if(i=this.comparator_(t,l.key),i===0){if(l.left.isEmpty())return o?o.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}else i<0?l=l.left:i>0&&(o=l,l=l.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new No(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new No(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new No(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new No(this.root_,null,this.comparator_,!0,t)}}wt.EMPTY_NODE=new Gw;function qw(s,t){return ds(s.name,t.name)}function nd(s,t){return ds(s,t)}let Eh;function Vw(s){Eh=s}const bE=function(s){return typeof s=="number"?"number:"+eE(s):"string:"+s},TE=function(s){if(s.isLeafNode()){const t=s.val();z(typeof t=="string"||typeof t=="number"||typeof t=="object"&&_n(t,".sv"),"Priority must be a string or number.")}else z(s===Eh||s.isEmpty(),"priority of unexpected type.");z(s===Eh||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let My;class Ze{static set __childrenNodeConstructor(t){My=t}static get __childrenNodeConstructor(){return My}constructor(t,i=Ze.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),TE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ze(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ze.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ae(t)?this:ee(t)===".priority"?this.priorityNode_:Ze.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:Ze.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const l=ee(t);return l===null?i:i.isEmpty()&&l!==".priority"?this:(z(l!==".priority"||Oi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(l,Ze.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ie(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+bE(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=eE(this.value_):t+=this.value_,this.lazyHash_=Jv(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ze.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ze.__childrenNodeConstructor?-1:(z(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,l=typeof this.value_,o=Ze.VALUE_TYPE_ORDER.indexOf(i),c=Ze.VALUE_TYPE_ORDER.indexOf(l);return z(o>=0,"Unknown leaf type: "+i),z(c>=0,"Unknown leaf type: "+l),o===c?l==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Ze.VALUE_TYPE_ORDER=["object","boolean","number","string"];let CE,AE;function Yw(s){CE=s}function Fw(s){AE=s}class Qw extends uu{compare(t,i){const l=t.node.getPriority(),o=i.node.getPriority(),c=l.compareTo(o);return c===0?ds(t.name,i.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return te.MIN}maxPost(){return new te(us,new Ze("[PRIORITY-POST]",AE))}makePost(t,i){const l=CE(t);return new te(i,new Ze("[PRIORITY-POST]",l))}toString(){return".priority"}}const He=new Qw;const Kw=Math.log(2);class Xw{constructor(t){const i=c=>parseInt(Math.log(c)/Kw,10),l=c=>parseInt(Array(c+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=l(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Fo=function(s,t,i,l){s.sort(t);const o=function(g,p){const v=p-g;let y,S;if(v===0)return null;if(v===1)return y=s[g],S=i?i(y):y,new Je(S,y.node,Je.BLACK,null,null);{const k=parseInt(v/2,10)+g,U=o(g,k),Y=o(k+1,p);return y=s[k],S=i?i(y):y,new Je(S,y.node,Je.BLACK,U,Y)}},c=function(g){let p=null,v=null,y=s.length;const S=function(U,Y){const fe=y-U,j=y;y-=U;const he=o(fe+1,j),ce=s[fe],Se=i?i(ce):ce;k(new Je(Se,ce.node,Y,null,he))},k=function(U){p?(p.left=U,p=U):(v=U,p=U)};for(let U=0;U<g.count;++U){const Y=g.nextBitIsOne(),fe=Math.pow(2,g.count-(U+1));Y?S(fe,Je.BLACK):(S(fe,Je.BLACK),S(fe,Je.RED))}return v},h=new Xw(s.length),m=c(h);return new wt(l||t,m)};let th;const ea={};class Bn{static get Default(){return z(ea&&He,"ChildrenNode.ts has not been loaded"),th=th||new Bn({".priority":ea},{".priority":He}),th}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=ca(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof wt?i:null}hasIndex(t){return _n(this.indexSet_,t.toString())}addIndex(t,i){z(t!==ua,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let o=!1;const c=i.getIterator(te.Wrap);let h=c.getNext();for(;h;)o=o||t.isDefinedOn(h.node),l.push(h),h=c.getNext();let m;o?m=Fo(l,t.getCompare()):m=ea;const g=t.toString(),p={...this.indexSet_};p[g]=t;const v={...this.indexes_};return v[g]=m,new Bn(v,p)}addToIndexes(t,i){const l=Uo(this.indexes_,(o,c)=>{const h=ca(this.indexSet_,c);if(z(h,"Missing index implementation for "+c),o===ea)if(h.isDefinedOn(t.node)){const m=[],g=i.getIterator(te.Wrap);let p=g.getNext();for(;p;)p.name!==t.name&&m.push(p),p=g.getNext();return m.push(t),Fo(m,h.getCompare())}else return ea;else{const m=i.get(t.name);let g=o;return m&&(g=g.remove(new te(t.name,m))),g.insert(t,t.node)}});return new Bn(l,this.indexSet_)}removeFromIndexes(t,i){const l=Uo(this.indexes_,o=>{if(o===ea)return o;{const c=i.get(t.name);return c?o.remove(new te(t.name,c)):o}});return new Bn(l,this.indexSet_)}}let bl;class K{static get EMPTY_NODE(){return bl||(bl=new K(new wt(nd),null,Bn.Default))}constructor(t,i,l){this.children_=t,this.priorityNode_=i,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&TE(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bl}updatePriority(t){return this.children_.isEmpty()?this:new K(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?bl:i}}getChild(t){const i=ee(t);return i===null?this:this.getImmediateChild(i).getChild(Ie(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(z(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const l=new te(t,i);let o,c;i.isEmpty()?(o=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(l,this.children_)):(o=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(l,this.children_));const h=o.isEmpty()?bl:this.priorityNode_;return new K(o,h,c)}}updateChild(t,i){const l=ee(t);if(l===null)return i;{z(ee(t)!==".priority"||Oi(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(l).updateChild(Ie(t),i);return this.updateImmediateChild(l,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let l=0,o=0,c=!0;if(this.forEachChild(He,(h,m)=>{i[h]=m.val(t),l++,c&&K.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):c=!1}),!t&&c&&o<2*l){const h=[];for(const m in i)h[m]=i[m];return h}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+bE(this.getPriority().val())+":"),this.forEachChild(He,(i,l)=>{const o=l.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":Jv(t)}return this.lazyHash_}getPredecessorChildName(t,i,l){const o=this.resolveIndex_(l);if(o){const c=o.getPredecessorKey(new te(t,i));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.minKey();return l&&l.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new te(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.maxKey();return l&&l.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new te(i,this.children_.get(i)):null}forEachChild(t,i){const l=this.resolveIndex_(t);return l?l.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,te.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,t)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,te.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,t)>0;)o.getNext(),c=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===tr?-1:0}withIndex(t){if(t===ua||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new K(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===ua||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const l=this.getIterator(He),o=i.getIterator(He);let c=l.getNext(),h=o.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=l.getNext(),h=o.getNext()}return c===null&&h===null}else return!1;else return!1}}resolveIndex_(t){return t===ua?null:this.indexMap_.get(t.toString())}}K.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Ww extends K{constructor(){super(new wt(nd),K.EMPTY_NODE,Bn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return K.EMPTY_NODE}isEmpty(){return!1}}const tr=new Ww;Object.defineProperties(te,{MIN:{value:new te(ha,K.EMPTY_NODE)},MAX:{value:new te(us,tr)}});SE.__EMPTY_NODE=K.EMPTY_NODE;Ze.__childrenNodeConstructor=K;Vw(tr);Fw(tr);const Zw=!0;function Qe(s,t=null){if(s===null)return K.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(t=s[".priority"]),z(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new Ze(i,Qe(t))}if(!(s instanceof Array)&&Zw){const i=[];let l=!1;if(rt(s,(h,m)=>{if(h.substring(0,1)!=="."){const g=Qe(m);g.isEmpty()||(l=l||!g.getPriority().isEmpty(),i.push(new te(h,g)))}}),i.length===0)return K.EMPTY_NODE;const c=Fo(i,qw,h=>h.name,nd);if(l){const h=Fo(i,He.getCompare());return new K(c,Qe(t),new Bn({".priority":h},{".priority":He}))}else return new K(c,Qe(t),Bn.Default)}else{let i=K.EMPTY_NODE;return rt(s,(l,o)=>{if(_n(s,l)&&l.substring(0,1)!=="."){const c=Qe(o);(c.isLeafNode()||!c.isEmpty())&&(i=i.updateImmediateChild(l,c))}}),i.updatePriority(Qe(t))}}Yw(Qe);class Jw extends uu{constructor(t){super(),this.indexPath_=t,z(!ae(t)&&ee(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const l=this.extractChild(t.node),o=this.extractChild(i.node),c=l.compareTo(o);return c===0?ds(t.name,i.name):c}makePost(t,i){const l=Qe(t),o=K.EMPTY_NODE.updateChild(this.indexPath_,l);return new te(i,o)}maxPost(){const t=K.EMPTY_NODE.updateChild(this.indexPath_,tr);return new te(us,t)}toString(){return Bl(this.indexPath_,0).join("/")}}class $w extends uu{compare(t,i){const l=t.node.compareTo(i.node);return l===0?ds(t.name,i.name):l}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return te.MIN}maxPost(){return te.MAX}makePost(t,i){const l=Qe(t);return new te(i,l)}toString(){return".value"}}const eN=new $w;function wE(s){return{type:"value",snapshotNode:s}}function da(s,t){return{type:"child_added",snapshotNode:t,childName:s}}function jl(s,t){return{type:"child_removed",snapshotNode:t,childName:s}}function Pl(s,t,i){return{type:"child_changed",snapshotNode:t,childName:s,oldSnap:i}}function tN(s,t){return{type:"child_moved",snapshotNode:t,childName:s}}class id{constructor(t){this.index_=t}updateChild(t,i,l,o,c,h){z(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(i);return m.getChild(o).equals(l.getChild(o))&&m.isEmpty()===l.isEmpty()||(h!=null&&(l.isEmpty()?t.hasChild(i)?h.trackChildChange(jl(i,m)):z(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(da(i,l)):h.trackChildChange(Pl(i,l,m))),t.isLeafNode()&&l.isEmpty())?t:t.updateImmediateChild(i,l).withIndex(this.index_)}updateFullNode(t,i,l){return l!=null&&(t.isLeafNode()||t.forEachChild(He,(o,c)=>{i.hasChild(o)||l.trackChildChange(jl(o,c))}),i.isLeafNode()||i.forEachChild(He,(o,c)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(c)||l.trackChildChange(Pl(o,c,h))}else l.trackChildChange(da(o,c))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?K.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Gl{constructor(t){this.indexedFilter_=new id(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Gl.getStartPost_(t),this.endPost_=Gl.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,l=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&l}updateChild(t,i,l,o,c,h){return this.matches(new te(i,l))||(l=K.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,l,o,c,h)}updateFullNode(t,i,l){i.isLeafNode()&&(i=K.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(K.EMPTY_NODE);const c=this;return i.forEachChild(He,(h,m)=>{c.matches(new te(h,m))||(o=o.updateImmediateChild(h,K.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}class nN{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=i=>{const l=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new Gl(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,l,o,c,h){return this.rangedFilter_.matches(new te(i,l))||(l=K.EMPTY_NODE),t.getImmediateChild(i).equals(l)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,l,o,c,h):this.fullLimitUpdateChild_(t,i,l,c,h)}updateFullNode(t,i,l){let o;if(i.isLeafNode()||i.isEmpty())o=K.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=K.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;c.hasNext()&&h<this.limit_;){const m=c.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(K.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let h=0;for(;c.hasNext();){const m=c.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:o=o.updateImmediateChild(m.name,K.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,l,o,c){let h;if(this.reverse_){const y=this.index_.getCompare();h=(S,k)=>y(k,S)}else h=this.index_.getCompare();const m=t;z(m.numChildren()===this.limit_,"");const g=new te(i,l),p=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),v=this.rangedFilter_.matches(g);if(m.hasChild(i)){const y=m.getImmediateChild(i);let S=o.getChildAfterChild(this.index_,p,this.reverse_);for(;S!=null&&(S.name===i||m.hasChild(S.name));)S=o.getChildAfterChild(this.index_,S,this.reverse_);const k=S==null?1:h(S,g);if(v&&!l.isEmpty()&&k>=0)return c?.trackChildChange(Pl(i,l,y)),m.updateImmediateChild(i,l);{c?.trackChildChange(jl(i,y));const Y=m.updateImmediateChild(i,K.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(c?.trackChildChange(da(S.name,S.node)),Y.updateImmediateChild(S.name,S.node)):Y}}else return l.isEmpty()?t:v&&h(p,g)>=0?(c!=null&&(c.trackChildChange(jl(p.name,p.node)),c.trackChildChange(da(i,l))),m.updateImmediateChild(i,l).updateImmediateChild(p.name,K.EMPTY_NODE)):t}}class sd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ha}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:us}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const t=new sd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function iN(s){return s.loadsAllData()?new id(s.getIndex()):s.hasLimit()?new nN(s):new Gl(s)}function xy(s){const t={};if(s.isDefault())return t;let i;if(s.index_===He?i="$priority":s.index_===eN?i="$value":s.index_===ua?i="$key":(z(s.index_ instanceof Jw,"Unrecognized index type!"),i=s.index_.toString()),t.orderBy=Ke(i),s.startSet_){const l=s.startAfterSet_?"startAfter":"startAt";t[l]=Ke(s.indexStartValue_),s.startNameSet_&&(t[l]+=","+Ke(s.indexStartName_))}if(s.endSet_){const l=s.endBeforeSet_?"endBefore":"endAt";t[l]=Ke(s.indexEndValue_),s.endNameSet_&&(t[l]+=","+Ke(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?t.limitToFirst=s.limit_:t.limitToLast=s.limit_),t}function Ly(s){const t={};if(s.startSet_&&(t.sp=s.indexStartValue_,s.startNameSet_&&(t.sn=s.indexStartName_),t.sin=!s.startAfterSet_),s.endSet_&&(t.ep=s.indexEndValue_,s.endNameSet_&&(t.en=s.indexEndName_),t.ein=!s.endBeforeSet_),s.limitSet_){t.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),t.vf=i}return s.index_!==He&&(t.i=s.index_.toString()),t}class Qo extends _E{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(z(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,l,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=o,this.log_=er("p:rest:"),this.listens_={}}listen(t,i,l,o){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const h=Qo.getListenId_(t,l),m={};this.listens_[h]=m;const g=xy(t._queryParams);this.restRequest_(c+".json",g,(p,v)=>{let y=v;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(c,y,!1,l),ca(this.listens_,h)===m){let S;p?p===401?S="permission_denied":S="rest_error:"+p:S="ok",o(S,null)}})}unlisten(t,i){const l=Qo.getListenId_(t,i);delete this.listens_[l]}get(t){const i=xy(t._queryParams),l=t._path.toString(),o=new Ql;return this.restRequest_(l+".json",i,(c,h)=>{let m=h;c===404&&(m=null,c=null),c===null?(this.onDataUpdate_(l,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},l){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(i.auth=o.accessToken),c&&c.token&&(i.ac=c.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+va(i);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(l&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let g=null;if(m.status>=200&&m.status<300){try{g=Ll(m.responseText)}catch{mt("Failed to parse JSON response for "+h+": "+m.responseText)}l(null,g)}else m.status!==401&&m.status!==404&&mt("Got unsuccessful REST response for "+h+" Status: "+m.status),l(m.status);l=null}},m.open("GET",h,!0),m.send()})}}class sN{constructor(){this.rootNode_=K.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}function Ko(){return{value:null,children:new Map}}function NE(s,t,i){if(ae(t))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(t,i);else{const l=ee(t);s.children.has(l)||s.children.set(l,Ko());const o=s.children.get(l);t=Ie(t),NE(o,t,i)}}function Sh(s,t,i){s.value!==null?i(t,s.value):aN(s,(l,o)=>{const c=new Ne(t.toString()+"/"+l);Sh(o,c,i)})}function aN(s,t){s.children.forEach((i,l)=>{t(l,i)})}class lN{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&rt(this.last_,(l,o)=>{i[l]=i[l]-o}),this.last_=t,i}}const ky=10*1e3,rN=30*1e3,oN=300*1e3;class uN{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new lN(t);const l=ky+(rN-ky)*Math.random();Dl(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const t=this.statsListener_.get(),i={};let l=!1;rt(t,(o,c)=>{c>0&&_n(this.statsToReport_,o)&&(i[o]=c,l=!0)}),l&&this.server_.reportStats(i),Dl(this.reportStats_.bind(this),Math.floor(Math.random()*2*oN))}}var an;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(an||(an={}));function ad(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ld(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function rd(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}class Xo{constructor(t,i,l){this.path=t,this.affectedTree=i,this.revert=l,this.type=an.ACK_USER_WRITE,this.source=ad()}operationForChild(t){if(ae(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Ne(t));return new Xo(pe(),i,this.revert)}}else return z(ee(this.path)===t,"operationForChild called for unrelated child."),new Xo(Ie(this.path),this.affectedTree,this.revert)}}class ql{constructor(t,i){this.source=t,this.path=i,this.type=an.LISTEN_COMPLETE}operationForChild(t){return ae(this.path)?new ql(this.source,pe()):new ql(this.source,Ie(this.path))}}class cs{constructor(t,i,l){this.source=t,this.path=i,this.snap=l,this.type=an.OVERWRITE}operationForChild(t){return ae(this.path)?new cs(this.source,pe(),this.snap.getImmediateChild(t)):new cs(this.source,Ie(this.path),this.snap)}}class ma{constructor(t,i,l){this.source=t,this.path=i,this.children=l,this.type=an.MERGE}operationForChild(t){if(ae(this.path)){const i=this.children.subtree(new Ne(t));return i.isEmpty()?null:i.value?new cs(this.source,pe(),i.value):new ma(this.source,pe(),i)}else return z(ee(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ma(this.source,Ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Di{constructor(t,i,l){this.node_=t,this.fullyInitialized_=i,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ae(t))return this.isFullyInitialized()&&!this.filtered_;const i=ee(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class cN{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function fN(s,t,i,l){const o=[],c=[];return t.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(tN(h.childName,h.snapshotNode))}),Tl(s,o,"child_removed",t,l,i),Tl(s,o,"child_added",t,l,i),Tl(s,o,"child_moved",c,l,i),Tl(s,o,"child_changed",t,l,i),Tl(s,o,"value",t,l,i),o}function Tl(s,t,i,l,o,c){const h=l.filter(m=>m.type===i);h.sort((m,g)=>dN(s,m,g)),h.forEach(m=>{const g=hN(s,m,c);o.forEach(p=>{p.respondsTo(m.type)&&t.push(p.createEvent(g,s.query_))})})}function hN(s,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,s.index_)),t}function dN(s,t,i){if(t.childName==null||i.childName==null)throw _a("Should only compare child_ events.");const l=new te(t.childName,t.snapshotNode),o=new te(i.childName,i.snapshotNode);return s.index_.compare(l,o)}function cu(s,t){return{eventCache:s,serverCache:t}}function Il(s,t,i,l){return cu(new Di(t,i,l),s.serverCache)}function RE(s,t,i,l){return cu(s.eventCache,new Di(t,i,l))}function Wo(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function fs(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}let nh;const mN=()=>(nh||(nh=new wt(JA)),nh);class De{static fromObject(t){let i=new De(null);return rt(t,(l,o)=>{i=i.set(new Ne(l),o)}),i}constructor(t,i=mN()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:pe(),value:this.value};if(ae(t))return null;{const l=ee(t),o=this.children.get(l);if(o!==null){const c=o.findRootMostMatchingPathAndValue(Ie(t),i);return c!=null?{path:ze(new Ne(l),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ae(t))return this;{const i=ee(t),l=this.children.get(i);return l!==null?l.subtree(Ie(t)):new De(null)}}set(t,i){if(ae(t))return new De(i,this.children);{const l=ee(t),c=(this.children.get(l)||new De(null)).set(Ie(t),i),h=this.children.insert(l,c);return new De(this.value,h)}}remove(t){if(ae(t))return this.children.isEmpty()?new De(null):new De(null,this.children);{const i=ee(t),l=this.children.get(i);if(l){const o=l.remove(Ie(t));let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),this.value===null&&c.isEmpty()?new De(null):new De(this.value,c)}else return this}}get(t){if(ae(t))return this.value;{const i=ee(t),l=this.children.get(i);return l?l.get(Ie(t)):null}}setTree(t,i){if(ae(t))return i;{const l=ee(t),c=(this.children.get(l)||new De(null)).setTree(Ie(t),i);let h;return c.isEmpty()?h=this.children.remove(l):h=this.children.insert(l,c),new De(this.value,h)}}fold(t){return this.fold_(pe(),t)}fold_(t,i){const l={};return this.children.inorderTraversal((o,c)=>{l[o]=c.fold_(ze(t,o),i)}),i(t,this.value,l)}findOnPath(t,i){return this.findOnPath_(t,pe(),i)}findOnPath_(t,i,l){const o=this.value?l(i,this.value):!1;if(o)return o;if(ae(t))return null;{const c=ee(t),h=this.children.get(c);return h?h.findOnPath_(Ie(t),ze(i,c),l):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,pe(),i)}foreachOnPath_(t,i,l){if(ae(t))return this;{this.value&&l(i,this.value);const o=ee(t),c=this.children.get(o);return c?c.foreachOnPath_(Ie(t),ze(i,o),l):new De(null)}}foreach(t){this.foreach_(pe(),t)}foreach_(t,i){this.children.inorderTraversal((l,o)=>{o.foreach_(ze(t,l),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,l)=>{l.value&&t(i,l.value)})}}class ln{constructor(t){this.writeTree_=t}static empty(){return new ln(new De(null))}}function Ml(s,t,i){if(ae(t))return new ln(new De(i));{const l=s.writeTree_.findRootMostValueAndPath(t);if(l!=null){const o=l.path;let c=l.value;const h=dt(o,t);return c=c.updateChild(h,i),new ln(s.writeTree_.set(o,c))}else{const o=new De(i),c=s.writeTree_.setTree(t,o);return new ln(c)}}}function bh(s,t,i){let l=s;return rt(i,(o,c)=>{l=Ml(l,ze(t,o),c)}),l}function Uy(s,t){if(ae(t))return ln.empty();{const i=s.writeTree_.setTree(t,new De(null));return new ln(i)}}function Th(s,t){return ms(s,t)!=null}function ms(s,t){const i=s.writeTree_.findRootMostValueAndPath(t);return i!=null?s.writeTree_.get(i.path).getChild(dt(i.path,t)):null}function zy(s){const t=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(He,(l,o)=>{t.push(new te(l,o))}):s.writeTree_.children.inorderTraversal((l,o)=>{o.value!=null&&t.push(new te(l,o.value))}),t}function Ni(s,t){if(ae(t))return s;{const i=ms(s,t);return i!=null?new ln(new De(i)):new ln(s.writeTree_.subtree(t))}}function Ch(s){return s.writeTree_.isEmpty()}function pa(s,t){return OE(pe(),s.writeTree_,t)}function OE(s,t,i){if(t.value!=null)return i.updateChild(s,t.value);{let l=null;return t.children.inorderTraversal((o,c)=>{o===".priority"?(z(c.value!==null,"Priority writes must always be leaf nodes"),l=c.value):i=OE(ze(s,o),c,i)}),!i.getChild(s).isEmpty()&&l!==null&&(i=i.updateChild(ze(s,".priority"),l)),i}}function fu(s,t){return xE(t,s)}function pN(s,t,i,l,o){z(l>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:t,snap:i,writeId:l,visible:o}),o&&(s.visibleWrites=Ml(s.visibleWrites,t,i)),s.lastWriteId=l}function gN(s,t,i,l){z(l>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:t,children:i,writeId:l,visible:!0}),s.visibleWrites=bh(s.visibleWrites,t,i),s.lastWriteId=l}function _N(s,t){for(let i=0;i<s.allWrites.length;i++){const l=s.allWrites[i];if(l.writeId===t)return l}return null}function yN(s,t){const i=s.allWrites.findIndex(m=>m.writeId===t);z(i>=0,"removeWrite called with nonexistent writeId.");const l=s.allWrites[i];s.allWrites.splice(i,1);let o=l.visible,c=!1,h=s.allWrites.length-1;for(;o&&h>=0;){const m=s.allWrites[h];m.visible&&(h>=i&&vN(m,l.path)?o=!1:Xt(l.path,m.path)&&(c=!0)),h--}if(o){if(c)return EN(s),!0;if(l.snap)s.visibleWrites=Uy(s.visibleWrites,l.path);else{const m=l.children;rt(m,g=>{s.visibleWrites=Uy(s.visibleWrites,ze(l.path,g))})}return!0}else return!1}function vN(s,t){if(s.snap)return Xt(s.path,t);for(const i in s.children)if(s.children.hasOwnProperty(i)&&Xt(ze(s.path,i),t))return!0;return!1}function EN(s){s.visibleWrites=DE(s.allWrites,SN,pe()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function SN(s){return s.visible}function DE(s,t,i){let l=ln.empty();for(let o=0;o<s.length;++o){const c=s[o];if(t(c)){const h=c.path;let m;if(c.snap)Xt(i,h)?(m=dt(i,h),l=Ml(l,m,c.snap)):Xt(h,i)&&(m=dt(h,i),l=Ml(l,pe(),c.snap.getChild(m)));else if(c.children){if(Xt(i,h))m=dt(i,h),l=bh(l,m,c.children);else if(Xt(h,i))if(m=dt(h,i),ae(m))l=bh(l,pe(),c.children);else{const g=ca(c.children,ee(m));if(g){const p=g.getChild(Ie(m));l=Ml(l,pe(),p)}}}else throw _a("WriteRecord should have .snap or .children")}}return l}function IE(s,t,i,l,o){if(!l&&!o){const c=ms(s.visibleWrites,t);if(c!=null)return c;{const h=Ni(s.visibleWrites,t);if(Ch(h))return i;if(i==null&&!Th(h,pe()))return null;{const m=i||K.EMPTY_NODE;return pa(h,m)}}}else{const c=Ni(s.visibleWrites,t);if(!o&&Ch(c))return i;if(!o&&i==null&&!Th(c,pe()))return null;{const h=function(p){return(p.visible||o)&&(!l||!~l.indexOf(p.writeId))&&(Xt(p.path,t)||Xt(t,p.path))},m=DE(s.allWrites,h,t),g=i||K.EMPTY_NODE;return pa(m,g)}}}function bN(s,t,i){let l=K.EMPTY_NODE;const o=ms(s.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(He,(c,h)=>{l=l.updateImmediateChild(c,h)}),l;if(i){const c=Ni(s.visibleWrites,t);return i.forEachChild(He,(h,m)=>{const g=pa(Ni(c,new Ne(h)),m);l=l.updateImmediateChild(h,g)}),zy(c).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}else{const c=Ni(s.visibleWrites,t);return zy(c).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}}function TN(s,t,i,l,o){z(l||o,"Either existingEventSnap or existingServerSnap must exist");const c=ze(t,i);if(Th(s.visibleWrites,c))return null;{const h=Ni(s.visibleWrites,c);return Ch(h)?o.getChild(i):pa(h,o.getChild(i))}}function CN(s,t,i,l){const o=ze(t,i),c=ms(s.visibleWrites,o);if(c!=null)return c;if(l.isCompleteForChild(i)){const h=Ni(s.visibleWrites,o);return pa(h,l.getNode().getImmediateChild(i))}else return null}function AN(s,t){return ms(s.visibleWrites,t)}function wN(s,t,i,l,o,c,h){let m;const g=Ni(s.visibleWrites,t),p=ms(g,pe());if(p!=null)m=p;else if(i!=null)m=pa(g,i);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const v=[],y=h.getCompare(),S=c?m.getReverseIteratorFrom(l,h):m.getIteratorFrom(l,h);let k=S.getNext();for(;k&&v.length<o;)y(k,l)!==0&&v.push(k),k=S.getNext();return v}else return[]}function NN(){return{visibleWrites:ln.empty(),allWrites:[],lastWriteId:-1}}function Zo(s,t,i,l){return IE(s.writeTree,s.treePath,t,i,l)}function od(s,t){return bN(s.writeTree,s.treePath,t)}function Hy(s,t,i,l){return TN(s.writeTree,s.treePath,t,i,l)}function Jo(s,t){return AN(s.writeTree,ze(s.treePath,t))}function RN(s,t,i,l,o,c){return wN(s.writeTree,s.treePath,t,i,l,o,c)}function ud(s,t,i){return CN(s.writeTree,s.treePath,t,i)}function ME(s,t){return xE(ze(s.treePath,t),s.writeTree)}function xE(s,t){return{treePath:s,writeTree:t}}class ON{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,l=t.childName;z(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),z(l!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(l);if(o){const c=o.type;if(i==="child_added"&&c==="child_removed")this.changeMap.set(l,Pl(l,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&c==="child_added")this.changeMap.delete(l);else if(i==="child_removed"&&c==="child_changed")this.changeMap.set(l,jl(l,o.oldSnap));else if(i==="child_changed"&&c==="child_added")this.changeMap.set(l,da(l,t.snapshotNode));else if(i==="child_changed"&&c==="child_changed")this.changeMap.set(l,Pl(l,t.snapshotNode,o.oldSnap));else throw _a("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(l,t)}getChanges(){return Array.from(this.changeMap.values())}}class DN{getCompleteChild(t){return null}getChildAfterChild(t,i,l){return null}}const LE=new DN;class cd{constructor(t,i,l=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=l}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const l=this.optCompleteServerCache_!=null?new Di(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ud(this.writes_,t,l)}}getChildAfterChild(t,i,l){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fs(this.viewCache_),c=RN(this.writes_,o,i,1,l,t);return c.length===0?null:c[0]}}function IN(s){return{filter:s}}function MN(s,t){z(t.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),z(t.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function xN(s,t,i,l,o){const c=new ON;let h,m;if(i.type===an.OVERWRITE){const p=i;p.source.fromUser?h=Ah(s,t,p.path,p.snap,l,o,c):(z(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered()&&!ae(p.path),h=$o(s,t,p.path,p.snap,l,o,m,c))}else if(i.type===an.MERGE){const p=i;p.source.fromUser?h=kN(s,t,p.path,p.children,l,o,c):(z(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered(),h=wh(s,t,p.path,p.children,l,o,m,c))}else if(i.type===an.ACK_USER_WRITE){const p=i;p.revert?h=HN(s,t,p.path,l,o,c):h=UN(s,t,p.path,p.affectedTree,l,o,c)}else if(i.type===an.LISTEN_COMPLETE)h=zN(s,t,i.path,l,c);else throw _a("Unknown operation type: "+i.type);const g=c.getChanges();return LN(t,h,g),{viewCache:h,changes:g}}function LN(s,t,i){const l=t.eventCache;if(l.isFullyInitialized()){const o=l.getNode().isLeafNode()||l.getNode().isEmpty(),c=Wo(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!l.getNode().equals(c)||!l.getNode().getPriority().equals(c.getPriority()))&&i.push(wE(Wo(t)))}}function kE(s,t,i,l,o,c){const h=t.eventCache;if(Jo(l,i)!=null)return t;{let m,g;if(ae(i))if(z(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=fs(t),v=p instanceof K?p:K.EMPTY_NODE,y=od(l,v);m=s.filter.updateFullNode(t.eventCache.getNode(),y,c)}else{const p=Zo(l,fs(t));m=s.filter.updateFullNode(t.eventCache.getNode(),p,c)}else{const p=ee(i);if(p===".priority"){z(Oi(i)===1,"Can't have a priority with additional path components");const v=h.getNode();g=t.serverCache.getNode();const y=Hy(l,i,v,g);y!=null?m=s.filter.updatePriority(v,y):m=h.getNode()}else{const v=Ie(i);let y;if(h.isCompleteForChild(p)){g=t.serverCache.getNode();const S=Hy(l,i,h.getNode(),g);S!=null?y=h.getNode().getImmediateChild(p).updateChild(v,S):y=h.getNode().getImmediateChild(p)}else y=ud(l,p,t.serverCache);y!=null?m=s.filter.updateChild(h.getNode(),p,y,v,o,c):m=h.getNode()}}return Il(t,m,h.isFullyInitialized()||ae(i),s.filter.filtersNodes())}}function $o(s,t,i,l,o,c,h,m){const g=t.serverCache;let p;const v=h?s.filter:s.filter.getIndexedFilter();if(ae(i))p=v.updateFullNode(g.getNode(),l,null);else if(v.filtersNodes()&&!g.isFiltered()){const k=g.getNode().updateChild(i,l);p=v.updateFullNode(g.getNode(),k,null)}else{const k=ee(i);if(!g.isCompleteForPath(i)&&Oi(i)>1)return t;const U=Ie(i),fe=g.getNode().getImmediateChild(k).updateChild(U,l);k===".priority"?p=v.updatePriority(g.getNode(),fe):p=v.updateChild(g.getNode(),k,fe,U,LE,null)}const y=RE(t,p,g.isFullyInitialized()||ae(i),v.filtersNodes()),S=new cd(o,y,c);return kE(s,y,i,o,S,m)}function Ah(s,t,i,l,o,c,h){const m=t.eventCache;let g,p;const v=new cd(o,t,c);if(ae(i))p=s.filter.updateFullNode(t.eventCache.getNode(),l,h),g=Il(t,p,!0,s.filter.filtersNodes());else{const y=ee(i);if(y===".priority")p=s.filter.updatePriority(t.eventCache.getNode(),l),g=Il(t,p,m.isFullyInitialized(),m.isFiltered());else{const S=Ie(i),k=m.getNode().getImmediateChild(y);let U;if(ae(S))U=l;else{const Y=v.getCompleteChild(y);Y!=null?$h(S)===".priority"&&Y.getChild(vE(S)).isEmpty()?U=Y:U=Y.updateChild(S,l):U=K.EMPTY_NODE}if(k.equals(U))g=t;else{const Y=s.filter.updateChild(m.getNode(),y,U,S,v,h);g=Il(t,Y,m.isFullyInitialized(),s.filter.filtersNodes())}}}return g}function By(s,t){return s.eventCache.isCompleteForChild(t)}function kN(s,t,i,l,o,c,h){let m=t;return l.foreach((g,p)=>{const v=ze(i,g);By(t,ee(v))&&(m=Ah(s,m,v,p,o,c,h))}),l.foreach((g,p)=>{const v=ze(i,g);By(t,ee(v))||(m=Ah(s,m,v,p,o,c,h))}),m}function jy(s,t,i){return i.foreach((l,o)=>{t=t.updateChild(l,o)}),t}function wh(s,t,i,l,o,c,h,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g=t,p;ae(i)?p=l:p=new De(null).setTree(i,l);const v=t.serverCache.getNode();return p.children.inorderTraversal((y,S)=>{if(v.hasChild(y)){const k=t.serverCache.getNode().getImmediateChild(y),U=jy(s,k,S);g=$o(s,g,new Ne(y),U,o,c,h,m)}}),p.children.inorderTraversal((y,S)=>{const k=!t.serverCache.isCompleteForChild(y)&&S.value===null;if(!v.hasChild(y)&&!k){const U=t.serverCache.getNode().getImmediateChild(y),Y=jy(s,U,S);g=$o(s,g,new Ne(y),Y,o,c,h,m)}}),g}function UN(s,t,i,l,o,c,h){if(Jo(o,i)!=null)return t;const m=t.serverCache.isFiltered(),g=t.serverCache;if(l.value!=null){if(ae(i)&&g.isFullyInitialized()||g.isCompleteForPath(i))return $o(s,t,i,g.getNode().getChild(i),o,c,m,h);if(ae(i)){let p=new De(null);return g.getNode().forEachChild(ua,(v,y)=>{p=p.set(new Ne(v),y)}),wh(s,t,i,p,o,c,m,h)}else return t}else{let p=new De(null);return l.foreach((v,y)=>{const S=ze(i,v);g.isCompleteForPath(S)&&(p=p.set(v,g.getNode().getChild(S)))}),wh(s,t,i,p,o,c,m,h)}}function zN(s,t,i,l,o){const c=t.serverCache,h=RE(t,c.getNode(),c.isFullyInitialized()||ae(i),c.isFiltered());return kE(s,h,i,l,LE,o)}function HN(s,t,i,l,o,c){let h;if(Jo(l,i)!=null)return t;{const m=new cd(l,t,o),g=t.eventCache.getNode();let p;if(ae(i)||ee(i)===".priority"){let v;if(t.serverCache.isFullyInitialized())v=Zo(l,fs(t));else{const y=t.serverCache.getNode();z(y instanceof K,"serverChildren would be complete if leaf node"),v=od(l,y)}v=v,p=s.filter.updateFullNode(g,v,c)}else{const v=ee(i);let y=ud(l,v,t.serverCache);y==null&&t.serverCache.isCompleteForChild(v)&&(y=g.getImmediateChild(v)),y!=null?p=s.filter.updateChild(g,v,y,Ie(i),m,c):t.eventCache.getNode().hasChild(v)?p=s.filter.updateChild(g,v,K.EMPTY_NODE,Ie(i),m,c):p=g,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=Zo(l,fs(t)),h.isLeafNode()&&(p=s.filter.updateFullNode(p,h,c)))}return h=t.serverCache.isFullyInitialized()||Jo(l,pe())!=null,Il(t,p,h,s.filter.filtersNodes())}}class BN{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const l=this.query_._queryParams,o=new id(l.getIndex()),c=iN(l);this.processor_=IN(c);const h=i.serverCache,m=i.eventCache,g=o.updateFullNode(K.EMPTY_NODE,h.getNode(),null),p=c.updateFullNode(K.EMPTY_NODE,m.getNode(),null),v=new Di(g,h.isFullyInitialized(),o.filtersNodes()),y=new Di(p,m.isFullyInitialized(),c.filtersNodes());this.viewCache_=cu(y,v),this.eventGenerator_=new cN(this.query_)}get query(){return this.query_}}function jN(s){return s.viewCache_.serverCache.getNode()}function PN(s){return Wo(s.viewCache_)}function GN(s,t){const i=fs(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!ae(t)&&!i.getImmediateChild(ee(t)).isEmpty())?i.getChild(t):null}function Py(s){return s.eventRegistrations_.length===0}function qN(s,t){s.eventRegistrations_.push(t)}function Gy(s,t,i){const l=[];if(i){z(t==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(c=>{const h=c.createCancelEvent(i,o);h&&l.push(h)})}if(t){let o=[];for(let c=0;c<s.eventRegistrations_.length;++c){const h=s.eventRegistrations_[c];if(!h.matches(t))o.push(h);else if(t.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(c+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return l}function qy(s,t,i,l){t.type===an.MERGE&&t.source.queryId!==null&&(z(fs(s.viewCache_),"We should always have a full cache before handling merges"),z(Wo(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,c=xN(s.processor_,o,t,i,l);return MN(s.processor_,c.viewCache),z(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=c.viewCache,UE(s,c.changes,c.viewCache.eventCache.getNode(),null)}function VN(s,t){const i=s.viewCache_.eventCache,l=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(He,(c,h)=>{l.push(da(c,h))}),i.isFullyInitialized()&&l.push(wE(i.getNode())),UE(s,l,i.getNode(),t)}function UE(s,t,i,l){const o=l?[l]:s.eventRegistrations_;return fN(s.eventGenerator_,t,i,o)}let eu;class zE{constructor(){this.views=new Map}}function YN(s){z(!eu,"__referenceConstructor has already been defined"),eu=s}function FN(){return z(eu,"Reference.ts has not been loaded"),eu}function QN(s){return s.views.size===0}function fd(s,t,i,l){const o=t.source.queryId;if(o!==null){const c=s.views.get(o);return z(c!=null,"SyncTree gave us an op for an invalid query."),qy(c,t,i,l)}else{let c=[];for(const h of s.views.values())c=c.concat(qy(h,t,i,l));return c}}function HE(s,t,i,l,o){const c=t._queryIdentifier,h=s.views.get(c);if(!h){let m=Zo(i,o?l:null),g=!1;m?g=!0:l instanceof K?(m=od(i,l),g=!1):(m=K.EMPTY_NODE,g=!1);const p=cu(new Di(m,g,!1),new Di(l,o,!1));return new BN(t,p)}return h}function KN(s,t,i,l,o,c){const h=HE(s,t,l,o,c);return s.views.has(t._queryIdentifier)||s.views.set(t._queryIdentifier,h),qN(h,i),VN(h,i)}function XN(s,t,i,l){const o=t._queryIdentifier,c=[];let h=[];const m=Ii(s);if(o==="default")for(const[g,p]of s.views.entries())h=h.concat(Gy(p,i,l)),Py(p)&&(s.views.delete(g),p.query._queryParams.loadsAllData()||c.push(p.query));else{const g=s.views.get(o);g&&(h=h.concat(Gy(g,i,l)),Py(g)&&(s.views.delete(o),g.query._queryParams.loadsAllData()||c.push(g.query)))}return m&&!Ii(s)&&c.push(new(FN())(t._repo,t._path)),{removed:c,events:h}}function BE(s){const t=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function Ri(s,t){let i=null;for(const l of s.views.values())i=i||GN(l,t);return i}function jE(s,t){if(t._queryParams.loadsAllData())return hu(s);{const l=t._queryIdentifier;return s.views.get(l)}}function PE(s,t){return jE(s,t)!=null}function Ii(s){return hu(s)!=null}function hu(s){for(const t of s.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let tu;function WN(s){z(!tu,"__referenceConstructor has already been defined"),tu=s}function ZN(){return z(tu,"Reference.ts has not been loaded"),tu}let JN=1;class Vy{constructor(t){this.listenProvider_=t,this.syncPointTree_=new De(null),this.pendingWriteTree_=NN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function GE(s,t,i,l,o){return pN(s.pendingWriteTree_,t,i,l,o),o?Ta(s,new cs(ad(),t,i)):[]}function $N(s,t,i,l){gN(s.pendingWriteTree_,t,i,l);const o=De.fromObject(i);return Ta(s,new ma(ad(),t,o))}function Ti(s,t,i=!1){const l=_N(s.pendingWriteTree_,t);if(yN(s.pendingWriteTree_,t)){let c=new De(null);return l.snap!=null?c=c.set(pe(),!0):rt(l.children,h=>{c=c.set(new Ne(h),!0)}),Ta(s,new Xo(l.path,c,i))}else return[]}function nr(s,t,i){return Ta(s,new cs(ld(),t,i))}function eR(s,t,i){const l=De.fromObject(i);return Ta(s,new ma(ld(),t,l))}function tR(s,t){return Ta(s,new ql(ld(),t))}function nR(s,t,i){const l=dd(s,i);if(l){const o=md(l),c=o.path,h=o.queryId,m=dt(c,t),g=new ql(rd(h),m);return pd(s,c,g)}else return[]}function nu(s,t,i,l,o=!1){const c=t._path,h=s.syncPointTree_.get(c);let m=[];if(h&&(t._queryIdentifier==="default"||PE(h,t))){const g=XN(h,t,i,l);QN(h)&&(s.syncPointTree_=s.syncPointTree_.remove(c));const p=g.removed;if(m=g.events,!o){const v=p.findIndex(S=>S._queryParams.loadsAllData())!==-1,y=s.syncPointTree_.findOnPath(c,(S,k)=>Ii(k));if(v&&!y){const S=s.syncPointTree_.subtree(c);if(!S.isEmpty()){const k=aR(S);for(let U=0;U<k.length;++U){const Y=k[U],fe=Y.query,j=FE(s,Y);s.listenProvider_.startListening(xl(fe),Vl(s,fe),j.hashFn,j.onComplete)}}}!y&&p.length>0&&!l&&(v?s.listenProvider_.stopListening(xl(t),null):p.forEach(S=>{const k=s.queryToTagMap.get(du(S));s.listenProvider_.stopListening(xl(S),k)}))}lR(s,p)}return m}function qE(s,t,i,l){const o=dd(s,l);if(o!=null){const c=md(o),h=c.path,m=c.queryId,g=dt(h,t),p=new cs(rd(m),g,i);return pd(s,h,p)}else return[]}function iR(s,t,i,l){const o=dd(s,l);if(o){const c=md(o),h=c.path,m=c.queryId,g=dt(h,t),p=De.fromObject(i),v=new ma(rd(m),g,p);return pd(s,h,v)}else return[]}function Nh(s,t,i,l=!1){const o=t._path;let c=null,h=!1;s.syncPointTree_.foreachOnPath(o,(S,k)=>{const U=dt(S,o);c=c||Ri(k,U),h=h||Ii(k)});let m=s.syncPointTree_.get(o);m?(h=h||Ii(m),c=c||Ri(m,pe())):(m=new zE,s.syncPointTree_=s.syncPointTree_.set(o,m));let g;c!=null?g=!0:(g=!1,c=K.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((k,U)=>{const Y=Ri(U,pe());Y&&(c=c.updateImmediateChild(k,Y))}));const p=PE(m,t);if(!p&&!t._queryParams.loadsAllData()){const S=du(t);z(!s.queryToTagMap.has(S),"View does not exist, but we have a tag");const k=rR();s.queryToTagMap.set(S,k),s.tagToQueryMap.set(k,S)}const v=fu(s.pendingWriteTree_,o);let y=KN(m,t,i,v,c,g);if(!p&&!h&&!l){const S=jE(m,t);y=y.concat(oR(s,t,S))}return y}function hd(s,t,i){const o=s.pendingWriteTree_,c=s.syncPointTree_.findOnPath(t,(h,m)=>{const g=dt(h,t),p=Ri(m,g);if(p)return p});return IE(o,t,c,i,!0)}function sR(s,t){const i=t._path;let l=null;s.syncPointTree_.foreachOnPath(i,(p,v)=>{const y=dt(p,i);l=l||Ri(v,y)});let o=s.syncPointTree_.get(i);o?l=l||Ri(o,pe()):(o=new zE,s.syncPointTree_=s.syncPointTree_.set(i,o));const c=l!=null,h=c?new Di(l,!0,!1):null,m=fu(s.pendingWriteTree_,t._path),g=HE(o,t,m,c?h.getNode():K.EMPTY_NODE,c);return PN(g)}function Ta(s,t){return VE(t,s.syncPointTree_,null,fu(s.pendingWriteTree_,pe()))}function VE(s,t,i,l){if(ae(s.path))return YE(s,t,i,l);{const o=t.get(pe());i==null&&o!=null&&(i=Ri(o,pe()));let c=[];const h=ee(s.path),m=s.operationForChild(h),g=t.children.get(h);if(g&&m){const p=i?i.getImmediateChild(h):null,v=ME(l,h);c=c.concat(VE(m,g,p,v))}return o&&(c=c.concat(fd(o,s,l,i))),c}}function YE(s,t,i,l){const o=t.get(pe());i==null&&o!=null&&(i=Ri(o,pe()));let c=[];return t.children.inorderTraversal((h,m)=>{const g=i?i.getImmediateChild(h):null,p=ME(l,h),v=s.operationForChild(h);v&&(c=c.concat(YE(v,m,g,p)))}),o&&(c=c.concat(fd(o,s,l,i))),c}function FE(s,t){const i=t.query,l=Vl(s,i);return{hashFn:()=>(jN(t)||K.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return l?nR(s,i._path,l):tR(s,i._path);{const c=tw(o,i);return nu(s,i,null,c)}}}}function Vl(s,t){const i=du(t);return s.queryToTagMap.get(i)}function du(s){return s._path.toString()+"$"+s._queryIdentifier}function dd(s,t){return s.tagToQueryMap.get(t)}function md(s){const t=s.indexOf("$");return z(t!==-1&&t<s.length-1,"Bad queryKey."),{queryId:s.substr(t+1),path:new Ne(s.substr(0,t))}}function pd(s,t,i){const l=s.syncPointTree_.get(t);z(l,"Missing sync point for query tag that we're tracking");const o=fu(s.pendingWriteTree_,t);return fd(l,i,o,null)}function aR(s){return s.fold((t,i,l)=>{if(i&&Ii(i))return[hu(i)];{let o=[];return i&&(o=BE(i)),rt(l,(c,h)=>{o=o.concat(h)}),o}})}function xl(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(ZN())(s._repo,s._path):s}function lR(s,t){for(let i=0;i<t.length;++i){const l=t[i];if(!l._queryParams.loadsAllData()){const o=du(l),c=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(c)}}}function rR(){return JN++}function oR(s,t,i){const l=t._path,o=Vl(s,t),c=FE(s,i),h=s.listenProvider_.startListening(xl(t),o,c.hashFn,c.onComplete),m=s.syncPointTree_.subtree(l);if(o)z(!Ii(m.value),"If we're adding a query, it shouldn't be shadowed");else{const g=m.fold((p,v,y)=>{if(!ae(p)&&v&&Ii(v))return[hu(v).query];{let S=[];return v&&(S=S.concat(BE(v).map(k=>k.query))),rt(y,(k,U)=>{S=S.concat(U)}),S}});for(let p=0;p<g.length;++p){const v=g[p];s.listenProvider_.stopListening(xl(v),Vl(s,v))}}return h}class gd{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new gd(i)}node(){return this.node_}}class _d{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=ze(this.path_,t);return new _d(this.syncTree_,i)}node(){return hd(this.syncTree_,this.path_)}}const uR=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Yy=function(s,t,i){if(!s||typeof s!="object")return s;if(z(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return cR(s[".sv"],t,i);if(typeof s[".sv"]=="object")return fR(s[".sv"],t);z(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},cR=function(s,t,i){if(s==="timestamp")return i.timestamp;z(!1,"Unexpected server value: "+s)},fR=function(s,t,i){s.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const l=s.increment;typeof l!="number"&&z(!1,"Unexpected increment value: "+l);const o=t.node();if(z(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return l;const h=o.getValue();return typeof h!="number"?l:h+l},QE=function(s,t,i,l){return yd(t,new _d(i,s),l)},KE=function(s,t,i){return yd(s,new gd(t),i)};function yd(s,t,i){const l=s.getPriority().val(),o=Yy(l,t.getImmediateChild(".priority"),i);let c;if(s.isLeafNode()){const h=s,m=Yy(h.getValue(),t,i);return m!==h.getValue()||o!==h.getPriority().val()?new Ze(m,Qe(o)):s}else{const h=s;return c=h,o!==h.getPriority().val()&&(c=c.updatePriority(new Ze(o))),h.forEachChild(He,(m,g)=>{const p=yd(g,t.getImmediateChild(m),i);p!==g&&(c=c.updateImmediateChild(m,p))}),c}}class vd{constructor(t="",i=null,l={children:{},childCount:0}){this.name=t,this.parent=i,this.node=l}}function Ed(s,t){let i=t instanceof Ne?t:new Ne(t),l=s,o=ee(i);for(;o!==null;){const c=ca(l.node.children,o)||{children:{},childCount:0};l=new vd(o,l,c),i=Ie(i),o=ee(i)}return l}function Ca(s){return s.node.value}function XE(s,t){s.node.value=t,Rh(s)}function WE(s){return s.node.childCount>0}function hR(s){return Ca(s)===void 0&&!WE(s)}function mu(s,t){rt(s.node.children,(i,l)=>{t(new vd(i,s,l))})}function ZE(s,t,i,l){i&&t(s),mu(s,o=>{ZE(o,t,!0)})}function dR(s,t,i){let l=s.parent;for(;l!==null;){if(t(l))return!0;l=l.parent}return!1}function ir(s){return new Ne(s.parent===null?s.name:ir(s.parent)+"/"+s.name)}function Rh(s){s.parent!==null&&mR(s.parent,s.name,s)}function mR(s,t,i){const l=hR(i),o=_n(s.node.children,t);l&&o?(delete s.node.children[t],s.node.childCount--,Rh(s)):!l&&!o&&(s.node.children[t]=i.node,s.node.childCount++,Rh(s))}const pR=/[\[\].#$\/\u0000-\u001F\u007F]/,gR=/[\[\].#$\u0000-\u001F\u007F]/,ih=10*1024*1024,Sd=function(s){return typeof s=="string"&&s.length!==0&&!pR.test(s)},JE=function(s){return typeof s=="string"&&s.length!==0&&!gR.test(s)},_R=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),JE(s)},yR=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!Kh(s)||s&&typeof s=="object"&&_n(s,".sv")},vR=function(s,t,i,l){pu(su(s,"value"),t,i)},pu=function(s,t,i){const l=i instanceof Ne?new kw(i,s):i;if(t===void 0)throw new Error(s+"contains undefined "+ns(l));if(typeof t=="function")throw new Error(s+"contains a function "+ns(l)+" with contents = "+t.toString());if(Kh(t))throw new Error(s+"contains "+t.toString()+" "+ns(l));if(typeof t=="string"&&t.length>ih/3&&au(t)>ih)throw new Error(s+"contains a string greater than "+ih+" utf8 bytes "+ns(l)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,c=!1;if(rt(t,(h,m)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(c=!0,!Sd(h)))throw new Error(s+" contains an invalid key ("+h+") "+ns(l)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Uw(l,h),pu(s,m,l),zw(l)}),o&&c)throw new Error(s+' contains ".value" child '+ns(l)+" in addition to actual children.")}},ER=function(s,t){let i,l;for(i=0;i<t.length;i++){l=t[i];const c=Bl(l);for(let h=0;h<c.length;h++)if(!(c[h]===".priority"&&h===c.length-1)){if(!Sd(c[h]))throw new Error(s+"contains an invalid key ("+c[h]+") in path "+l.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(Lw);let o=null;for(i=0;i<t.length;i++){if(l=t[i],o!==null&&Xt(o,l))throw new Error(s+"contains a path "+o.toString()+" that is ancestor of another path "+l.toString());o=l}},SR=function(s,t,i,l){const o=su(s,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const c=[];rt(t,(h,m)=>{const g=new Ne(h);if(pu(o,m,ze(i,g)),$h(g)===".priority"&&!yR(m))throw new Error(o+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(g)}),ER(o,c)},$E=function(s,t,i,l){if(!JE(i))throw new Error(su(s,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},bR=function(s,t,i,l){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),$E(s,t,i)},eS=function(s,t){if(ee(t)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},TR=function(s,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Sd(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!_R(i))throw new Error(su(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class CR{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function gu(s,t){let i=null;for(let l=0;l<t.length;l++){const o=t[l],c=o.getPath();i!==null&&!ed(c,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:c}),i.events.push(o)}i&&s.eventLists_.push(i)}function tS(s,t,i){gu(s,i),nS(s,l=>ed(l,t))}function Wt(s,t,i){gu(s,i),nS(s,l=>Xt(l,t)||Xt(t,l))}function nS(s,t){s.recursionDepth_++;let i=!0;for(let l=0;l<s.eventLists_.length;l++){const o=s.eventLists_[l];if(o){const c=o.path;t(c)?(AR(s.eventLists_[l]),s.eventLists_[l]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function AR(s){for(let t=0;t<s.events.length;t++){const i=s.events[t];if(i!==null){s.events[t]=null;const l=i.getEventRunner();Ol&&lt("event: "+i.toString()),ba(l)}}}const wR="repo_interrupt",NR=25;class RR{constructor(t,i,l,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=l,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new CR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ko(),this.transactionQueueTree_=new vd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function OR(s,t,i){if(s.stats_=Zh(s.repoInfo_),s.forceRestClient_||aw())s.server_=new Qo(s.repoInfo_,(l,o,c,h)=>{Fy(s,l,o,c,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Qy(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(i)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}s.persistentConnection_=new Pn(s.repoInfo_,t,(l,o,c,h)=>{Fy(s,l,o,c,h)},l=>{Qy(s,l)},l=>{IR(s,l)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(l=>{s.server_.refreshAuthToken(l)}),s.appCheckProvider_.addTokenChangeListener(l=>{s.server_.refreshAppCheckToken(l.token)}),s.statsReporter_=cw(s.repoInfo_,()=>new uN(s.stats_,s.server_)),s.infoData_=new sN,s.infoSyncTree_=new Vy({startListening:(l,o,c,h)=>{let m=[];const g=s.infoData_.getNode(l._path);return g.isEmpty()||(m=nr(s.infoSyncTree_,l._path,g),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),bd(s,"connected",!1),s.serverSyncTree_=new Vy({startListening:(l,o,c,h)=>(s.server_.listen(l,c,o,(m,g)=>{const p=h(m,g);Wt(s.eventQueue_,l._path,p)}),[]),stopListening:(l,o)=>{s.server_.unlisten(l,o)}})}function DR(s){const i=s.infoData_.getNode(new Ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function _u(s){return uR({timestamp:DR(s)})}function Fy(s,t,i,l,o){s.dataUpdateCount++;const c=new Ne(t);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(t,i):i;let h=[];if(o)if(l){const g=Uo(i,p=>Qe(p));h=iR(s.serverSyncTree_,c,g,o)}else{const g=Qe(i);h=qE(s.serverSyncTree_,c,g,o)}else if(l){const g=Uo(i,p=>Qe(p));h=eR(s.serverSyncTree_,c,g)}else{const g=Qe(i);h=nr(s.serverSyncTree_,c,g)}let m=c;h.length>0&&(m=ga(s,c)),Wt(s.eventQueue_,m,h)}function Qy(s,t){bd(s,"connected",t),t===!1&&kR(s)}function IR(s,t){rt(t,(i,l)=>{bd(s,i,l)})}function bd(s,t,i){const l=new Ne("/.info/"+t),o=Qe(i);s.infoData_.updateSnapshot(l,o);const c=nr(s.infoSyncTree_,l,o);Wt(s.eventQueue_,l,c)}function Td(s){return s.nextWriteId_++}function MR(s,t,i){const l=sR(s.serverSyncTree_,t);return l!=null?Promise.resolve(l):s.server_.get(t).then(o=>{const c=Qe(o).withIndex(t._queryParams.getIndex());Nh(s.serverSyncTree_,t,i,!0);let h;if(t._queryParams.loadsAllData())h=nr(s.serverSyncTree_,t._path,c);else{const m=Vl(s.serverSyncTree_,t);h=qE(s.serverSyncTree_,t._path,c,m)}return Wt(s.eventQueue_,t._path,h),nu(s.serverSyncTree_,t,i,null,!0),c},o=>(sr(s,"get for query "+Ke(t)+" failed: "+o),Promise.reject(new Error(o))))}function xR(s,t,i,l,o){sr(s,"set",{path:t.toString(),value:i,priority:l});const c=_u(s),h=Qe(i,l),m=hd(s.serverSyncTree_,t),g=KE(h,m,c),p=Td(s),v=GE(s.serverSyncTree_,t,g,p,!0);gu(s.eventQueue_,v),s.server_.put(t.toString(),h.val(!0),(S,k)=>{const U=S==="ok";U||mt("set at "+t+" failed: "+S);const Y=Ti(s.serverSyncTree_,p,!U);Wt(s.eventQueue_,t,Y),Oh(s,o,S,k)});const y=Ad(s,t);ga(s,y),Wt(s.eventQueue_,y,[])}function LR(s,t,i,l){sr(s,"update",{path:t.toString(),value:i});let o=!0;const c=_u(s),h={};if(rt(i,(m,g)=>{o=!1,h[m]=QE(ze(t,m),Qe(g),s.serverSyncTree_,c)}),o)lt("update() called with empty data.  Don't do anything."),Oh(s,l,"ok",void 0);else{const m=Td(s),g=$N(s.serverSyncTree_,t,h,m);gu(s.eventQueue_,g),s.server_.merge(t.toString(),i,(p,v)=>{const y=p==="ok";y||mt("update at "+t+" failed: "+p);const S=Ti(s.serverSyncTree_,m,!y),k=S.length>0?ga(s,t):t;Wt(s.eventQueue_,k,S),Oh(s,l,p,v)}),rt(i,p=>{const v=Ad(s,ze(t,p));ga(s,v)}),Wt(s.eventQueue_,t,[])}}function kR(s){sr(s,"onDisconnectEvents");const t=_u(s),i=Ko();Sh(s.onDisconnect_,pe(),(o,c)=>{const h=QE(o,c,s.serverSyncTree_,t);NE(i,o,h)});let l=[];Sh(i,pe(),(o,c)=>{l=l.concat(nr(s.serverSyncTree_,o,c));const h=Ad(s,o);ga(s,h)}),s.onDisconnect_=Ko(),Wt(s.eventQueue_,pe(),l)}function UR(s,t,i){let l;ee(t._path)===".info"?l=Nh(s.infoSyncTree_,t,i):l=Nh(s.serverSyncTree_,t,i),tS(s.eventQueue_,t._path,l)}function zR(s,t,i){let l;ee(t._path)===".info"?l=nu(s.infoSyncTree_,t,i):l=nu(s.serverSyncTree_,t,i),tS(s.eventQueue_,t._path,l)}function HR(s){s.persistentConnection_&&s.persistentConnection_.interrupt(wR)}function sr(s,...t){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),lt(i,...t)}function Oh(s,t,i,l){t&&ba(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let c=o;l&&(c+=": "+l);const h=new Error(c);h.code=o,t(h)}})}function iS(s,t,i){return hd(s.serverSyncTree_,t,i)||K.EMPTY_NODE}function Cd(s,t=s.transactionQueueTree_){if(t||yu(s,t),Ca(t)){const i=aS(s,t);z(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&BR(s,ir(t),i)}else WE(t)&&mu(t,i=>{Cd(s,i)})}function BR(s,t,i){const l=i.map(p=>p.currentWriteId),o=iS(s,t,l);let c=o;const h=o.hash();for(let p=0;p<i.length;p++){const v=i[p];z(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const y=dt(t,v.path);c=c.updateChild(y,v.currentOutputSnapshotRaw)}const m=c.val(!0),g=t;s.server_.put(g.toString(),m,p=>{sr(s,"transaction put response",{path:g.toString(),status:p});let v=[];if(p==="ok"){const y=[];for(let S=0;S<i.length;S++)i[S].status=2,v=v.concat(Ti(s.serverSyncTree_,i[S].currentWriteId)),i[S].onComplete&&y.push(()=>i[S].onComplete(null,!0,i[S].currentOutputSnapshotResolved)),i[S].unwatcher();yu(s,Ed(s.transactionQueueTree_,t)),Cd(s,s.transactionQueueTree_),Wt(s.eventQueue_,t,v);for(let S=0;S<y.length;S++)ba(y[S])}else{if(p==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{mt("transaction at "+g.toString()+" failed: "+p);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=p}ga(s,t)}},h)}function ga(s,t){const i=sS(s,t),l=ir(i),o=aS(s,i);return jR(s,o,l),l}function jR(s,t,i){if(t.length===0)return;const l=[];let o=[];const h=t.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const g=t[m],p=dt(i,g.path);let v=!1,y;if(z(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)v=!0,y=g.abortReason,o=o.concat(Ti(s.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=NR)v=!0,y="maxretry",o=o.concat(Ti(s.serverSyncTree_,g.currentWriteId,!0));else{const S=iS(s,g.path,h);g.currentInputSnapshot=S;const k=t[m].update(S.val());if(k!==void 0){pu("transaction failed: Data returned ",k,g.path);let U=Qe(k);typeof k=="object"&&k!=null&&_n(k,".priority")||(U=U.updatePriority(S.getPriority()));const fe=g.currentWriteId,j=_u(s),he=KE(U,S,j);g.currentOutputSnapshotRaw=U,g.currentOutputSnapshotResolved=he,g.currentWriteId=Td(s),h.splice(h.indexOf(fe),1),o=o.concat(GE(s.serverSyncTree_,g.path,he,g.currentWriteId,g.applyLocally)),o=o.concat(Ti(s.serverSyncTree_,fe,!0))}else v=!0,y="nodata",o=o.concat(Ti(s.serverSyncTree_,g.currentWriteId,!0))}Wt(s.eventQueue_,i,o),o=[],v&&(t[m].status=2,(function(S){setTimeout(S,Math.floor(0))})(t[m].unwatcher),t[m].onComplete&&(y==="nodata"?l.push(()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot)):l.push(()=>t[m].onComplete(new Error(y),!1,null))))}yu(s,s.transactionQueueTree_);for(let m=0;m<l.length;m++)ba(l[m]);Cd(s,s.transactionQueueTree_)}function sS(s,t){let i,l=s.transactionQueueTree_;for(i=ee(t);i!==null&&Ca(l)===void 0;)l=Ed(l,i),t=Ie(t),i=ee(t);return l}function aS(s,t){const i=[];return lS(s,t,i),i.sort((l,o)=>l.order-o.order),i}function lS(s,t,i){const l=Ca(t);if(l)for(let o=0;o<l.length;o++)i.push(l[o]);mu(t,o=>{lS(s,o,i)})}function yu(s,t){const i=Ca(t);if(i){let l=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[l]=i[o],l++);i.length=l,XE(t,i.length>0?i:void 0)}mu(t,l=>{yu(s,l)})}function Ad(s,t){const i=ir(sS(s,t)),l=Ed(s.transactionQueueTree_,t);return dR(l,o=>{sh(s,o)}),sh(s,l),ZE(l,o=>{sh(s,o)}),i}function sh(s,t){const i=Ca(t);if(i){const l=[];let o=[],c=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(z(c===h-1,"All SENT items should be at beginning of queue."),c=h,i[h].status=3,i[h].abortReason="set"):(z(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(Ti(s.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&l.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));c===-1?XE(t,void 0):i.length=c+1,Wt(s.eventQueue_,ir(t),o);for(let h=0;h<l.length;h++)ba(l[h])}}function PR(s){let t="";const i=s.split("/");for(let l=0;l<i.length;l++)if(i[l].length>0){let o=i[l];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function GR(s){const t={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const l=i.split("=");l.length===2?t[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):mt(`Invalid query segment '${i}' in query '${s}'`)}return t}const Ky=function(s,t){const i=qR(s),l=i.namespace;i.domain==="firebase.com"&&Vn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||l==="undefined")&&i.domain!=="localhost"&&Vn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||WA();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new cE(i.host,i.secure,l,o,t,"",l!==i.subdomain),path:new Ne(i.pathString)}},qR=function(s){let t="",i="",l="",o="",c="",h=!0,m="https",g=443;if(typeof s=="string"){let p=s.indexOf("//");p>=0&&(m=s.substring(0,p-1),s=s.substring(p+2));let v=s.indexOf("/");v===-1&&(v=s.length);let y=s.indexOf("?");y===-1&&(y=s.length),t=s.substring(0,Math.min(v,y)),v<y&&(o=PR(s.substring(v,y)));const S=GR(s.substring(Math.min(s.length,y)));p=t.indexOf(":"),p>=0?(h=m==="https"||m==="wss",g=parseInt(t.substring(p+1),10)):p=t.length;const k=t.slice(0,p);if(k.toLowerCase()==="localhost")i="localhost";else if(k.split(".").length<=2)i=k;else{const U=t.indexOf(".");l=t.substring(0,U).toLowerCase(),i=t.substring(U+1),c=l}"ns"in S&&(c=S.ns)}return{host:t,port:g,domain:i,subdomain:l,secure:h,scheme:m,pathString:o,namespace:c}};class VR{constructor(t,i,l,o){this.eventType=t,this.eventRegistration=i,this.snapshot=l,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ke(this.snapshot.exportVal())}}class YR{constructor(t,i,l){this.eventRegistration=t,this.error=i,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class rS{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class wd{constructor(t,i,l,o){this._repo=t,this._path=i,this._queryParams=l,this._orderByCalled=o}get key(){return ae(this._path)?null:$h(this._path)}get ref(){return new Yn(this._repo,this._path)}get _queryIdentifier(){const t=Ly(this._queryParams),i=Xh(t);return i==="{}"?"default":i}get _queryObject(){return Ly(this._queryParams)}isEqual(t){if(t=gt(t),!(t instanceof wd))return!1;const i=this._repo===t._repo,l=ed(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&l&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+xw(this._path)}}class Yn extends wd{constructor(t,i){super(t,i,new sd,!1)}get parent(){const t=vE(this._path);return t===null?null:new Yn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Yl{constructor(t,i,l){this._node=t,this.ref=i,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Ne(t),l=Dh(this.ref,t);return new Yl(this._node.getChild(i),l,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(l,o)=>t(new Yl(o,Dh(this.ref,l),He)))}hasChild(t){const i=new Ne(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ut(s,t){return s=gt(s),s._checkNotDeleted("ref"),t!==void 0?Dh(s._root,t):s._root}function Dh(s,t){return s=gt(s),ee(s._path)===null?bR("child","path",t):$E("child","path",t),new Yn(s._repo,ze(s._path,t))}function ah(s){return eS("remove",s._path),iu(s,null)}function iu(s,t){s=gt(s),eS("set",s._path),vR("set",t,s._path);const i=new Ql;return xR(s._repo,s._path,t,null,i.wrapCallback(()=>{})),i.promise}function na(s,t){SR("update",t,s._path);const i=new Ql;return LR(s._repo,s._path,t,i.wrapCallback(()=>{})),i.promise}function Ih(s){s=gt(s);const t=new rS(()=>{}),i=new vu(t);return MR(s._repo,s,i).then(l=>new Yl(l,new Yn(s._repo,s._path),s._queryParams.getIndex()))}class vu{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const l=i._queryParams.getIndex();return new VR("value",this,new Yl(t.snapshotNode,new Yn(i._repo,i._path),l))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new YR(this,t,i):null}matches(t){return t instanceof vu?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function FR(s,t,i,l,o){const c=new rS(i,void 0),h=new vu(c);return UR(s._repo,s,h),()=>zR(s._repo,s,h)}function QR(s,t,i,l){return FR(s,"value",t)}YN(Yn);WN(Yn);const KR="FIREBASE_DATABASE_EMULATOR_HOST",Mh={};let XR=!1;function WR(s,t,i,l){const o=t.lastIndexOf(":"),c=t.substring(0,o),h=ya(c);s.repoInfo_=new cE(t,h,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),l&&(s.authTokenProvider_=l)}function ZR(s,t,i,l,o){let c=l||s.options.databaseURL;c===void 0&&(s.options.projectId||Vn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),lt("Using default host for project ",s.options.projectId),c=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=Ky(c,o),m=h.repoInfo,g;typeof process<"u"&&gy&&(g=gy[KR]),g?(c=`http://${g}?ns=${m.namespace}`,h=Ky(c,o),m=h.repoInfo):h.repoInfo.secure;const p=new rw(s.name,s.options,t);TR("Invalid Firebase Database URL",h),ae(h.path)||Vn("Database URL must point to the root of a Firebase Database (not including a child path).");const v=$R(m,s,p,new lw(s,i));return new eO(v,s)}function JR(s,t){const i=Mh[t];(!i||i[s.key]!==s)&&Vn(`Database ${t}(${s.repoInfo_}) has already been deleted.`),HR(s),delete i[s.key]}function $R(s,t,i,l){let o=Mh[t.name];o||(o={},Mh[t.name]=o);let c=o[s.toURLString()];return c&&Vn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new RR(s,XR,i,l),o[s.toURLString()]=c,c}class eO{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(OR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yn(this._repo,pe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(JR(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Vn("Cannot call "+t+" on a deleted database.")}}function tO(s=dv(),t){const i=Bh(s,"database").getImmediate({identifier:t});if(!i._instanceStarted){const l=tT("database");l&&nO(i,...l)}return i}function nO(s,t,i,l={}){s=gt(s),s._checkNotDeleted("useEmulator");const o=`${t}:${i}`,c=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&as(l,c.repoInfo_.emulatorOptions))return;Vn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(c.repoInfo_.nodeAdmin)l.mockUserToken&&Vn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new xo(xo.OWNER);else if(l.mockUserToken){const m=typeof l.mockUserToken=="string"?l.mockUserToken:nT(l.mockUserToken,s.app.options.projectId);h=new xo(m)}ya(t)&&(lv(t),rv("Database",!0)),WR(c,o,l,h)}function iO(s){VA(Ea),fa(new ls("database",(t,{instanceIdentifier:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return ZR(l,o,c,i)},"PUBLIC").setMultipleInstances(!0)),wi(_y,yy,s),wi(_y,yy,"esm2020")}Pn.prototype.simpleListen=function(s,t){this.sendRequest("q",{p:s},t)};Pn.prototype.echo=function(s,t){this.sendRequest("echo",{d:s},t)};iO();var sO="firebase",aO="12.7.0";wi(sO,aO,"app");const lO={apiKey:"AIzaSyC5k0oqkZcK093yJCAMKYYmEkLwfE2nTQQ",authDomain:"block-buddies-3cb0b.firebaseapp.com",projectId:"block-buddies-3cb0b",databaseURL:"https://block-buddies-3cb0b-default-rtdb.firebaseio.com",storageBucket:"block-buddies-3cb0b.firebasestorage.app",messagingSenderId:"722527122900",appId:"1:722527122900:web:cece745bd245c5aef29241",measurementId:"G-EWNCSBQS8H"},oS=hv(lO),Cl=GA(oS),ct=tO(oS);class Fl{static async signup(t,i,l){const c=(await w1(Cl,t,i)).user,h={uid:c.uid,email:c.email,displayName:l,createdAt:Date.now(),lastLevel:1};return await iu(ut(ct,`users/${c.uid}`),h),c}static async signin(t,i){return(await N1(Cl,t,i)).user}static async signout(){await I1(Cl)}static getCurrentUser(){return Cl.currentUser}static onAuthStateChanged(t){return D1(Cl,t)}static async getUserProfile(t){const i=ut(ct,`users/${t}`);return(await Ih(i)).val()}static async updateLastLevel(t,i){await na(ut(ct,`users/${t}`),{lastLevel:i})}}function rO({onSuccess:s}){const[t,i]=ye.useState(""),[l,o]=ye.useState(""),[c,h]=ye.useState(""),[m,g]=ye.useState(!1),p=async v=>{v.preventDefault(),h(""),g(!0);try{await Fl.signin(t,l),s()}catch(y){h(y instanceof Error?y.message:"Login failed")}finally{g(!1)}};return R.jsxs("div",{className:"auth-form",children:[R.jsx("h2",{children:"Login"}),c&&R.jsx("div",{className:"error",children:c}),R.jsxs("form",{onSubmit:p,children:[R.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:v=>i(v.target.value),required:!0,disabled:m}),R.jsx("input",{type:"password",placeholder:"Password",value:l,onChange:v=>o(v.target.value),required:!0,disabled:m}),R.jsx("button",{type:"submit",disabled:m,children:m?"Logging in...":"Login"})]})]})}function oO({onSuccess:s}){const[t,i]=ye.useState(""),[l,o]=ye.useState(""),[c,h]=ye.useState(""),[m,g]=ye.useState(""),[p,v]=ye.useState(!1),y=async S=>{S.preventDefault(),g(""),v(!0);try{await Fl.signup(t,l,c),s()}catch(k){g(k instanceof Error?k.message:"Signup failed")}finally{v(!1)}};return R.jsxs("div",{className:"auth-form",children:[R.jsx("h2",{children:"Create Account"}),m&&R.jsx("div",{className:"error",children:m}),R.jsxs("form",{onSubmit:y,children:[R.jsx("input",{type:"text",placeholder:"Display Name",value:c,onChange:S=>h(S.target.value),required:!0,disabled:p}),R.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:S=>i(S.target.value),required:!0,disabled:p}),R.jsx("input",{type:"password",placeholder:"Password (min 6 characters)",value:l,onChange:S=>o(S.target.value),required:!0,disabled:p}),R.jsx("button",{type:"submit",disabled:p,children:p?"Creating account...":"Sign Up"})]})]})}function uO(){const[s,t]=ye.useState(!0);return R.jsx("div",{className:"auth-page",children:R.jsxs("div",{className:"auth-container",children:[R.jsxs("h1",{children:[R.jsx("i",{className:"fas fa-cubes"})," Block Buddies"]}),R.jsx("p",{className:"subtitle",children:"A Multiplayer Puzzle Game"}),s?R.jsxs(R.Fragment,{children:[R.jsx(rO,{onSuccess:()=>{}}),R.jsxs("p",{className:"toggle-text",children:["Don't have an account?"," ",R.jsx("button",{onClick:()=>t(!1),children:"Sign Up"})]})]}):R.jsxs(R.Fragment,{children:[R.jsx(oO,{onSuccess:()=>{}}),R.jsxs("p",{className:"toggle-text",children:["Already have an account?"," ",R.jsx("button",{onClick:()=>t(!0),children:"Login"})]})]})]})})}const at=[];for(let s=0;s<256;++s)at.push((s+256).toString(16).slice(1));function cO(s,t=0){return(at[s[t+0]]+at[s[t+1]]+at[s[t+2]]+at[s[t+3]]+"-"+at[s[t+4]]+at[s[t+5]]+"-"+at[s[t+6]]+at[s[t+7]]+"-"+at[s[t+8]]+at[s[t+9]]+"-"+at[s[t+10]]+at[s[t+11]]+at[s[t+12]]+at[s[t+13]]+at[s[t+14]]+at[s[t+15]]).toLowerCase()}let lh;const fO=new Uint8Array(16);function hO(){if(!lh){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");lh=crypto.getRandomValues.bind(crypto)}return lh(fO)}const dO=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Xy={randomUUID:dO};function mO(s,t,i){s=s||{};const l=s.random??s.rng?.()??hO();if(l.length<16)throw new Error("Random bytes length must be >= 16");return l[6]=l[6]&15|64,l[8]=l[8]&63|128,cO(l)}function Wy(s,t,i){return Xy.randomUUID&&!s?Xy.randomUUID():mO(s)}const rh=["#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8","#F7DC6F"];class Kt{static async createGame(t,i,l=1){const o=Wy(),h={id:o,creatorUid:t,levelNumber:l,gridSize:15,players:{[t]:{id:t,uid:t,email:i,x:0,y:0,color:rh[0]}},gameObjects:{},status:"waiting",createdAt:Date.now()};return await iu(ut(ct,`games/${o}`),h),o}static async joinGame(t,i,l){const o=ut(ct,`games/${t}`),h=(await Ih(o)).val();if(!h)throw new Error("Game not found");if(Object.keys(h.players).length>=6)throw new Error("Game is full");const m=Object.keys(h.players).length,g={id:i,uid:i,email:l,x:m,y:0,color:rh[m%rh.length]};await na(ut(ct,`games/${t}/players/${i}`),g)}static async updatePlayerPosition(t,i,l,o){await na(ut(ct,`games/${t}/players/${i}`),{x:l,y:o})}static async addGameObject(t,i,l,o,c){const h=Wy(),m={id:h,type:i,x:l,y:o,obstacleType:c};await iu(ut(ct,`games/${t}/gameObjects/${h}`),m)}static async moveGameObject(t,i,l,o){await na(ut(ct,`games/${t}/gameObjects/${i}`),{x:l,y:o})}static async removeGameObject(t,i){await ah(ut(ct,`games/${t}/gameObjects/${i}`))}static async getGameState(t){return(await Ih(ut(ct,`games/${t}`))).val()}static listenToGameState(t,i){return QR(ut(ct,`games/${t}`),l=>{l.exists()&&i(l.val())})}static async updateGameLevel(t,i){await na(ut(ct,`games/${t}`),{levelNumber:i})}static async updateGameStatus(t,i){await na(ut(ct,`games/${t}`),{status:i})}static async leaveGame(t,i){await ah(ut(ct,`games/${t}/players/${i}`))}static async deleteGame(t){await ah(ut(ct,`games/${t}`))}}function pO({onCreateGame:s,onJoinGame:t}){const i=bi(U=>U.user),[l,o]=ye.useState(1),[c,h]=ye.useState(""),[m,g]=ye.useState(""),[p,v]=ye.useState(!1);ye.useEffect(()=>{i&&Fl.getUserProfile(i.uid).then(U=>{U&&o(U.lastLevel)})},[i]);const y=async()=>{if(i){v(!0);try{const U=await Kt.createGame(i.uid,i.email||"",l);s(U)}catch(U){g(U instanceof Error?U.message:"Failed to create game")}finally{v(!1)}}},S=async()=>{if(!i||!c.trim()){g("Please enter a game code");return}v(!0);try{await Kt.joinGame(c,i.uid,i.email||""),t(c)}catch(U){g(U instanceof Error?U.message:"Failed to join game")}finally{v(!1)}},k=async()=>{try{await Fl.signout(),bi.setState({user:null})}catch(U){g(U instanceof Error?U.message:"Logout failed")}};return R.jsx("div",{className:"main-menu",children:R.jsxs("div",{className:"menu-container",children:[R.jsxs("h1",{children:[R.jsx("i",{className:"fas fa-cubes"})," Block Buddies"]}),R.jsxs("div",{className:"user-info",children:[R.jsxs("p",{children:[R.jsx("i",{className:"fas fa-user"})," ",i?.email]}),R.jsxs("p",{children:["Resume from Level ",l]})]}),m&&R.jsx("div",{className:"error",children:m}),R.jsxs("div",{className:"menu-actions",children:[R.jsxs("div",{className:"action-group",children:[R.jsx("h3",{children:"Create New Game"}),R.jsxs("button",{onClick:y,disabled:p,className:"btn-primary",children:[R.jsx("i",{className:"fas fa-plus"})," Create Game"]})]}),R.jsxs("div",{className:"action-group",children:[R.jsx("h3",{children:"Join Existing Game"}),R.jsx("input",{type:"text",placeholder:"Enter game code",value:c,onChange:U=>h(U.target.value),disabled:p}),R.jsxs("button",{onClick:S,disabled:p,className:"btn-primary",children:[R.jsx("i",{className:"fas fa-sign-in-alt"})," Join Game"]})]})]}),R.jsxs("button",{onClick:k,disabled:p,className:"btn-logout",children:[R.jsx("i",{className:"fas fa-sign-out-alt"})," Logout"]})]})})}const Ro=15,mn=30;function gO({gameId:s,onGameEnd:t}){const i=bi(j=>j.user),l=ss(j=>j.gameState),o=ss(j=>j.setGameState),[c,h]=ye.useState({}),[m,g]=ye.useState({}),[p,v]=ye.useState(null),[y,S]=ye.useState("");ye.useEffect(()=>{const j=Kt.listenToGameState(s,he=>{if(o(he),h(he.players),g(he.gameObjects),i){const ce=he.players[i.uid];ce&&v(ce)}});return()=>j()},[s,i,o]),ye.useEffect(()=>{const j=he=>{if(!p||!i)return;let ce=p.x,Se=p.y;switch(he.key.toLowerCase()){case"arrowup":case"w":Se=Math.max(0,p.y-1),he.preventDefault();break;case"arrowdown":case"s":Se=Math.min(Ro-1,p.y+1),he.preventDefault();break;case"arrowleft":case"a":ce=Math.max(0,p.x-1),he.preventDefault();break;case"arrowright":case"d":ce=Math.min(Ro-1,p.x+1),he.preventDefault();break;default:return}Object.values(c).some($e=>$e.x===ce&&$e.y===Se)||(Kt.updatePlayerPosition(s,i.uid,ce,Se),k(ce,Se))};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[p,c,i,s]);const k=(j,he)=>{Object.values(m).find(Se=>Se.type==="exit"&&Se.x===j&&Se.y===he)&&(S(" Level Complete! Moving to next level..."),setTimeout(()=>{if(i){const Se=(l?.levelNumber||1)+1;Kt.updateGameLevel(s,Se),Kt.updatePlayerPosition(s,i.uid,0,0),S("")}},2e3))},U=()=>{i&&(Kt.leaveGame(s,i.uid),t())},Y=Ro*mn,fe=Ro*mn;return R.jsxs("div",{className:"game-container",children:[R.jsxs("div",{className:"game-header",children:[R.jsxs("h2",{children:["Level ",l?.levelNumber||1]}),R.jsxs("div",{className:"game-info",children:[R.jsxs("span",{children:[R.jsx("i",{className:"fas fa-users"})," Players: ",Object.keys(c).length,"/6"]}),R.jsxs("span",{children:[R.jsx("i",{className:"fas fa-gamepad"})," Game Code: ",s.substring(0,8).toUpperCase()]})]})]}),y&&R.jsx("div",{className:"game-message",children:y}),R.jsx("div",{className:"game-canvas-wrapper",children:R.jsxs("div",{className:"game-canvas",style:{width:`${Y}px`,height:`${fe}px`},children:[R.jsx("div",{className:"grid-background"}),Object.values(m).map(j=>R.jsxs("div",{className:`game-object ${j.type}`,style:{left:`${j.x*mn}px`,top:`${j.y*mn}px`,width:`${mn}px`,height:`${mn}px`},children:[j.type==="rock"&&R.jsx("i",{className:"fas fa-cube"}),j.type==="exit"&&R.jsx("i",{className:"fas fa-door-open"}),j.type==="obstacle"&&R.jsxs("span",{title:j.obstacleType,children:[j.obstacleType==="river"&&R.jsx("i",{className:"fas fa-water"}),j.obstacleType==="lava"&&R.jsx("i",{className:"fas fa-fire"}),j.obstacleType==="wind"&&R.jsx("i",{className:"fas fa-wind"})]})]},j.id)),Object.values(c).map(j=>R.jsx("div",{className:`player ${j.id===i?.uid?"current":""}`,style:{left:`${j.x*mn}px`,top:`${j.y*mn}px`,width:`${mn}px`,height:`${mn}px`,backgroundColor:j.color},title:j.email,children:R.jsx("span",{className:"player-label",children:j.email.charAt(0).toUpperCase()})},j.id))]})}),R.jsxs("div",{className:"game-controls",children:[R.jsxs("p",{className:"controls-text",children:[R.jsx("i",{className:"fas fa-arrow-keys"})," Use Arrow Keys or WASD to move"]}),R.jsxs("button",{onClick:U,className:"btn-leave",children:[R.jsx("i",{className:"fas fa-sign-out-alt"})," Leave Game"]})]}),R.jsxs("div",{className:"players-list",children:[R.jsx("h3",{children:"Players"}),Object.values(c).map(j=>R.jsxs("div",{className:"player-item",children:[R.jsx("div",{className:"player-color",style:{backgroundColor:j.color}}),R.jsx("span",{children:j.email}),j.id===i?.uid&&R.jsx("span",{className:"you-badge",children:"YOU"})]},j.id))]})]})}const ta=15,Zy=30;function _O({gameId:s,onStart:t}){const[i,l]=ye.useState("rock"),[o,c]=ye.useState(Array(ta).fill(null).map(()=>Array(ta).fill("empty"))),h=(p,v)=>{const y=o.map(S=>[...S]);y[v][p]=i,c(y)},m=()=>{c(Array(ta).fill(null).map(()=>Array(ta).fill("empty")))},g=async()=>{try{for(let p=0;p<ta;p++)for(let v=0;v<ta;v++){const y=o[p][v];y==="rock"?await Kt.addGameObject(s,"rock",v,p):y==="exit"?await Kt.addGameObject(s,"exit",v,p):(y==="river"||y==="lava"||y==="wind")&&await Kt.addGameObject(s,"obstacle",v,p,y)}await Kt.updateGameStatus(s,"active"),t()}catch(p){console.error("Failed to start game:",p)}};return R.jsxs("div",{className:"level-designer",children:[R.jsx("h2",{children:"Design Level"}),R.jsx("div",{className:"designer-tools",children:R.jsxs("div",{className:"tile-selector",children:[R.jsx("h3",{children:"Tiles"}),R.jsxs("button",{className:i==="empty"?"active":"",onClick:()=>l("empty"),children:[R.jsx("i",{className:"fas fa-eraser"})," Empty"]}),R.jsxs("button",{className:i==="rock"?"active":"",onClick:()=>l("rock"),children:[R.jsx("i",{className:"fas fa-cube"})," Rock"]}),R.jsxs("button",{className:i==="exit"?"active":"",onClick:()=>l("exit"),children:[R.jsx("i",{className:"fas fa-door-open"})," Exit"]}),R.jsxs("button",{className:i==="river"?"active":"",onClick:()=>l("river"),children:[R.jsx("i",{className:"fas fa-water"})," River"]}),R.jsxs("button",{className:i==="lava"?"active":"",onClick:()=>l("lava"),children:[R.jsx("i",{className:"fas fa-fire"})," Lava"]}),R.jsxs("button",{className:i==="wind"?"active":"",onClick:()=>l("wind"),children:[R.jsx("i",{className:"fas fa-wind"})," Wind"]})]})}),R.jsx("div",{className:"level-grid",children:o.map((p,v)=>p.map((y,S)=>R.jsxs("div",{className:`grid-cell ${y}`,style:{width:`${Zy}px`,height:`${Zy}px`},onClick:()=>h(S,v),title:`${S}, ${v}`,children:[y==="rock"&&R.jsx("i",{className:"fas fa-cube"}),y==="exit"&&R.jsx("i",{className:"fas fa-door-open"}),y==="river"&&R.jsx("i",{className:"fas fa-water"}),y==="lava"&&R.jsx("i",{className:"fas fa-fire"}),y==="wind"&&R.jsx("i",{className:"fas fa-wind"})]},`${S}-${v}`)))}),R.jsxs("div",{className:"designer-actions",children:[R.jsxs("button",{onClick:m,className:"btn-secondary",children:[R.jsx("i",{className:"fas fa-redo"})," Clear"]}),R.jsxs("button",{onClick:g,className:"btn-primary",children:[R.jsx("i",{className:"fas fa-play"})," Start Game"]})]})]})}function yO({gameId:s,onLeave:t}){const i=bi(y=>y.user),l=ss(y=>y.gameState),o=ss(y=>y.setGameState),[c,h]=ye.useState(!1),[m,g]=ye.useState(!1),[p,v]=ye.useState(!0);return ye.useEffect(()=>{const y=Kt.listenToGameState(s,S=>{o(S),i&&S.creatorUid===i.uid&&h(!0),S.status==="active"&&g(!0),v(!1)});return()=>y()},[s,i,o]),p?R.jsxs("div",{className:"game-room loading",children:[R.jsx("div",{className:"spinner"}),R.jsx("p",{children:"Loading game..."})]}):l?R.jsx("div",{className:"game-room",children:l.status==="waiting"&&!m?R.jsxs("div",{className:"game-lobby",children:[R.jsx("h2",{children:"Game Lobby"}),R.jsxs("div",{className:"lobby-info",children:[R.jsxs("p",{className:"game-code",children:["Game Code: ",R.jsx("strong",{children:s.substring(0,12).toUpperCase()})]}),R.jsx("p",{className:"game-code-subtitle",children:"Share this code with other players"}),R.jsxs("div",{className:"players-in-lobby",children:[R.jsxs("h3",{children:["Players (",Object.keys(l.players).length,"/6)"]}),Object.values(l.players).map(y=>R.jsxs("div",{className:"lobby-player",children:[R.jsx("div",{className:"player-dot",style:{backgroundColor:y.color}}),R.jsx("span",{children:y.email}),y.id===l.creatorUid&&R.jsx("span",{className:"creator-badge",children:"Creator"})]},y.id))]}),c&&R.jsx("div",{className:"creator-section",children:R.jsx("p",{className:"creator-note",children:"You are the game creator"})})]}),c?R.jsx(_O,{gameId:s,onStart:()=>g(!0)}):R.jsxs("div",{className:"waiting-for-creator",children:[R.jsx("i",{className:"fas fa-hourglass-half"}),R.jsx("p",{children:"Waiting for the game creator to start the game..."})]})]}):R.jsx(gO,{gameId:s,onGameEnd:t})}):R.jsxs("div",{className:"game-room error",children:[R.jsx("p",{children:"Game not found"}),R.jsx("button",{onClick:t,children:"Back to Menu"})]})}function vO(){const s=bi(m=>m.user),t=bi(m=>m.userLoading),i=bi(m=>m.setUser),l=bi(m=>m.setUserLoading),o=ss(m=>m.gameId),c=ss(m=>m.setGameId),h=ss(m=>m.reset);return ye.useEffect(()=>{const m=Fl.onAuthStateChanged(g=>{i(g),l(!1)});return()=>m()},[i,l]),t?R.jsxs("div",{className:"loading-screen",children:[R.jsx("div",{className:"spinner"}),R.jsx("p",{children:"Block Buddies"})]}):s?o?R.jsx(yO,{gameId:o,onLeave:()=>{h(),c(null)}}):R.jsx(pO,{onCreateGame:m=>c(m),onJoinGame:m=>c(m)}):R.jsx(uO,{})}G0.createRoot(document.getElementById("root")).render(R.jsx(ye.StrictMode,{children:R.jsx(vO,{})}));
